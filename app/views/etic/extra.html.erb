<div id="loading"></div>
<!-- Warnings -->
<%= render 'diafora/warning' %>
<!-- end warning -->

<div class="container big_container">
  <div class="row">
    <div class="col-xs-6 Left_main_panel">
      <div class="row LEFT_BAR_SHOW">
        <div class="col-xs-12">
          <button class="category_buttons Cat_button_show">
            <span class="glyphicon glyphicon-plus"></span>            
          </button>
        </div>
      </div>
      <div class="row LEFT_BAR">
        <div class="col-xs-12">
          <button class="category_buttons Cat_button_1 Cat_active">
            <span class="glyphicon glyphicon-chevron-left"></span>            
            <%= t('translate.Elements') %>
          </button>

          <div class="row first_panel">
            <div class="col-xs-2 left_panel_first" >
              <!--Left tab Home-->
              <div id="tab_home" class="left_tab tab_left_active">
                <div class="left_tab_gly">
                  <%= image_tag("mine_icons/open_cat.png") %>
                </div>
                <div class="left_tab_header">
                  <p><%= t('translate.Open_category') %></p>
                </div>
              </div>
              <!--Left tab Material-->
              <div id="tab_material" class="left_tab">
                <div class="left_tab_gly">
                  <%= image_tag("mine_icons/material.png") %>
                </div>
                <div class="left_tab_header">
                  <p><%= t('translate.Profile_systems') %></p>
                </div>
              </div>
              <!--Left tab Color-->
              <div id="tab_color" class="left_tab">
                <div class="left_tab_gly">
                  <%= image_tag("mine_icons/color.png") %>
                </div>
                <div class="left_tab_header">
                  <p><%= t('translate.Color') %></p>
                </div>
              </div>
              <!--Left tab Glass-->
              <div id="tab_glass" class="left_tab">
                <div class="left_tab_gly">
                  <%= image_tag("mine_icons/glass.png") %>
                </div>
                <div class="left_tab_header">
                  <p><%= t('translate.Glass') %></p>
                </div>
              </div>
              <!--Left tab Leaf-->
              <div id="tab_leaf" class="left_tab">
                <div class="left_tab_gly">
                  <span class="glyphicon glyphicon-th-large"></span>
                </div>
                <div class="left_tab_header">
                  <p><%= t('translate.Leaf') %></p>
                </div>
              </div>
              <!--Left tab Open type-->
              <div id="tab_open_type" class="left_tab">
                <div class="left_tab_gly">
                  <%= image_tag("mine_icons/open_type.png") %>
                  <!--<span class="glyphicon glyphicon-transfer"></span>-->
                </div>
                <div class="left_tab_header">
                  <p><%= t('translate.Open_type') %></p>
                </div>
              </div>
              <!--Left tab Dimensions-->
              <div id="tab_dimensions" class="left_tab">
                <div class="left_tab_gly">
                  <span class="glyphicon glyphicon-fullscreen"></span>
                </div>
                <div class="left_tab_header">
                  <p><%= t('translate.Dimensions') %></p>
                </div>
              </div>
              
            </div>
			<!-- onmouseover="document.body.style.overflow='hidden';" onmouseout="document.body.style.overflow='auto';" -->
            <div class="col-xs-10 right_panel_first">
              <form id="myForm">
                <div class="Open_Category tab_home tab_right">
                  <div class="row">
                    <div class="col-xs-12">
                      <label id="next_1" class="label_tab_top_next"><%= t('translate.Next') %></label>
                    </div>
                  </div>
                  <hr>
                  <div class="scroll_to_leaf">
                  <% @cat_anoigmatos.each do |c| %>
                    <label class="<%= c.id %> cat_anoi" id="<%= t "kouf."<<c.name %>">
                      <input type="radio" id="<%= c.name %>" name="cat_an">
                      <div class="cat_img">
                        <p class="epanw_p"><%= t "kouf."<<c.name %></p>
                        <!--
                        <a data-toggle="popover" title="<b><%= t "kouf."<<c.name %><b>" data-content="<b>This is</b> an image of open type: <%= t "kouf."<<c.name %><br> <img src='/assets/<%= c.image %>''>"  data-html="true" class="bstooltip">-->
                          <%= image_tag(c.image, :class => "img_cat_anoi") %>
                        <!--</a>-->
                      </div>
                    </label>
                  <% end %>
                </div>
                <hr>
                </div><!--Open Category-->

                <div class="Material tab_material tab_right">
                  <div class="row">
                    <div class="col-xs-12">
                      <label id="material_1" class="label_tab_top active"><%= t('translate.Profile_systems') %></label>
                      <label id="material_2" class="label_tab_top"><%= t('translate.Constructor') %></label>
                      <label id="material_3" class="label_tab_top"><%= t('translate.System_A') %></label>
                      <label id="material_4" class="label_tab_top"><%= t('translate.System_B') %></label>
                    </div>
                  </div>
                  <hr>
                  <!-- Τιτλος 2 με ποποβερ -->
                  <div class="uliko">
                    <div class="material_1 label_tab_bottom">
                      <div class="row">
                        <div class="col-xs-12">
                          <label id="back_2" class="label_tab_top_next"><%= t('translate.Back') %></label>
                          <label id="next_2" class="label_tab_top_next"><%= t('translate.Next') %></label>
                        </div>
                      </div>
                      <hr>
                      <h5><%= t('translate.Profile_systems') %></h5>
                      <% @uliko.each do |u| %>
                        <!--<a data-toggle="popover" title="<b><%= u.name %><b>" data-content="<div><b>This is</b> an image of material: <%= u.name %></div><br> <img src='/assets/<%= u.image %>'>" data-placement='bottom' popover-append-to-body='true'  data-html="true" class="bstooltip">-->
                          <input class="material hide_radio" type="radio" id="<%= u.id %>" name="cat_mat">
                          <label for="<%= u.id %>"><%= u.name %></label>
                        <!--</a>-->
                        <br>
                      <% end %>
                    </div>
                    <div class="material_2 label_tab_bottom">
                      <!--class Κατασκευαστες-->
                      <div class="kataskevastes_katw">
                        <div class="row">
                          <div class="col-xs-12">
                            <label id="back_3" class="label_tab_top_next"><%= t('translate.Back') %></label>
                            <label id="next_3" class="label_tab_top_next"><%= t('translate.Next') %></label>
                          </div>
                        </div>
                        <hr>
                        <div class="kataskevastes" id="kata"> 
                        </div>
                      </div>
                    </div>

                    <div class="material_3 label_tab_bottom">
                      <div class="row">
                          <div class="col-xs-12">
                            <label id="back_4" class="label_tab_top_next"><%= t('translate.Back') %></label>
                            <label id="next_4" class="label_tab_top_next"><%= t('translate.Next') %></label>
                          </div>
                        </div>
                        <hr>
                      <!--Class συστήματα--> 
                      <div class="systems_katw">
                        <div class="systems" id="system">
                        </div>
                      </div>

                    </div>

                    <div class="material_4 label_tab_bottom">
                      <div class="row">
                          <div class="col-xs-12">
                            <label id="back_5" class="label_tab_top_next"><%= t('translate.Back') %></label>
                            <label id="next_5" class="label_tab_top_next"><%= t('translate.Next') %></label>
                          </div>
                        </div>
                        <hr>
                      <!--Class σειρες-->
                      <div id="loading_system"> 
                      </div>
                      <div class="lines_katw">
                        <div class="lines" id="lines">  
                        </div>
                      </div><br>
                    </div>

                  </div><!--end class uliko-->
                  <hr>
                </div><!--Material-->

                <div class="Color tab_color tab_right">
                  <div class="row">
                    <div class="col-xs-12">
                      <label id="color_0" class="label_tab_top active"><%= t('translate.Inside_color') %> - <%= t('translate.Outside_color') %></label>
                      <label id="color_1" class="label_tab_top"><%= t('translate.Inside_color') %></label>
                      <label id="color_2" class="label_tab_top"><%= t('translate.Outside_color') %></label>
                    </div>
                  </div>
                  <hr>

                  <div class="Color">
                    <div class="color_0 label_tab_bottom">
                      <div class="row">
                          <div class="col-xs-12">
                            <label id="back_6" class="label_tab_top_next"><%= t('translate.Back') %></label>
                            <label id="next_6" class="label_tab_top_next"><%= t('translate.Next') %></label>
                          </div>
                        </div>
                        <hr>
                      <!-- Χρώματα μέσα -->
                      <div class="xrwmata_mesa_eksw_new">
                        <h5 class="xrwmata_title_color"><%= t('translate.Inside_color') %> - <%= t('translate.Outside_color') %></h5>
                        <!-- Κατηγορία Α -->
                        <div class="katigoria_xrwmatos_m_e_A">
                          <% @color_A.each do |c| %>
                            <!--<a data-toggle="popover" title="<%= c.name %>" data-content="<img src='/assets/<%= c.image %>'>" data-placement='bottom' popover-append-to-body='true'  data-html="true" class="bstooltip">-->
                              <div class="xrwma xrwma_new_1">
                                <div class=""><h5 class="tipos_name"><%= c.name %></h5></div>
                                <img src="/assets/<%= c.image%>" class="color_m_e" id="<%= c.name %>" >
                                <span id="<%= c.code %>"></span>
                              </div>
                            <!--</a>-->
                          <% end %><!--End each-->
                        </div>
                        <!-- Κατηγορία Β -->
                        <div class="katigoria_xrwmatos_m_e_B">
                          <% @color_B.each do |c| %>
                            <!--<a data-toggle="popover" title="<%= c.name %>" data-content="<img src='/assets/<%= c.image %>'>" data-placement='bottom' popover-append-to-body='true'  data-html="true" class="bstooltip">-->
                              <div class="xrwma xrwma_new_2">
                                <div class=""><h5 class="tipos_name"><%= c.name %></h5></div>
                                <img src="/assets/<%= c.image%>" class="color_m_e" id="<%= c.name %>" >
                                <span id="<%= c.code %>"></span>
                              </div>
                            <!--</a>-->
                          <% end %><!--End each-->
                        </div>
                        <!-- Κατηγορία C -->
                        <div class="katigoria_xrwmatos_m_e_C">
                          <% @color_C.each do |c| %>
                            <!--<a data-toggle="popover" title="<%= c.name %>" data-content="<img src='/assets/<%= c.image %>'>" data-placement='bottom' popover-append-to-body='true'  data-html="true" class="bstooltip">-->
                              <div class="xrwma xrwma_new_3">
                                <div class=""><h5 class="tipos_name"><%= c.name %></h5></div>
                                <img src="/assets/<%= c.image%>" class="color_m_e" id="<%= c.name %>" >
                                <span id="<%= c.code %>"></span>
                              </div>
                            <!--</a>-->
                          <% end %><!--End each-->
                        </div>
                      </div><!-- End χρώματα μέσα -->
                    </div><!--Color_1 end-->
                    <div class="color_1 label_tab_bottom">
                      <!-- Χρώματα μέσα -->
                      <div class="xrwmata_mesa_new">
                        <h5 class="xrwmata_title_color"><%= t('translate.Inside_color') %></h5>
                        <!-- Κατηγορία Α -->
                        <div class="katigoria_xrwmatos_A">
                          <% @color_A.each do |c| %>
                            <!--<a data-toggle="popover" title="<%= c.name %>" data-content="<img src='/assets/<%= c.image %>'>" data-placement='bottom' popover-append-to-body='true'  data-html="true" class="bstooltip">-->
                              <div class="xrwma xrwma_new_1">
                                <div class=""><h5 class="tipos_name"><%= c.name %></h5></div>
                                <img src="/assets/<%= c.image%>" class="color" id="<%= c.name %>" >
                                <span id="<%= c.code %>"></span>
                              </div>
                            <!--</a>-->
                          <% end %><!--End each-->
                        </div>
                        <!-- Κατηγορία Β -->
                        <div class="katigoria_xrwmatos_B">
                          <% @color_B.each do |c| %>
                            <!--<a data-toggle="popover" title="<%= c.name %>" data-content="<img src='/assets/<%= c.image %>'>" data-placement='bottom' popover-append-to-body='true'  data-html="true" class="bstooltip">-->
                              <div class="xrwma xrwma_new_2">
                                <div class=""><h5 class="tipos_name"><%= c.name %></h5></div>
                                <img src="/assets/<%= c.image%>" class="color" id="<%= c.name %>" >
                                <span id="<%= c.code %>"></span>
                              </div>
                            <!--</a>-->
                          <% end %><!--End each-->
                        </div>
                        <!-- Κατηγορία C -->
                        <div class="katigoria_xrwmatos_C">
                          <% @color_C.each do |c| %>
                            <!--<a data-toggle="popover" title="<%= c.name %>" data-content="<img src='/assets/<%= c.image %>'>" data-placement='bottom' popover-append-to-body='true'  data-html="true" class="bstooltip">-->
                              <div class="xrwma xrwma_new_3">
                                <div class=""><h5 class="tipos_name"><%= c.name %></h5></div>
                                <img src="/assets/<%= c.image%>" class="color" id="<%= c.name %>" >
                                <span id="<%= c.code %>"></span>
                              </div>
                            <!--</a>-->
                          <% end %><!--End each-->
                        </div>
                      </div><!-- End χρώματα μέσα -->
                    </div><!--Color_1 end-->
                    <div class="color_2 label_tab_bottom">
                      <!-- Χρώματα έξω -->
                      <div class="xrwmata_eksw_new">
                        <h5 class="xrwmata_title_color"><%= t('translate.Outside_color') %></h5>
                        <!-- Κατηγορία Α -->
                        <div class="katigoria_xrwmatos_ekso_A">
                          <% @color_A.each do |c| %>
                            <!--<a data-toggle="popover" title="<%= c.name %>" data-content="<img src='/assets/<%= c.image %>'>" data-placement='bottom' popover-append-to-body='true'  data-html="true" class="bstooltip">-->
                              <div class="xrwma xrwma_new_1">
                                <div class=""><h5 class="tipos_name"><%= c.name %></h5></div>
                                <img src="/assets/<%= c.image%>" class="color_eksw" id="<%= c.name %>" >
                                <span id="<%= c.code %>"></span>
                              </div>
                            <!--</a>-->
                          <% end %><!--End each-->
                        </div>
                        <!-- Κατηγορία Β -->
                        <div class="katigoria_xrwmatos_ekso_B">
                          <% @color_B.each do |c| %>
                            <!--<a data-toggle="popover" title="<%= c.name %>" data-content="<img src='/assets/<%= c.image %>'>" data-placement='bottom' popover-append-to-body='true'  data-html="true" class="bstooltip">-->
                              <div class="xrwma xrwma_new_2">
                                <div class=""><h5 class="tipos_name"><%= c.name %></h5></div>
                                <img src="/assets/<%= c.image%>" class="color_eksw" id="<%= c.name %>" >
                                <span id="<%= c.code %>"></span>
                              </div>
                            <!--</a>-->
                          <% end %><!--End each-->
                        </div>
                        <!-- Κατηγορία C -->
                        <div class="katigoria_xrwmatos_ekso_C">
                          <% @color_C.each do |c| %>
                            <!--<a data-toggle="popover" title="<%= c.name %>" data-content="<img src='/assets/<%= c.image %>'>" data-placement='bottom' popover-append-to-body='true'  data-html="true" class="bstooltip">-->
                              <div class="xrwma xrwma_new_3">
                                <div class=""><h5 class="tipos_name"><%= c.name %></h5></div>
                                <img src="/assets/<%= c.image%>" class="color_eksw" id="<%= c.name %>" >
                                <span id="<%= c.code %>"></span>
                              </div>
                            <!--</a>-->
                          <% end %><!--End each-->
                        </div>
                      </div><!-- End χρώματα έξω -->
                    </div><!--End color_2-->

                  </div><!--end class color-->
                  <hr>
                </div><!--Color-->

                <!--GLASS-->
                <div class="Glass tab_glass tab_right">
                  <div class="row">
                    <div class="col-xs-12">
                      <label id="glass_0" class="label_tab_top active"><%= t('translate.Inside_Outside_glass') %></label>
                      <label id="glass_1" class="label_tab_top"><%= t('translate.Inside_glass') %></label>
                      <label id="glass_2" class="label_tab_top"><%= t('translate.Outside_glass') %></label>
                      <label id="glass_3" class="label_tab_top"><%= t('translate.Panel') %></label>
                    </div>
                  </div>
                  <hr>

                  <!-- Τζαμια μέσα έξω-->
                  <div class="glass_0 label_tab_bottom">
                    <div class="row">
                          <div class="col-xs-12">
                            <label id="back_7" class="label_tab_top_next"><%= t('translate.Back') %></label>
                            <label id="go_glass_1" class="go_glass_1 label_tab_top_next"><%= t('translate.Next') %></label>
							               <label id="next_7" style="float:right" class="next_7 label_tab_top_next"><%= t('translate.ContinueToNextStep') %></label>
                          </div>
                        </div>
                        <hr>
                    <div style="">
                      <div class="click_tzamia0"> 
                        <div class="extra ">
                          <!-- Κατηγοριες -->
                          <div class="row">
                            <div class="col-xs-4" >
                              <div class="tzamia_fl0">
                                  <h5><%= t('translate.Inside_Outside_glass') %></h5>
                                  <% @cat_tzamia0.each do |za| %>
                                    <a  style="text-decoration: none; color:black;">
                                      <label class="cat_tzamia0" id="<%= za.id %>" style="display:block;"><%= za.name %></label>
                                    </a>
                                  <% end %><!--End each-->
                              </div><!-- Κατηγοριες end --> 
                            </div>
                            <div class="col-xs-8" >
                              <!-- Τζαμια με ajax -->
                              <div class="tzamia0 kath_tzam0" id="tzamia0">
                              </div>
                            </div>
                          </div>
                          
                        
                        </div><!-- end extra -->
                      </div> <!--End click tzamia-->
                    </div><!-- end Τζαμια -->
                    <hr>
                  </div>

                  <!-- Τζαμια μέσα-->
                  <div class="glass_1 label_tab_bottom">
                      <div class="row">
                            <div class="col-xs-12">
                              <label id="go_glass_0" class="label_tab_top_next"><%= t('translate.Back') %></label>
                              <label id="go_glass_2" class="label_tab_top_next"><%= t('translate.Next') %></label>
							               <label id="next_7" style="float:right" class="next_7 label_tab_top_next"><%= t('translate.ContinueToNextStep') %></label>
                            </div>
                          </div>
                          <hr>
                    <div style="">
                      <div class="click_tzamia2"> 
                        <div class="extra ">
                          <!-- Κατηγοριες -->
                          <div class="row">
                            <div class="col-xs-4" >
                              <div class="tzamia_fl2">
                                  <h5><%= t('translate.Inside_glass') %></h5>
                                  <% @cat_tzamia1.each do |za| %>
                                    <a  style="text-decoration: none; color:black;">
                                      <label class="cat_tzamia2" id="<%= za.id %>" style="display:block;"><%= za.name %></label>
                                    </a>
                                  <% end %><!--End each-->
                              </div><!-- Κατηγοριες end --> 
                            </div>
                            <div class="col-xs-8" >
                              <!-- Τζαμια με ajax -->
                              <div class="tzamia2 kath_tzam2" id="tzamia2">
                              </div>
                            </div>
                          </div>
                          
                        
                        </div><!-- end extra -->
                      </div> <!--End click tzamia-->
                    </div><!-- end Τζαμια -->
                    <hr>
                  </div>
                  
                  <!-- Τζαμια έξω -->
                  <div class="glass_2 label_tab_bottom">
                    <div class="row">
                          <div class="col-xs-12">
                            <label id="go_glass_1" class="go_glass_1 label_tab_top_next"><%= t('translate.Back') %></label>
                            <label id="next_to_panels" class="label_tab_top_next"><%= t('translate.Next') %></label>
						                 <label id="next_7" style="float:right" class="next_7 label_tab_top_next"><%= t('translate.ContinueToNextStep') %></label>
                          </div>
                        </div>
                        <hr>
                    <div style="">
                      <div class="click_tzamia"> 
                        <div class="extra ">
                          <!-- Κατηγοριες -->
                          <div class="row">
                            <div class="col-xs-4" >
                              <div class="tzamia_fl">
                                <h5><%= t('translate.Outside_glass') %></h5>
                                <% @cat_tzamia2.each do |z| %>
                                  <a  style="text-decoration: none; color:black;">
                                    <label id="<%= z.id %>" class="cat_tzamia" style="display:block;"><%= z.name %></label>
                                  </a>
                                <% end %><!--End each-->
                              </div>
                            </div>
                            <div class="col-xs-8" >
                              <!-- Τζαμια 2 με ajax -->
                              <div class="tzamia kath_tzam" id="tzamia1">
                              </div>
                            </div>
                          </div>
                          
                        </div><!-- End extra -->
                      </div> <!--click_tzamia-->
                    </div><!-- end Τζαμια 2 -->
                    <hr>
                  </div>
				  
                  <!-- Panel -->
                  <div class="glass_3 label_tab_bottom">
                      <div class="row">
                        <div class="col-xs-12">
                          <label id="go_glass_2" class="go_glass_2 label_tab_top_next"><%= t('translate.Back') %></label>
                          <label id="next_7" class="label_tab_top_next"><%= t('translate.Next') %></label>
                          <label id="next_7" style="float:right" class="next_7 label_tab_top_next"><%= t('translate.ContinueToNextStep') %></label>
                        </div>
                      </div>
                      <hr>
                      <div class=""> 
                        <div class="extra ">
                          <!-- Κατηγοριες -->
                          <div class="row">
                            <div class="col-xs-6" >
							               <h5><%= t('translate.Supplier_Panel') %></h5>
                              <div class="supplier_panels">
                                <% @supplier_panels.each do |z| %>
                                    <a  style="text-decoration: none; color:black;">
                                      <label id="<%= z.id %>" class="sup_panels"><%= z.name %></label>
                                    </a>
                                <% end %><!--End each-->
                              </div>
                            </div>
                						<div class="col-xs-6">
                							<h5><%= t('translate.Type_Panel') %></h5>
                                <div class="cat_panels" id="cat_panels">
                                </div>
							               </div>
							
                  					<div class="col-xs-12 panels_wrapper">
                  						<hr>
                                <div class="panels" id="">
                                </div>
							             </div>
                          </div>
                          
                        </div><!-- End extra -->
                      </div> <!--click_tzamia-->
                    <hr>
                  </div>
                  
                </div><!--Glass-->

                <div class="Leaf tab_leaf tab_right">
                  <div class="row">
                          <div class="col-xs-12">
                            <label id="back_8" class="label_tab_top_next"><%= t('translate.Back') %></label>
                            <label id="next_8" class="label_tab_top_next"><%= t('translate.Next') %></label>
                          </div>
                        </div>
                        <hr>
                  <!-- Φύλλα -->
                  <div class="fillo_katw">
                    <div class="fullo">
                     <% @leaf.each do |l| %>
                       <img src="/assets/<%= l.image%>" class="leaf img-responsive" id="<%= l.name %>" >
                     <% end %><!--End each-->
                    </div>
                  </div><!-- End φύλλα -->
                  <hr>
                </div><!--Leaf-->

                <!-- Ανοιγματα -->
                <div class="open_tipos_katw tab_open_type tab_right">
                  <div class="row">
                          <div class="col-xs-12">
                            <label id="back_9" class="label_tab_top_next"><%= t('translate.Back') %></label>
                            <label id="next_9" class="label_tab_top_next"><%= t('translate.Next') %></label>
                          </div>
                        </div>
                        <hr>
                  <!-- Ανοιγματα με ajax -->
                  <div class="ajax_open_type "  >
                  </div>
                  <!-- End Ανοιγματα με ajax -->
                  <hr>
                </div><!-- End ανοιγματα -->

                <!-- Διαστασεις -->
                <div class="diastaseis tab_dimensions tab_right">
                  <div class="row">
                          <div class="col-xs-12">
                            <label id="back_10" class="label_tab_top_next"><%= t('translate.Back') %></label>
                          </div>
                        </div>
                        <hr>
                  <div class="diastaseis1">
                    <input class="input" type="number" name="order" size="4" maxlength="4" placeholder="<%= t 'translate.Width'%>" id="width"><br>
                    <label class="min_width"><%= t 'translate.Min'%><%= t 'translate.Width'%>: </label><br>
                    <label class="max_width"><%= t 'translate.Max'%><%= t 'translate.Width'%>: </label><br>
                    <span id="maxw"></span>
                    <span id="minw"></span>
                  </div>
                  <div>
                    <input class="input" type="number" name="order" size="4" maxlength="4" placeholder="<%= t 'translate.Height'%>" id="height"><br>
                    <label class="min_height"><%= t 'translate.Min'%><%= t 'translate.Height'%>: <%= @min_height %> mm</label><br>
                    <label class="max_height"><%= t 'translate.Max'%><%= t 'translate.Height'%>: <%= @max_height %> mm</label><br>
                    <span id="maxh"><%=@max_height%></span>
                    <span id="minh"><%=@min_height%></span>  
                  </div>
                  <hr>
                  <!-- Κουμπια για συναιχεια -->
                  <button type="button" class="btn green2 ok"><%= t 'translate.Ok'%></button>
                  <button type="button" class="btn blue extra_xwris_ok"><%= t 'translate.Continue_to_extra'%></button>
                  <button type="button" id="home_right" class='btn btn-danger order_prin order_prin_panw' ><span class="glyphicon glyphicon-shopping-cart" aria-hidden="true"></span> <%= t 'translate.Continue' %></button>
                  <button type="button" id="home_price" class='btn btn-warning orange order_price' ><span class="glyphicon glyphicon-euro" aria-hidden="true"></span> <%= t 'translate.Price' %></button>
                  <!--<button type="button" class="btn red fanerwse_elefthero">Free Design</button>-->
                  <br><br>
                  <!-- Επεξηγησεις -->
                  <div style=" display: inline-block;">
                    <p class="xwrismata_enoimerwsi borderBlink">
                      <%= t 'translate.Dimensions_text_1' %>
                    </p>
                    <p class="xwrismata_enoimerwsi borderBlink">
                      <%= t 'translate.Dimensions_text_2' %>
                    </p>
                  </div>
                  <!-- Χρειαζονται για την λειτουργια του add -->
                  <button type="button" class="btn btn-primary order_diastaseis"><%= t 'diastaseis.add_card'%></button>
                  <button type="button" class="btn btn-primary extra_diastaseis"><%= t 'diastaseis.extra'%></button>
                </div><!-- End διαστασεις -->


              </form>
            </div><!--col-xs-9-->
          </div><!--end row with col-xs-3 and 9 -->
          
        </div><!--end col-xs-12-->
        
      </div><!--end row-->
      <div class="row LEFT_BAR">
        <div class="col-xs-12">
            <button class="category_buttons Cat_button_2">
              <span class="glyphicon glyphicon-chevron-left"></span> 
              <%= t('translate.Extra') %>
            </button>

            <div class="row second_panel">
            <div class="col-xs-2 left_panel_second" >
              <!--Left tab Profils-->
              <div id="tab_profils" class="tab-profils left_tab_extra tab_left_active">
                <div class="left_tab_gly">
                  <%= image_tag("mine_icons/profill.png") %>
                </div>
                <div class="left_tab_header">
                  <p><%= t('translate.Additional_profils') %></p>
                </div>
              </div>
              <!--Left tab Rolls-->
              <div id="tab_roll" class="tab-roll  left_tab_extra ">
                <div class="left_tab_gly">
                  <%= image_tag("mine_icons/roll_main.png") %>
                </div>
                <div class="left_tab_header">
                  <p><%= t('translate.Rollershutter') %></p>
                </div>
              </div>
			  <!--Left tab window still-->
              <div id="tab_window_still" class="tab-window_still left_tab_extra ">
                <div class="left_tab_gly">
                  <%= image_tag("mine_icons/window_still.png") %>
                </div>
                <div class="left_tab_header">
                  <p><%= t('translate.WindowStill') %></p>
                </div>
              </div>
              <!--Left tab place -->
              <div id="tab_place" class="tab-place left_tab_extra ">
                <div class="left_tab_gly">
                  <%= image_tag("mine_icons/window_still.png") %>
                </div>
                <div class="left_tab_header">
                  <p><%= t('translate.Place') %></p>
                </div>
              </div>
            </div>
			<!-- onmouseover="document.body.style.overflow='hidden';" onmouseout="document.body.style.overflow='auto';" -->
            <div class="col-xs-10 right_panel_second">

            <!--Profils-->
              <div class="Profils tab_profils tab_right">
                <div class="row">
                  <div class="col-xs-12">
                    <label id="types_top" class="label_tab_top active"><%= t('translate.Types') %></label>
                    <label id="profils_top" class="label_tab_top"><%= t('translate.Profiles') %></label>
                    <label id="protection_top" class="label_tab_top"><%= t('translate.Protection') %></label>
                    <label id="rubber_top" class="label_tab_top"><%= t('translate.Rubber') %></label>
                  </div>
                </div>
                <hr>
                
                <div class="types_top label_tab_bottom">
                  <!-- Τυποι -->
                  <div class=""> 
                      <div class="row">
                        <div class="col-xs-5" style="margin-right:10px;">
                          <div class="extra typos_div">
                          <h5><%= t 'translate.Types' %></h5>
                          <% @typos.each do |t| %>
                            <% if ( t.category == 1 ) %>
                              <a style="text-decoration: none; color:black;">
                                <label class="typos" id="<%= t.id %>" data-toggle="modal" data-target="#myModal_t"><b><%= t.code %></b><br><%= t.name %></label>
                                <span id="<%= t.height %>"></span>
                              </a>
                            <% end %>
                          <% end %><!--End each-->
                          </div><!-- End extra-->
                        </div>
                        <div class="col-xs-5">
                          <div class="extra typos_div">
                          <h5><%= t 'translate.Types_2' %></h5>
                          <% @typos.each do |t| %>
                            <% if ( t.category == 2 ) %>
                              <a style="text-decoration: none; color:black;">
                                <label class="typos" id="<%= t.id %>" data-toggle="modal" data-target="#myModal_t"><b><%= t.code %></b><br><%= t.name %></label>
                                <span id="<%= t.height %>"></span>
                              </a>
                            <% end %>
                          <% end %><!--End each-->
                          </div><!-- End extra-->
                        </div>

                        <div class="col-xs-7">
                          <!-- Απο ajax -->
                          <div class="color_typos" id="col_typ"></div>
                        </div>
                      </div>

                    
                  </div><!--End τυποι-->
                  <hr>
                </div>
                
                <div class="profils_top label_tab_bottom">
                  <!-- Προφιλ -->
                  <div class=""> 
                    <div class="extra">
                      <label class="label_profil" id="aristera" onclick="anoigma_profil_aristera()"><%= t 'translate.Left' %></label>
                      <label class="label_profil" id="deksia" onclick="anoigma_profil_deksia()"><%= t 'translate.Right' %></label>
                      <label class="label_profil" id="panw" onclick="anoigma_profil_panw()"><%= t 'translate.Top' %></label>
                      <label class="label_profil" id="katw" onclick="anoigma_profil_katw()"><%= t 'translate.Bottom' %></label>
                    </div>
                      <hr>
                      <!-- Δεξια -->
                      <div class="row">
                        <div class="col-xs-4">
                          <div class="extra">
                          <div class="ola_ta_profil_deksia">
                            <h5><%= t 'translate.Right' %></h5>
                            <% @profil.each do |p| %>
                              <a  style="text-decoration: none; color:black;">
                                <label class="peninta" id="<%= p.id %>" data-toggle="modal" data-target="#myModal"><b><%= p.code %></b><br><%= p.name %></label>
                                <span id="<%= p.width %>" class="<%= p.height %>"></span>
                              </a>
                            <% end %><!--End each-->
                          </div>
                          </div>
                        </div>
                        <div class="col-xs-8">
                          <div class="ola_ta_profil_deksia_color" id="ola_deksia_col"></div>
                        </div>
                      </div>

                      <!-- Αριστερά -->
                      <div class="row">
                        <div class="col-xs-4">
                          <div class="extra">
                          <div class="ola_ta_profil_aristera">
                            <h5><%= t 'translate.Left' %></h5>
                            <% @profil.each do |p| %>
                              <a style="text-decoration: none; color:black;">
                                <label class="penintaena" id="<%= p.id %>" data-toggle="modal" data-target="#myModal_a"><b><%= p.code %></b><br><%= p.name %></label>
                                <span id="<%= p.width %>" class="<%= p.height %>"></span>
                              </a>
                            <% end %><!--End each-->
                          </div>
                          </div>
                        </div>
                        <div class="col-xs-8">
                          <div class="ola_ta_profil_aristera_color" id="ola_aristera_col"></div>
                        </div>
                      </div>

                      <!-- Επάνω -->
                      <div class="row">
                        <div class="col-xs-4">
                          <div class="extra">
                          <div class="ola_ta_profil_panw">
                            <h5><%= t 'translate.Top' %></h5>
                            <% @profil.each do |p| %>
                              <a style="text-decoration: none; color:black;">
                                <label class="penintaduo" id="<%= p.id %>" data-toggle="modal" data-target="#myModal_p"><b><%= p.code %></b><br><%= p.name %></label>
                                <span id="<%= p.width %>" class="<%= p.height %>"></span>
                              </a>
                            <% end %><!--End each-->
                          </div>
                          </div>
                        </div>
                        <div class="col-xs-8">
                          <div class="ola_ta_profil_panw_color" id="ola_panw_col"></div>
                        </div>
                      </div>

                      <!-- Κάτω -->
                      <div class="row">
                        <div class="col-xs-4">
                          <div class="extra">
                          <div class="ola_ta_profil_katw">
                            <h5><%= t 'translate.Bottom' %></h5>
                            <% @profil.each do |p| %>
                              <a style="text-decoration: none; color:black;">
                                <label class="penintatria" id="<%= p.id %>" data-toggle="modal" data-target="#myModal_k"><b><%= p.code %></b><br><%= p.name %></label>
                                <span id="<%= p.width %>" class="<%= p.height %>"></span>
                              </a>
                            <% end %><!--End each-->
                          </div>
                          </div>
                        </div>
                        <div class="col-xs-8">
                          <div class="ola_ta_profil_katw_color" id="ola_katw_col"></div>
                        </div>
                      </div>
                                          
                  </div><!--End Προφιλ-->
                  <hr>
                </div>

                <div class="protection_top label_tab_bottom">
                  <!-- Προστασια -->
                  <div class=""> 
                    <h5><%= t 'translate.Protection' %></h5>
                    <div class="extra">
                      <div class="row">
                        <div class="col-xs-4">
                          <% @prostasia.each do |pr| %>
                            <label class="prostasia" id="<%= pr.id %>"><%= pr.name %></label>
                          <% end %><!--End each-->
                        </div>
                      </div>
                    </div><!-- End extra-->
                  </div><!--End προστασια--> 
                  <hr>  
                </div>

                <div class="rubber_top label_tab_bottom">
                  <!-- Προστασια -->
                  <div class=""> 
                    <h5><%= t 'translate.lastixo' %></h5>
                    <div class="extra">
                      <div class="row">
                        <div class="col-xs-4">
                          <label id="mauro_lastixo" class="lastixo"><%= t 'translate.black_gasket'%></label><br>
                          <label id="gkri_lastixo" class="lastixo"><%= t 'translate.grey_gasket'%></label>
                        </div>
                      </div>
                    </div><!-- End extra-->
                  </div><!--End προστασια--> 
                  <hr>  
                </div>

              </div><!--Profils-->
              
              <!--Rolls-->
              <div class="Rolls tab_roll tab_right">
                <div class="row">
                  <div class="col-xs-12">
                    <label id="roll_top_m" class="label_tab_top active"><%= t('translate.Top_mounted') %></label>
                    <label id="roll_front_m" class="label_tab_top"><%= t('translate.Front_mounted') %></label>
                    <label id="roll_profil" class="label_tab_top"><%= t('translate.Profil_for_shutters') %></label>
                    <label id="roll_rails" class="label_tab_top"><%= t('translate.Rails') %></label>
					<br/>
					<label id="roll_rat" class="label_tab_top"><%= t('translate.Rat') %></label>
					<label id="roll_rlt" class="label_tab_top"><%= t('translate.Rlt') %></label>
					<label id="roll_rdm" class="label_tab_top"><%= t('translate.Rdm') %></label>
					<br/>
					<label id="roll_pfm" class="label_tab_top"><%= t('translate.Pfm') %></label>
					<label id="roll_pss" class="label_tab_top"><%= t('translate.Pss') %></label>
                  </div>
                </div>
                <hr>
                
                <div class="roll_top_m label_tab_bottom">
                  <!-- Επικαθιμενα -->
                  <div style="">
                    <div class=""> 
                      <div class="extra">
                        <!-- Κατηγοριες -->
                        <div class="row">
                          <div class="col-xs-5" >
                            <div class="epik_none">
                              <h5><%= t('translate.Top_mounted') %></h5>
                              <% @epikathimena_cat.each do |e| %>
                                <!--<div data-toggle="popover" title="<b><%= e.name %> info<b>" data-content="This is a box with info about <%= e.name %> info<b><br> <img class='rola_img img-responsive' src='/assets/<%= e.image %>'>"  data-html="true" class="bstooltip">-->
                                  <label class="epikathimena" id="<%= e.id %>"><%= e.name %></label>
                                <!--</div>-->
                              <% end %><!--End each-->
                            </div>
                          </div>
                          <div class="col-xs-7" >
                            <!-- Επικαθημενα και χρωματα με ajax -->
                            <div class="epikathimena_rola"></div>
                          </div>
                        </div>
                        
                        <div class="color_epikathimenou"></div>

                      </div><!-- End extra-->
                    </div><!-- end adio -->
                  </div><!-- End επικαθημενα -->
                  
                </div>
                
                <div class="roll_front_m label_tab_bottom">
                  <!-- Εξωτερικα -->
                  <div style="">
                    <div class="" style=""> 
                      <div class="extra ">
                        <!-- Κατηγοριες -->
                        <div class="row">
                          <div class="col-xs-5" >
                            <div class="ekso_none">
                              <h5><%= t('translate.Front_mounted') %></h5>
                              <% @eksoteriko_cat.each do |c| %>
                                <!--<div data-toggle="popover" title="<b><%= c.name %> info<b>" data-content="This is a box with info about <%= c.name %> info<b><br> <img class='rola_img img-responsive' src='/assets/<%= c.image %>'>"  data-html="true" class="bstooltip">-->
                                  <label class="eksoterika" id="<%= c.id %>"><%= c.name %></label>
                                <!--</div>-->
                              <% end %><!--End each-->
                            </div>
                          </div>
                          <div class="col-xs-7" >
                            <!-- Εξωτερικα και χρωματα με ajax -->
                            <div class="eksoterika_rola"></div>
                          </div>
                        </div>
                        
                        <div class="color_eksoterikou"></div>

                      </div><!-- End extra-->
                    </div><!-- end adio -->
                  </div><!-- End εξωτερικα -->
                  
                </div>

                <div class="roll_profil label_tab_bottom">
                  <!--ΠΕΡΣΙΔΕΣ-->
                  <div class="" style=""> 
                    <h5><%= t('translate.Profiles') %></h5>
                    <div class="row">
                      <div class="col-xs-5" >
                        
                        <div class="extra">
                          <% @persides.each do |p| %>
                            <a  style="text-decoration: none; color:black;">
                              <label class="perisdes" id="<%= p.id %>"><%= p.name %></label>
                            </a>
                          <% end %><!--End each-->
                        </div>
                      </div>
                      <!-- Απο ajax -->
                      <div class="col-xs-7" >
                        <div class="diorth_per"></div>
                      </div>
                      <div class="row">
                        <div class="col-xs-12" >
                          <div class="color_persidas" id="col_pe"></div>
                        </div>
                      </div>
                          
                    </div><!-- End extra-->
                      
                  </div><!--End Περσιδες--> 
                  <hr>
                </div>

                <div class="roll_rails label_tab_bottom">
                  <!-- Οδοιγοι -->
                  <div class="click_odoigoi" style=""> 
                    <h5><%= t 'translate.Rails' %></h5>
                    <div class="row">
                      <div class="col-xs-5" >
                        <div class="extra guide_none">
                          <% @roll_guide.each do |r| %>
                            <a  style="text-decoration: none; color:black;">
                              <label class="odoigoi" id="<%= r.id %>" style="display:block;"><%= r.name %></label>
                            </a>
                          <% end %><!--End each-->
                        </div><!-- End extra-->
                      </div>
                      <div class="col-xs-5" >
                        <!-- Απο ajax -->
                        <div class="diorth_odoi"></div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-xs-12" >
                        <div class="color_odoigou" id="col_od"></div>
                      </div>
                    </div>
                      
                    
                  </div><!--End οδοιγοι--> 
                  <hr>
                </div>
			  	<!-- begin rolls rat -->
                <div class="roll_rat label_tab_bottom">
                  <!-- Οδοιγοι -->
                  <div class="click_roll_rat" style=""> 
                    <h5><%= t 'translate.Rat' %></h5>
                    <div class="row">
                      <div class="col-xs-5" >
                        <div class="extra rat_none">
                          <% @roll_rat.each do |r| %>
                            <a  style="text-decoration: none; color:black;">
                              <label class="rolls_rat" id="<%= r.id %>" style="display:block;"><%= r.name %></label>
                            </a>
                          <% end %><!--End each-->
                        </div><!-- End extra-->
                      </div>
                    </div>
                  </div>
				 </div> <!--End rolls rat-->
  			  	<!-- begin rolls rlt -->
                  <div class="roll_rlt label_tab_bottom">
                    <!-- Οδοιγοι -->
                    <div class="click_roll_rlt" style=""> 
                      <h5><%= t 'translate.Rlt' %></h5>
                      <div class="row">
                        <div class="col-xs-5" >
                          <div class="extra rlt_none">
                            <% @roll_rlt.each do |r| %>
                              <a  style="text-decoration: none; color:black;">
                                <label class="rolls_rlt" id="<%= r.id %>" style="display:block;"><%= r.name %></label>
                              </a>
                            <% end %><!--End each-->
                          </div><!-- End extra-->
                        </div>
                      </div>
                    </div>
				 </div><!--End rolls rlt-->
              
			  	<!-- begin rolls rdm -->
                <div class="roll_rdm label_tab_bottom">
                  <div class="click_roll_rdm" style=""> 
                    <h5><%= t 'translate.Rdm' %></h5>
                    <div class="row">
                      <div class="col-xs-5" >
                        <div class="extra rdm_none">
                          <% @roll_rdm.each do |r| %>
                            <a  style="text-decoration: none; color:black;">
                              <label class="rolls_rdm" id="<%= r.id %>" style="display:block;"><%= r.name %></label>
                            </a>
                          <% end %><!--End each-->
                        </div><!-- End extra-->
                      </div>
                    </div>
                  </div>
			 	</div><!--End rolls rdm-->
				
			  	<!-- begin rolls pfm -->
                <div class="roll_pfm label_tab_bottom">
                  <div class="click_roll_pfm" style=""> 
                    <h5><%= t 'translate.Pfm' %></h5>
                    <div class="row">
                      <div class="col-xs-5" >
                        <div class="extra pfm_none">
                          <% @roll_pfm.each do |r| %>
                            <a  style="text-decoration: none; color:black;">
                              <label class="rolls_pfm" id="<%= r.id %>" style="display:block;"><%= r.name %></label>
                            </a>
                          <% end %><!--End each-->
                        </div><!-- End extra-->
                      </div>
                    </div>
                  </div>
			 	</div><!--End rolls pfm-->
				
			  	<!-- begin rolls pss -->
                <div class="roll_pss label_tab_bottom">
                  <div class="click_roll_pss" style=""> 
                    <h5><%= t 'translate.Pss' %></h5>
                    <div class="row">
                      <div class="col-xs-5" >
                        <div class="extra pss_none">
                          <% @roll_pss.each do |r| %>
                            <a  style="text-decoration: none; color:black;">
                              <label class="rolls_pss" id="<%= r.id %>" style="display:block;"><%= r.name %></label>
                            </a>
                          <% end %><!--End each-->
                        </div><!-- End extra-->
                      </div>
                    </div>
                  </div>
			 	</div><!--End rolls pss-->
			  
			  </div><!--Rolls-->
			  
			  <!-- window still -->
			  <div class="Window_stills tab_window_still tab_right">
			  
	                <div class="row">
	                  <div class="col-xs-12">
	                    <label id="window_still_1" class="label_tab_top active"><%= t('translate.Window_stills') %></label>
	                  </div>
	                </div>
	                <hr>
			  
	                <div class="window_still_1 label_tab_bottom">
	                  <div style="">
	                    <div class=""> 
	                      <div class="extra">
	                        <!-- Κατηγοριες -->
	                        <div class="row">
	                          <div class="col-xs-5" >
	                            <div class="window_still_none">
	                              <h5><%= t('translate.Window_stills') %></h5>
	                              <% @window_still_cat.each do |e| %>
	                                  <label class="window_still_cat" id="<%= e.id %>"><%= e.name %></label>
	                                <!--</div>-->
	                              <% end %><!--End each-->
	                            </div>
							  <div class="window_still_wrapper"></div>
	                          </div>
	                          <div class="col-xs-7" >
	                            <!-- Επικαθημενα και χρωματα με ajax -->
	                            <div class="window_still_wrapper_big"></div>
	                          </div>
                          
	                        </div>
	                      </div><!-- End extra-->
	                    </div><!-- end adio -->
	                  </div><!-- End επικαθημενα -->
                
	                </div>
			  </div>
			  <!-- window still -->
        <!-- place -->
        <div class="places tab_place tab_right">
        
                  <div class="row">
                    <div class="col-xs-12">
                      <label id="place_1" class="label_tab_top active"><%= t('translate.Places') %></label>
                    </div>
                  </div>
                  <hr>
        
                  <div class="place_1 label_tab_bottom">
                    <div style="">
                      <div class=""> 
                        <div class="extra">
                          <!-- Κατηγοριες -->
                          <div class="row">
                            <div class="col-xs-5" >
                              <div class="place_none">
                                <h5><%= t('translate.Places') %></h5>
                                <% @places.each do |e| %>
                                    <label class="place" id="<%= e.id %>"><%= e.name %></label>
                                  <!--</div>-->
                                <% end %><!--End each-->
                              </div>  
                            </div>
                          
                          </div>
                        </div><!-- End extra-->
                      </div><!-- end adio -->
                    </div><!-- End επικαθημενα -->
                
                  </div>
        </div>
        <!-- end place -->
            </div><!--Right panel 10-->
		  
          </div><!--end row-->

        </div><!--end col-xs-12-->
        
      </div><!--end row-->
    

            
      
    </div><!--col-xs-5 end-->
    <div class="col-xs-6 col_right_svg" >
      <!-- Canvas με σχεδια για copy paste σε καρτα -->
      <div class="ekso_canvas">
        <canvas id="canvas" height="280" width="400"> <!--height="280" width="400"-->
        </canvas>
        <canvas id="canvas2" height="600" width="600" style="display:none;"> <!--height="280" width="400"-->
        </canvas>
      </div>
      <!-- end canvas -->
         
      <!--Sxedio-->
      <div id="sxedio_new" height="400" width="400" style="width: 400px;">
        <%= render 'diafora/sxedio' %>
      </div> 
      <div class="center_right" id="test">   
        <button type="button" id="home_right" class='btn btn-danger order_prin order_prin_deksia' ><span class="glyphicon glyphicon-shopping-cart" aria-hidden="true"></span> <%= t 'translate.Continue' %></button>
        <button type="button" id="home_price" class='btn btn-warning order_price order_prin_deksia' ><span class="glyphicon glyphicon-euro" aria-hidden="true"></span> <%= t 'translate.Price' %></button>
      </div> 
      <hr>

      <!-- Μodal για τιμες -->
      <div class="modal_times " id="myModal_times">
                  <!-- Πίνακας πανω με αρχικες πληροφοριες -->
                  <div class="table-responsive extra_table1" style="">
                    <table class="table table1 table-condensed">
                      <tr>
                        <td class="td_left"><label><%= t 'translate.Open_Category'  %>:</label></td>
                        <td class="open_categorie_table"><label></label></td>
                        <td></td>
                        <td></td>
                      </tr>
                      <tr>
                        <td class="pin1h td_left"><label><%= t 'translate.Profile_systems'  %>: </label></td>
                        <td class="pin1"><label class="material_table"></label></td>
                        <td></td>
                        <td></td>
                      </tr>
                      <tr>
                        <td class="pin2h td_left"><label><%= t 'translate.constructor'  %>: </label></td>
                        <td class="pin2"><label class="constructor_table"></label></td>
                        <td></td>
                        <td></td>
                      </tr>
                      <tr>
                        <td class="pin3h td_left"><label><%= t 'translate.System_A'  %>: </label></td>
                        <td class="pin3"><label class="system_table"></label></td>
                        <td></td>
                        <td></td>
                      </tr>
                      <tr>
                        <td class="td_left"><label><%= t 'translate.System_B'  %>: </label></td>
                        <td class=""><label class="line_table"></label></td>
                        <td></td>
                        <td></td>
                      </tr>
                      <tr>
                        <td class="td_left"><label><%= t 'translate.Leaf'  %>: </label></td>
                        <td class=""><label class="leaf_table"></label></td>
                        <td></td>
                        <td></td>
                      </tr>
                      <tr>
                        <td class="td_left"><label><%= t 'translate.Open_type'  %>: </label></td>
                        <td class=""><label class="open_type_table"></label></td>
                        <td></td>
                        <td></td>
                      </tr>
                      <!--
                      <tr>
                        <td class="td_left"><label><%= t 'material_pinakas.diastaseis'  %>: </label></td>
                        <td class=""><label class="diastaseis_table"><%= @width %> X <%= @height %></label></td>
                        <td class="table_tm"> <label class="diastaseis_table_tm"></label></td>
                        <td></td>
                      </tr>
                      -->
                      <tr class="neess_diastaseis">
                        <td class="td_left"><label><%= t 'translate.Start_price'  %>: </label></td>
                        <td class=""><label class="diastaseis_table"><%= @width %> X <%= @height %></label></td>
                        <td class="table_tm"> <label class="diastaseis_table_tm"></label></td>
                        <td class="td_right"><label class="super_apli_timi"></label></td>
                      </tr>

                      <tr>
                        <td class="td_left"><label><%= t 'translate.Inside_color'  %>: </label></td>
                        <td class=""><label class="color_main"></label></td>
                        <td class="table_tm"><label class="ep_mesa_p"></label></td>
                        <td class="td_right"><label class="ep_mesa"></label></td>
                      </tr>
                      <tr>
                        <td class="td_left"><label><%= t 'translate.Outside_color'  %>: </label></td>
                        <td class=""><label class="color_main_eksw"></label></td>
                        <td class="table_tm"><label class="ep_eksw_p"></label></td>
                        <td class="td_right"><label class="ep_eksw"></label></td>
                      </tr>
                      <tr class="tzami0_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.Inside_Outside_glass'  %>: </label></td>
                        <td class=""><label class="table_tzami0"></label></td>
                        <td class="table_tm"><label class="tm_tz_0"></label></td>
                        <td class="td_right"><label class="timi_tzami0"></label></td>
                      </tr>
                      <tr class="tzami2_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.Inside_glass'  %>: </label></td>
                        <td class=""><label class="table_tzami2"></label></td>
                        <td class="table_tm"><label class="tm_tz_2"></label></td>
                        <td class="td_right"><label class="timi_tzami2"></label></td>
                      </tr>
                      <tr class="tzami_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.Outside_glass'  %>: </label></td>
                        <td class=""><label class="table_tzami"></label></td>
                        <td class="table_tm"><label class="tm_tz_1"></label></td>
                        <td class="td_right"><label class="timi_tzami"></label></td>
                      </tr>
                      <!--KAI AYTA ME IF EXISTS-->
                      <% if (!@color_deksia.nil?) %>
                      <tr>
                        <td class="td_left"><label><%= t 'diastaseis.color_deksia'  %>: </label></td>
                        <td class=""><label class="color_deksia"><%= @color_deksia.name %></label></td>
                      </tr>
                      <tr>
                        <td class="td_left"><label><%= t 'diastaseis.color_aristera'  %>: </label></td>
                        <td class=""><label class="color_aristera"><%= @color_aristera.name %></label></td>
                      </tr>
                      <tr>
                        <td class="td_left"><label><%= t 'diastaseis.color_panw'  %>: </label></td>
                        <td class=""><label class="color_panw"><%= @color_panw.name %></label></td>
                      </tr>
                      <tr>
                        <td class="td_left"><label><%= t 'diastaseis.color_katw'  %>: </label></td>
                        <td class=""><label class="color_katw"><%= @color_katw.name %></label></td>
                      </tr>
                      <% end %>
                      <% if (!@color_fulou.nil?) %>
                      <tr>
                        <td class="td_left"><label><%= t 'diastaseis.color_fullou'  %>: </label></td>
                        <td class=""><label class="color_fullou"><%= @color_fulou.name %></label></td>
                        <td></td>
                      </tr>
                      <% end %>
                      <tr class="neess_diastaseis">
                        <td class="td_left"><label><%= t 'translate.Start_price'  %>: </label></td>
                        <td></td>
                        <td></td>
                        <td class="td_right"><label class="arxiki_timi"></label></td>
                      </tr>
                    </table>
                  </div>
                  <!-- end πανω πινακα -->
                  <!-- Κατω πινακας με extra -->
                  <div class="table-responsive extra_table2" style="/*overflow-y:scroll; height:250px;*/">
                    <table class="table table2 table-condensed">
                      <tr class="neess_diastaseis">
                        <td class="td_left"><label><%= t 'translate.New_dimensions'  %>: </label></td>
                        <td class=""><label class="diastaseis_extra"><%= @width %>X<%= @height %></label></td>
                        <td class="table_tm"> <label class="diastaseis_table_extra_tm"></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="nea_timi_market"></label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="nea_timi_dealer"></label></td>
                        <td style="text-align: right"><label class="nea_timi"></label></td>
                      </tr>

                      <tr class="lastixo_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.lastixo'  %>: </label></td>
                        <td class=""><label class="table_lastixo_black"><%= t 'translate.black_gasket'  %></label><label class="table_lastixo_grey"><%= t 'translate.grey_gasket'  %></label></td>
                        <td class=""><label class=""></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_lastixo"></label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_lastixo"></label></td>
                        <td style="text-align: right"><label class="timi_lastixo"></label></td>
                      </tr>
                      <tr class="epik_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.Top_mounted'  %>: </label></td>
                        <td class=""><label class="table_epikathimeno"></label></td>
                        <td class="table_tm"><label class="tm_ep"></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_epikathimenou"></label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_epikathimenou"></label></td>
                        <td style="text-align: right"><label class="timi_epikathimenou"></label></td>
                      </tr>
                      <tr class="epik_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.Top_mounted' %> <%= t 'translate.Color' %>: </label></td>
                        <td class=""><label class="table_xrwma_epikathimeno"></label></td>
                        <td class=""><label class=""></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_xrwma_epikathimenou">0 €</label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_xrwma_epikathimenou">0 €</label></td>
                        <td style="text-align: right"><label class="table_timi_xrwma_epikathimenou"></label></td>
                      </tr>
                      <tr class="ekso_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.Front_mounted'  %>: </label></td>
                        <td class=""><label class="table_eksoteriko"></label></td>
                        <td class="table_tm"><label class="tm_ek"></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_eksoterikou"></label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_eksoterikou"></label></td>
                        <td style="text-align: right"><label class="timi_eksoterikou"></label></td>
                      </tr>
                      <tr class="ekso_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.Front_mounted' %> <%= t 'translate.Color'  %>: </label></td>
                        <td class=""><label class="table_xrwma_eksoteriko"></label></td>
                        <td class=""><label class=""></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_xrwma_eksoterikou">0 €</label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_xrwma_eksoterikou">0 €</label></td>
                        <td style="text-align: right"><label class="table_timi_xrwma_eksoterikou"></label></td>
                      </tr>
                      <tr class="persida_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.Profil_for_shutters' %>: </label></td>
                        <td class=""><label class="table_persida"></label></td>
                        <td class="table_tm"><label class="tm_per"></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_persida"></label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_persida"></label></td>
                        <td style="text-align: right"><label class="timi_persida"></label></td>
                      </tr>
                      <tr class="persida_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.Profil_for_shutters' %> <%= t 'translate.Color'  %>: </label></td>
                        <td class=""><label class="table_xrwma_persida"></label></td>
                        <td class=""><label class=""></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_xrwma_persida">0 €</label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_xrwma_persida">0 €</label></td>
                        <td style="text-align: right"><label class="table_timi_xrwma_persida"></label></td>
                      </tr>
                      <tr class="odoigos_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.Rails'  %>: </label></td>
                        <td class=""><label class="table_odoigos"></label></td>
                        <td class="table_tm"><label class="tm_od"></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_odoigos"></label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_odoigos"></label></td>
                        <td style="text-align: right"><label class="timi_odoigos"></label></td>
                      </tr>
                      <tr class="odoigos_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.Rails' %> <%= t 'translate.Color'  %>: </label></td>
                        <td class=""><label class="table_xrwma_odoigos"></label></td>
                        <td class=""><label class=""></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_xrwma_odoigos">0 €</label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_xrwma_odoigos">0 €</label></td>
                        <td style="text-align: right"><label class="table_timi_xrwma_odoigos"></label></td>
                      </tr>
                      <tr class="profil_deksia_1_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.External_profile_right'  %>: </label></td>
                        <td class=""><label class="table_profil_deksia_1"></label></td>
                        <td class=""><label class="table_profil_deksia_1_arithmos"></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_profil_deksia_1"></label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_profil_deksia_1"></label></td>
                        <td style="text-align: right"><label class="timi_profil_deksia_1"></label></td>
                      </tr>
                      <tr class="profil_deksia_2_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.External_profile_right'  %>: </label></td>
                        <td class=""><label class="table_profil_deksia_2"></label></td>
                        <td class=""><label class="table_profil_deksia_2_arithmos"></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_profil_deksia_2"></label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_profil_deksia_2"></label></td>
                        <td style="text-align: right"><label class="timi_profil_deksia_2"></label></td>
                      </tr>
                      <tr class="profil_deksia_3_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.External_profile_right'  %>: </label></td>
                        <td class=""><label class="table_profil_deksia_3"></label></td>
                        <td class=""><label class="table_profil_deksia_3_arithmos"></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_profil_deksia_3"></label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_profil_deksia_3"></label></td>
                        <td style="text-align: right"><label class="timi_profil_deksia_3"></label></td>
                      </tr>
                      <tr class="profil_deksia_xrwma_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.External_profile_right_color' %> </label></td>
                        <td class=""><label class="table_profil_deksia_xrwma"></label></td>
                        <td class=""><label class=""></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_profil_deksia_xrwma">0 €</label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_profil_deksia_xrwma">0 €</label></td>
                        <td style="text-align: right"><label class="timi_profil_deksia_xrwma"></label></td>
                      </tr>
                      <tr class="profil_aristera_1_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.External_profile_left'  %>: </label></td>
                        <td class=""><label class="table_profil_aristera_1"></label></td>
                        <td class=""><label class="table_profil_aristera_1_arithmos"></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_profil_aristera_1"></label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_profil_aristera_1"></label></td>
                        <td style="text-align: right"><label class="timi_profil_aristera_1"></label></td>
                      </tr>
                      <tr class="profil_aristera_2_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.External_profile_left'  %>: </label></td>
                        <td class=""><label class="table_profil_aristera_2"></label></td>
                        <td class=""><label class="table_profil_aristera_2_arithmos"></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_profil_aristera_2"></label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_profil_aristera_2"></label></td>
                        <td style="text-align: right"><label class="timi_profil_aristera_2"></label></td>
                      </tr>
                      <tr class="profil_aristera_3_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.External_profile_left'  %>: </label></td>
                        <td class=""><label class="table_profil_aristera_3"></label></td>
                        <td class=""><label class="table_profil_aristera_3_arithmos"></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_profil_aristera_3"></label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_profil_aristera_3"></label></td>
                        <td style="text-align: right"><label class="timi_profil_aristera_3"></label></td>
                      </tr>
                      <tr class="profil_aristera_xrwma_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.External_profile_Left_color' %> </label></td>
                        <td class=""><label class="table_profil_aristera_xrwma"></label></td>
                        <td class=""><label class=""></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_profil_aristera_xrwma">0 €</label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_profil_aristera_xrwma">0 €</label></td>
                        <td style="text-align: right"><label class="timi_profil_aristera_xrwma"></label></td>
                      </tr>
                      <tr class="profil_panw_1_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.External_profile_top'  %>: </label></td>
                        <td class=""><label class="table_profil_panw_1"></label></td>
                        <td class=""><label class="table_profil_panw_1_arithmos"></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_profil_panw_1"></label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_profil_panw_1"></label></td>
                        <td style="text-align: right"><label class="timi_profil_panw_1"></label></td>
                      </tr>
                      <tr class="profil_panw_2_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.External_profile_top'  %>: </label></td>
                        <td class=""><label class="table_profil_panw_2"></label></td>
                        <td class=""><label class="table_profil_panw_2_arithmos"></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_profil_panw_2"></label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_profil_panw_2"></label></td>
                        <td style="text-align: right"><label class="timi_profil_panw_2"></label></td>
                      </tr>
                      <tr class="profil_panw_3_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.External_profile_top'  %>: </label></td>
                        <td class=""><label class="table_profil_panw_3"></label></td>
                        <td class=""><label class="table_profil_panw_3_arithmos"></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_profil_panw_3"></label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_profil_panw_3"></label></td>
                        <td style="text-align: right"><label class="timi_profil_panw_3"></label></td>
                      </tr>
                      <tr class="profil_panw_xrwma_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.External_profile_Top_color' %> </label></td>
                        <td class=""><label class="table_profil_panw_xrwma"></label></td>
                        <td class=""><label class=""></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_profil_panw_xrwma">0 €</label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_profil_panw_xrwma">0 €</label></td>
                        <td style="text-align: right"><label class="timi_profil_panw_xrwma"></label></td>
                      </tr>
                      <tr class="profil_katw_1_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.External_profile_bottom'  %>: </label></td>
                        <td class=""><label class="table_profil_katw_1"></label></td>
                        <td class=""><label class="table_profil_katw_1_arithmos"></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_profil_katw_1"></label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_profil_katw_1"></label></td>
                        <td style="text-align: right"><label class="timi_profil_katw_1"></label></td>
                      </tr>
                      <tr class="profil_katw_2_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.External_profile_bottom'  %>: </label></td>
                        <td class=""><label class="table_profil_katw_2"></label></td>
                        <td class=""><label class="table_profil_katw_2_arithmos"></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_profil_katw_2"></label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_profil_katw_2"></label></td>
                        <td style="text-align: right"><label class="timi_profil_katw_2"></label></td>
                      </tr>
                      <tr class="profil_katw_3_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.External_profile_bottom'  %>: </label></td>
                        <td class=""><label class="table_profil_katw_3"></label></td>
                        <td class=""><label class="table_profil_katw_3_arithmos"></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_profil_katw_3"></label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_profil_katw_3"></label></td>
                        <td style="text-align: right"><label class="timi_profil_katw_3"></label></td>
                      </tr>
                      <tr class="profil_katw_xrwma_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.External_profile_Bottom_color' %> </label></td>
                        <td class=""><label class="table_profil_katw_xrwma"></label></td>
                        <td class=""><label class=""></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_profil_katw_xrwma">0 €</label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_profil_katw_xrwma">0 €</label></td>
                        <td style="text-align: right"><label class="timi_profil_katw_xrwma"></label></td>
                      </tr>
                      <tr class="typos_katw_1_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.Types'  %>: </label></td>
                        <td class=""><label class="table_typos_katw_1"></label></td>
                        <td class=""><label class="table_typos_katw_1_arithmos"></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_typos_katw_1"></label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_typos_katw_1"></label></td>
                        <td style="text-align: right"><label class="timi_typos_katw_1"></label></td>
                      </tr>
                      <tr class="typos_katw_2_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.Types'  %>: </label></td>
                        <td class=""><label class="table_typos_katw_2"></label></td>
                        <td class=""><label class="table_typos_katw_2_arithmos"></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_typos_katw_2"></label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_typos_katw_2"></label></td>
                        <td style="text-align: right"><label class="timi_typos_katw_2"></label></td>
                      </tr>
                      <tr class="typos_katw_3_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.Types'  %>: </label></td>
                        <td class=""><label class="table_typos_katw_3"></label></td>
                        <td class=""><label class="table_typos_katw_3_arithmos"></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_typos_katw_3"></label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_typos_katw_3"></label></td>
                        <td style="text-align: right"><label class="timi_typos_katw_3"></label></td>
                      </tr>
                      <!--
                      <tr class="profil_typos_xrwma_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.Type_color' %> </label></td>
                        <td class=""><label class="table_profil_typos_xrwma"></label></td>
                        <td class=""><label class=""></label></td>
                        <td class="td_right"><label class="timi_profil_typos_xrwma"></label></td>
                      </tr>
                      -->
                      <tr class="prostasia_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.Protection' %> </label></td>
                        <td class=""><label class="table_prostasia"></label></td>
                        <td class=""><label class=""></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_prostasia"></label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_prostasia"></label></td>
                        <td style="text-align: right"><label class="timi_prostasia"></label></td>
                      </tr>
					
                      <tr class="window_still_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.WindowStill' %> </label></td>
                        <td class=""><label class="table_window_still"></label></td>
                        <td class=""><label class=""></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_window_still"></label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_window_still"></label></td>
                        <td style="text-align: right"><label class="timi_window_still"></label></td>
                      </tr>

                      <tr class="place_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.Place' %> </label></td>
                        <td class=""><label class="table_place"></label></td>
                        <td class=""><label class=""></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_place"></label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_place"></label></td>
                        <td style="text-align: right"><label class="timi_place"></label></td>
                      </tr>
					
                      <tr class="roll_rat_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.RollRat' %> </label></td>
                        <td class=""><label class="table_roll_rat"></label></td>
                        <td class=""><label class=""></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_roll_rat"></label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_roll_rat"></label></td>
                        <td style="text-align: right"><label class="timi_roll_rat"></label></td>
                      </tr>
					
                      <tr class="roll_rlt_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.RollRlt' %> </label></td>
                        <td class=""><label class="table_roll_rlt"></label></td>
                        <td class=""><label class=""></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_roll_rlt"></label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_roll_rlt"></label></td>
                        <td style="text-align: right"><label class="timi_roll_rlt"></label></td>
                      </tr>
					
                      <tr class="roll_rdm_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.RollRdm' %> </label></td>
                        <td class=""><label class="table_roll_rdm"></label></td>
                        <td class=""><label class=""></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_roll_rdm"></label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_roll_rdm"></label></td>
                        <td style="text-align: right"><label class="timi_roll_rdm"></label></td>
                      </tr>
					
                      <tr class="roll_pss_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.RollPss' %> </label></td>
                        <td class=""><label class="table_roll_pss"></label></td>
                        <td class=""><label class=""></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_roll_pss"></label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_roll_pss"></label></td>
                        <td style="text-align: right"><label class="timi_roll_pss"></label></td>
                      </tr>
					
                      <tr class="roll_pfm_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.RollPfm' %> </label></td>
                        <td class=""><label class="table_roll_pfm"></label></td>
                        <td class=""><label class=""></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_roll_pfm"></label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_roll_pfm"></label></td>
                        <td style="text-align: right"><label class="timi_roll_pfm"></label></td>
                      </tr>
                    
                      <tr class="neess_diastaseis">
                        <td class="td_left"><label><%= t 'translate.Final_price'  %>: </label></td>
                        <td></td>
                        <td class=""><label class=""></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="teliki_timi_market"></label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="teliki_timi_dealer"></label></td>
                        <td style="text-align: right"><label class="teliki_timi"></label></td>
                      </tr>
                      <!--KAI AYTA ME IF EXISTS-->
                    </table>
                  </div>
      </div>
      <!--End modal για τιμες-->
      

      <!-- Times me info apeuthias molis to patisw
      <div class="warning_times  alert-dismissible_1" role="alert">
        <button type="button" class="close" data-dismiss="" aria-label="Close"><div aria-hidden="true">&times;</div></button>
      </div>
      -->
    </div><!--col-xs-6 end-->
    
  </div><!--row first end-->
  
</div><!--container first end-->

<!-- Εδω μέσα είναι όλα -->
<div class=""><!--container box_shadow-->
  <!-- Ολα μέσα σε αυτο το row -->
  <div class=""><!--row row_mat-->
    <!-- Αριστερη στίλη με σχεδιο και πινακακια -->
    <!--
    <div class="col-xs-12 col-md-4 scroll" style="clear:both; overflow-y:scroll; position: fixed ">
      
    

    </div>--><!--END scroll αριστερη στήλη-->

    <!-- labels που δεν φαινονται για να κραταν τιμες -->
    <label class="width" style="display:none"><%= @width %></label>
    <label class="height" style="display:none"><%= @height %></label>
    <label class="posotita" style="display:none"><%= @posotita %></label>

    <!-- Δεξια στήλη με απιλογες -->
    <div class="col-xs-12 col-md-7 " style="top:0px;">
      <!-- Μεσα στην φορμα ειναι ολες οι επιλογες -->
      <form id=""><!--myForm-->
        

      </form><!-- End form -->
    </div><!-- End Δεξια στήλη με επιλογες  -->

    <!-- EXTRA κρυβετε και φαβερωνεται αναλωγα με το τι παταω. To .scroll ειναι παντα φανερο. Αλλαζουν μονο τα extra και η form -->
    <div class="col-xs-12 col-md-7 hide_extra" style="top:0px;"><!--style="overflow:scroll; height:400px;"-->
    <!-- Πινακακι μπλε -->
      <!--
      <div class="go_to_extra">
        <a href="#pane_tzamia" class='btn  go_to_extra_button'>1. ΤΖΑΜΙΑ ΕΞΩ</a>
        <a href="#pane_tzamia2" class='btn  go_to_extra_button'>2. TZAMIA ΜΕΣΑ</a>
        <a href="#pane_rola" class='btn  go_to_extra_button'>3. ΡΟΛΑ</a>
        <a href="#pane_persides" class='btn  go_to_extra_button'>4. ΠΕΡΣΙΔΕΣ</a>
        <a href="#pane_odoigous" class='btn  go_to_extra_button'>5. ΟΔΟΙΓΟΙ</a>
        <a href="#pane_typoi" class='btn  go_to_extra_button'>6. ΤΥΠΟΙ</a>
        <a href="#pane_profil" class='btn  go_to_extra_button'>7. ΠΡΟΦΙΛ</a>
      </div><br>
      -->

      

    </div><!-- End hide extra -->

    <!-- Δεξια μπάρα -->
    <div class="home_right_add_card">
      <div class="button buttons_show_hide">
        <!--
        <a href="#pane_tipos" class='btn  panw_form'>1. <%= t 'home.title' %></a><br>
        <a href="#pane_uliko" class='btn  panw_form'>2. <%= t 'material.title' %></a><br>
        <a href="#pane_xrwma" class='btn  panw_form'>3. <%= t 'color.title' %></a><br>
        <a href="#pane_fillo" class='btn  panw_form'>4. <%= t 'leaf.title' %></a><br>
        <a href="#pane_open_tipos" class='btn  panw_form'>5. <%= t 'open_type.title' %></a><br>
        <a href="#pane_diastaseis" class='btn  panw_form'>6. <%= t 'diastaseis.title' %></a><br>
        <a  OnClick="pane_katw_extra('#pane_tzamia');" class='btn  katw_form katw_form_tz'>1. ΤΖΑΜΙΑ</a><br>
        -->
        <!--<a  OnClick="pane_katw_extra('#pane_tzamia2');" class='btn  katw_form katw_form_tz'>2. TZAMIA ΜΕΣΑ</a><br>-->
        <!--
        <a  OnClick="pane_katw_extra('#pane_rola');" class='btn  katw_form katw_form_ro'>3. ΡΟΛΑ</a><br>
        <a  OnClick="pane_katw_extra('#pane_persides');" class='btn  katw_form katw_form_ro'>4. ΠΕΡΣΙΔΕΣ</a><br>
        <a  OnClick="pane_katw_extra('#pane_odoigous');" class='btn  katw_form katw_form_ro'>5. ΟΔΟΙΓΟΙ</a><br>
        <a  OnClick="pane_katw_extra('#pane_typoi');" class='btn  katw_form katw_form_pr'>6. ΤΥΠΟΙ</a><br>
        <a  OnClick="pane_katw_extra('#pane_profil');" class='btn  katw_form katw_form_pr'>7. ΠΡΟΦΙΛ</a>
        -->
      </div>
      <!--
      <div class="button">
        <button type="button" class='btn btn-default show_hide_button'>Show - Hide</button>
      </div>
      -->
    
    <div class="button">
      <!--
      <button type="button" id="home_right" class='btn btn-danger order_prin' ><%= t 'color.sunexia' %></button>
      -->
    </div>
   
    <!-- Δεξια κατω για να πηγαινει επάνω -->
    <!--
    <div class="home_right">
      <a class="btn btn-primary" id="home_right"><span class="glyphicon glyphicon-chevron-up"></span></a>
    </div>
    -->
    <!-- MODALS -->

    <!-- Δεξια προφιλ -->
    <div class="modal " id="myModal" role="dialog" data-keyboard="false" data-backdrop="false">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <!--
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>-->
            <h4 class="modal-title"><%= t 'translate.Number_of_profiles' %></h4>
          </div>
          <div class="modal-body">
            <p><%= t 'translate.Choose_number_of_profiles' %></p><br>
            <form id="myForm_d">
              <label class="radio-inline"><input class="radio" type="radio" name="optradio_d" value="1" checked="checked">1 </label><br>
              <label class="radio-inline"><input class="radio" type="radio" name="optradio_d" value="2">2 </label><br>
              <label class="radio-inline"><input class="radio" type="radio" name="optradio_d" value="3">3 </label><br>
              <label class="radio-inline"><input class="radio" type="radio" name="optradio_d" value="0"><%= t 'translate.Destroy' %></label><br>
            </form>
          </div>
          <div class="modal-footer">
            <!--<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>-->
            <button type="button" class="btn btn-primary arithmos_profil_deksia"><%= t 'translate.Save_changes' %></button>
          </div>
        </div>
      </div>
    </div>
    <!-- Αριστερα προφιλ -->
    <div class="modal modal_a " id="myModal_a" role="dialog" data-keyboard="false" data-backdrop="false">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <!--
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>-->
            <h4 class="modal-title"><%= t 'translate.Number_of_profiles' %></h4>
          </div>
          <div class="modal-body">
            <p><%= t 'translate.Choose_number_of_profiles' %></p><br>
            <form id="myForm_a">
              <label class="radio-inline"><input class="radio" type="radio" name="optradio_a" value="1" checked="checked">1 </label><br>
              <label class="radio-inline"><input class="radio" type="radio" name="optradio_a" value="2">2 </label><br>
              <label class="radio-inline"><input class="radio" type="radio" name="optradio_a" value="3">3 </label><br>
              <label class="radio-inline"><input class="radio" type="radio" name="optradio_a" value="0"><%= t 'translate.Destroy' %></label><br>
            </form>
          </div>
          <div class="modal-footer">
            <!--<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>-->
            <button type="button" class="btn btn-primary arithmos_profil_aristera"><%= t 'translate.Save_changes' %></button>
          </div>
        </div>
      </div>
    </div>
    <!-- Πανω προφιλ -->
    <div class="modal modal_p " id="myModal_p" role="dialog" data-keyboard="false" data-backdrop="false">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
          <!--
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>-->
            <h4 class="modal-title"><%= t 'translate.Number_of_profiles' %></h4>
          </div>
          <div class="modal-body">
            <p><%= t 'translate.Choose_number_of_profiles' %></p><br>
            <form id="myForm_p">
              <label class="radio-inline"><input class="radio" type="radio" name="optradio_p" value="1" checked="checked">1 </label><br>
              <label class="radio-inline"><input class="radio" type="radio" name="optradio_p" value="2">2 </label><br>
              <label class="radio-inline"><input class="radio" type="radio" name="optradio_p" value="3">3 </label><br>
              <label class="radio-inline"><input class="radio" type="radio" name="optradio_p" value="0"><%= t 'translate.Destroy' %></label><br>
            </form>
          </div>
          <div class="modal-footer">
            <!--<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>-->
            <button type="button" class="btn btn-primary arithmos_profil_panw"><%= t 'translate.Save_changes' %></button>
          </div>
        </div>
      </div>
    </div>
    <!-- Κατω προφιλ -->
    <div class="modal modal_k " id="myModal_k" role="dialog" data-keyboard="false" data-backdrop="false">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
          <!--
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>-->
            <h4 class="modal-title"><%= t 'translate.Number_of_profiles' %></h4>
          </div>
          <div class="modal-body">
            <p><%= t 'translate.Choose_number_of_profiles' %></p><br>
            <form id="myForm_k">
              <label class="radio-inline"><input class="radio" type="radio" name="optradio_k" value="1" checked="checked">1 </label><br>
              <label class="radio-inline"><input class="radio" type="radio" name="optradio_k" value="2">2 </label><br>
              <label class="radio-inline"><input class="radio" type="radio" name="optradio_k" value="3">3 </label><br>
              <label class="radio-inline"><input class="radio" type="radio" name="optradio_k" value="0"><%= t 'translate.Destroy' %></label><br>
            </form>
          </div>
          <div class="modal-footer">
            <!--<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>-->
            <button type="button" class="btn btn-primary arithmos_profil_katw"><%= t 'translate.Save_changes' %></button>
          </div>
        </div>
      </div>
    </div>
    <!-- Τυπος δεν χρεισημοποιητε -->
    <div class="modal modal_t " id="myModal_t" role="dialog" data-keyboard="false" data-backdrop="false">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
          <!--
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>-->
            <h4 class="modal-title"><%= t 'translate.Number_of_types' %></h4>
          </div>
          <div class="modal-body">
            <p><%= t 'translate.Choose_number_of_types' %></p><br>
            <form id="myForm_t">
              <label class="radio-inline"><input class="radio" type="radio" name="optradio_t" value="1" checked="checked">1</label><br>
              <label class="radio-inline"><input class="radio" type="radio" name="optradio_t" value="0"><%= t 'translate.Destroy' %></label><br>
              <!--
              <label class="radio-inline"><input class="radio" type="radio" name="optradio_t" value="2">2 τύπος</label><br>
              <label class="radio-inline"><input class="radio" type="radio" name="optradio_t" value="3">3 τύπος</label><br>
              -->
            </form>
          </div>
          <div class="modal-footer">
            <!--<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>-->
            <button type="button" class="btn btn-primary arithmos_typos"><%= t 'translate.Save_changes' %></button>
          </div>
        </div>
      </div>
    </div>
        <!-- Μodal για confirm -->
    <div class="modal modal_confirm " id="myModal_confirm" role="dialog"  >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title">
            <b><%= t 'translate.Price' %></b>
            <button type="button" class="btn btn-primary order"><%= t 'translate.Add_to_cart' %></button>
            <button type="button" class="btn btn-primary close_confirm"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
            </h4>
          </div>
          <div class="modal-body">
                <!-- Πίνακας πανω με αρχικες πληροφοριες -->
                <div class="table-responsive extra_table1" style="">
                  <table class="table table1 table-condensed">
                    <tr>
                      <td class="td_left"><label><%= t 'translate.Open_Category'  %>:</label></td>
                      <td class="open_categorie_table"><label></label></td>
                      <td></td>
                      <td></td>
                    </tr>
                    <tr>
                      <td class="pin1h td_left"><label><%= t 'translate.Profile_systems'  %>: </label></td>
                      <td class="pin1"><label class="material_table"></label></td>
                      <td></td>
                      <td></td>
                    </tr>
                    <tr>
                      <td class="pin2h td_left"><label><%= t 'translate.constructor'  %>: </label></td>
                      <td class="pin2"><label class="constructor_table"></label></td>
                      <td></td>
                      <td></td>
                    </tr>
                    <tr>
                      <td class="pin3h td_left"><label><%= t 'translate.System_A'  %>: </label></td>
                      <td class="pin3"><label class="system_table"></label></td>
                      <td></td>
                      <td></td>
                    </tr>
                    <tr>
                      <td class="td_left"><label><%= t 'translate.System_B'  %>: </label></td>
                      <td class=""><label class="line_table"></label></td>
                      <td></td>
                      <td></td>
                    </tr>
                    <tr>
                      <td class="td_left"><label><%= t 'translate.Leaf'  %>: </label></td>
                      <td class=""><label class="leaf_table"></label></td>
                      <td></td>
                      <td></td>
                    </tr>
                    <tr>
                      <td class="td_left"><label><%= t 'translate.Open_type'  %>: </label></td>
                      <td class=""><label class="open_type_table"></label></td>
                      <td></td>
                      <td></td>
                    </tr>
                    <!--
                    <tr>
                      <td class="td_left"><label><%= t 'material_pinakas.diastaseis'  %>: </label></td>
                      <td class=""><label class="diastaseis_table"><%= @width %> X <%= @height %></label></td>
                      <td class="table_tm"> <label class="diastaseis_table_tm"></label></td>
                      <td></td>
                    </tr>
                    -->
                    <tr class="neess_diastaseis">
                      <td class="td_left"><label><%= t 'translate.Start_price'  %>: </label></td>
                      <td class=""><label class="diastaseis_table"><%= @width %> X <%= @height %></label></td>
                      <td class="table_tm"> <label class="diastaseis_table_tm"></label></td>
                      <td class="td_right"><label class="super_apli_timi"></label></td>
                    </tr>

                    <tr>
                      <td class="td_left"><label><%= t 'translate.Inside_color'  %>: </label></td>
                      <td class=""><label class="color_main"></label></td>
                      <td class="table_tm"><label class="ep_mesa_p"></label></td>
                      <td class="td_right"><label class="ep_mesa"></label></td>
                    </tr>
                    <tr>
                      <td class="td_left"><label><%= t 'translate.Outside_color'  %>: </label></td>
                      <td class=""><label class="color_main_eksw"></label></td>
                      <td class="table_tm"><label class="ep_eksw_p"></label></td>
                      <td class="td_right"><label class="ep_eksw"></label></td>
                    </tr>
                    <tr class="tzami0_show_hide" style="display:none;">
                      <td class="td_left"><label><%= t 'translate.Inside_Outside_glass'  %>: </label></td>
                      <td class=""><label class="table_tzami0"></label></td>
                      <td class="table_tm"><label class="tm_tz_0"></label></td>
                      <td class="td_right"><label class="timi_tzami0"></label></td>
                    </tr>
                    <tr class="tzami2_show_hide" style="display:none;">
                      <td class="td_left"><label><%= t 'translate.Inside_glass'  %>: </label></td>
                      <td class=""><label class="table_tzami2"></label></td>
                      <td class="table_tm"><label class="tm_tz_2"></label></td>
                      <td class="td_right"><label class="timi_tzami2"></label></td>
                    </tr>
                    <tr class="tzami_show_hide" style="display:none;">
                      <td class="td_left"><label><%= t 'translate.Outside_glass'  %>: </label></td>
                      <td class=""><label class="table_tzami"></label></td>
                      <td class="table_tm"><label class="tm_tz_1"></label></td>
                      <td class="td_right"><label class="timi_tzami"></label></td>
                    </tr>
                    <!--KAI AYTA ME IF EXISTS-->
                    <% if (!@color_deksia.nil?) %>
                    <tr>
                      <td class="td_left"><label><%= t 'diastaseis.color_deksia'  %>: </label></td>
                      <td class=""><label class="color_deksia"><%= @color_deksia.name %></label></td>
                    </tr>
                    <tr>
                      <td class="td_left"><label><%= t 'diastaseis.color_aristera'  %>: </label></td>
                      <td class=""><label class="color_aristera"><%= @color_aristera.name %></label></td>
                    </tr>
                    <tr>
                      <td class="td_left"><label><%= t 'diastaseis.color_panw'  %>: </label></td>
                      <td class=""><label class="color_panw"><%= @color_panw.name %></label></td>
                    </tr>
                    <tr>
                      <td class="td_left"><label><%= t 'diastaseis.color_katw'  %>: </label></td>
                      <td class=""><label class="color_katw"><%= @color_katw.name %></label></td>
                    </tr>
                    <% end %>
                    <% if (!@color_fulou.nil?) %>
                    <tr>
                      <td class="td_left"><label><%= t 'diastaseis.color_fullou'  %>: </label></td>
                      <td class=""><label class="color_fullou"><%= @color_fulou.name %></label></td>
                      <td></td>
                    </tr>
                    <% end %>
                    <tr class="neess_diastaseis">
                      <td class="td_left"><label><%= t 'translate.Start_price'  %>: </label></td>
                      <td></td>
                      <td></td>
                      <td class="td_right"><label class="arxiki_timi"></label></td>
                    </tr>
                  </table>
                </div>
                <!-- end πανω πινακα -->
                <!-- Κατω πινακας με extra -->
                <div class="table-responsive extra_table2" style="/*overflow-y:scroll; height:250px;*/">
                  <table class="table table2 table-condensed">
                    <tr class="neess_diastaseis">
                      <td class="td_left"><label><%= t 'translate.New_dimensions'  %>: </label></td>
                      <td class=""><label class="diastaseis_extra"><%= @width %>X<%= @height %></label></td>
                      <td class="table_tm"> <label class="diastaseis_table_extra_tm"></label></td>
                      <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="nea_timi_market"></label></td>
                      <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="nea_timi_dealer"></label></td>
                      <td style="text-align: right"><label class="nea_timi"></label></td>
                    </tr>

                    <tr class="lastixo_show_hide" style="display:none;">
                      <td class="td_left"><label><%= t 'translate.lastixo'  %>: </label></td>
                      <td class=""><label class="table_lastixo_black"><%= t 'translate.black_gasket'  %></label><label class="table_lastixo_grey"><%= t 'translate.grey_gasket'  %></label></td>
                      <td class=""><label class=""></label></td>
                      <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_lastixo"></label></td>
                      <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_lastixo"></label></td>
                      <td style="text-align: right"><label class="timi_lastixo"></label></td>
                    </tr>
                    <tr class="epik_show_hide" style="display:none;">
                      <td class="td_left"><label><%= t 'translate.Top_mounted'  %>: </label></td>
                      <td class=""><label class="table_epikathimeno"></label></td>
                      <td class="table_tm"><label class="tm_ep"></label></td>
                      <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_epikathimenou"></label></td>
                      <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_epikathimenou"></label></td>
                      <td style="text-align: right"><label class="timi_epikathimenou"></label></td>
                    </tr>
                    <tr class="epik_show_hide" style="display:none;">
                      <td class="td_left"><label><%= t 'translate.Top_mounted' %> <%= t 'translate.Color' %>: </label></td>
                      <td class=""><label class="table_xrwma_epikathimeno"></label></td>
                      <td class=""><label class=""></label></td>
                      <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_xrwma_epikathimenou">0 €</label></td>
                      <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_xrwma_epikathimenou">0 €</label></td>
                      <td style="text-align: right"><label class="table_timi_xrwma_epikathimenou"></label></td>
                    </tr>
                    <tr class="ekso_show_hide" style="display:none;">
                      <td class="td_left"><label><%= t 'translate.Front_mounted'  %>: </label></td>
                      <td class=""><label class="table_eksoteriko"></label></td>
                      <td class="table_tm"><label class="tm_ek"></label></td>
                      <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_eksoterikou"></label></td>
                      <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_eksoterikou"></label></td>
                      <td style="text-align: right"><label class="timi_eksoterikou"></label></td>
                    </tr>
                    <tr class="ekso_show_hide" style="display:none;">
                      <td class="td_left"><label><%= t 'translate.Front_mounted' %> <%= t 'translate.Color'  %>: </label></td>
                      <td class=""><label class="table_xrwma_eksoteriko"></label></td>
                      <td class=""><label class=""></label></td>
                      <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_xrwma_eksoterikou">0 €</label></td>
                      <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_xrwma_eksoterikou">0 €</label></td>
                      <td style="text-align: right"><label class="table_timi_xrwma_eksoterikou"></label></td>
                    </tr>
                    <tr class="persida_show_hide" style="display:none;">
                      <td class="td_left"><label><%= t 'translate.Profil_for_shutters' %>: </label></td>
                      <td class=""><label class="table_persida"></label></td>
                      <td class="table_tm"><label class="tm_per"></label></td>
                      <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_persida"></label></td>
                      <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_persida"></label></td>
                      <td style="text-align: right"><label class="timi_persida"></label></td>
                    </tr>
                    <tr class="persida_show_hide" style="display:none;">
                      <td class="td_left"><label><%= t 'translate.Profil_for_shutters' %> <%= t 'translate.Color'  %>: </label></td>
                      <td class=""><label class="table_xrwma_persida"></label></td>
                      <td class=""><label class=""></label></td>
                      <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_xrwma_persida">0 €</label></td>
                      <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_xrwma_persida">0 €</label></td>
                      <td style="text-align: right"><label class="table_timi_xrwma_persida"></label></td>
                    </tr>
                    <tr class="odoigos_show_hide" style="display:none;">
                      <td class="td_left"><label><%= t 'translate.Rails'  %>: </label></td>
                      <td class=""><label class="table_odoigos"></label></td>
                      <td class="table_tm"><label class="tm_od"></label></td>
                      <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_odoigos"></label></td>
                      <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_odoigos"></label></td>
                      <td style="text-align: right"><label class="timi_odoigos"></label></td>
                    </tr>
                    <tr class="odoigos_show_hide" style="display:none;">
                      <td class="td_left"><label><%= t 'translate.Rails' %> <%= t 'translate.Color'  %>: </label></td>
                      <td class=""><label class="table_xrwma_odoigos"></label></td>
                      <td class=""><label class=""></label></td>
                      <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_xrwma_odoigos">0 €</label></td>
                      <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_xrwma_odoigos">0 €</label></td>
                      <td style="text-align: right"><label class="table_timi_xrwma_odoigos"></label></td>
                    </tr>
                    <tr class="profil_deksia_1_show_hide" style="display:none;">
                      <td class="td_left"><label><%= t 'translate.External_profile_right'  %>: </label></td>
                      <td class=""><label class="table_profil_deksia_1"></label></td>
                      <td class=""><label class="table_profil_deksia_1_arithmos"></label></td>
                      <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_profil_deksia_1"></label></td>
                      <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_profil_deksia_1"></label></td>
                      <td style="text-align: right"><label class="timi_profil_deksia_1"></label></td>
                    </tr>
                    <tr class="profil_deksia_2_show_hide" style="display:none;">
                      <td class="td_left"><label><%= t 'translate.External_profile_right'  %>: </label></td>
                      <td class=""><label class="table_profil_deksia_2"></label></td>
                      <td class=""><label class="table_profil_deksia_2_arithmos"></label></td>
                      <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_profil_deksia_2"></label></td>
                      <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_profil_deksia_2"></label></td>
                      <td style="text-align: right"><label class="timi_profil_deksia_2"></label></td>
                    </tr>
                    <tr class="profil_deksia_3_show_hide" style="display:none;">
                      <td class="td_left"><label><%= t 'translate.External_profile_right'  %>: </label></td>
                      <td class=""><label class="table_profil_deksia_3"></label></td>
                      <td class=""><label class="table_profil_deksia_3_arithmos"></label></td>
                      <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_profil_deksia_3"></label></td>
                      <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_profil_deksia_3"></label></td>
                      <td style="text-align: right"><label class="timi_profil_deksia_3"></label></td>
                    </tr>
                    <tr class="profil_deksia_xrwma_show_hide" style="display:none;">
                      <td class="td_left"><label><%= t 'translate.External_profile_right_color' %> </label></td>
                      <td class=""><label class="table_profil_deksia_xrwma"></label></td>
                      <td class=""><label class=""></label></td>
                      <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_profil_deksia_xrwma">0 €</label></td>
                      <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_profil_deksia_xrwma">0 €</label></td>
                      <td style="text-align: right"><label class="timi_profil_deksia_xrwma"></label></td>
                    </tr>
                    <tr class="profil_aristera_1_show_hide" style="display:none;">
                      <td class="td_left"><label><%= t 'translate.External_profile_left'  %>: </label></td>
                      <td class=""><label class="table_profil_aristera_1"></label></td>
                      <td class=""><label class="table_profil_aristera_1_arithmos"></label></td>
                      <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_profil_aristera_1"></label></td>
                      <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_profil_aristera_1"></label></td>
                      <td style="text-align: right"><label class="timi_profil_aristera_1"></label></td>
                    </tr>
                    <tr class="profil_aristera_2_show_hide" style="display:none;">
                      <td class="td_left"><label><%= t 'translate.External_profile_left'  %>: </label></td>
                      <td class=""><label class="table_profil_aristera_2"></label></td>
                      <td class=""><label class="table_profil_aristera_2_arithmos"></label></td>
                      <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_profil_aristera_2"></label></td>
                      <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_profil_aristera_2"></label></td>
                      <td style="text-align: right"><label class="timi_profil_aristera_2"></label></td>
                    </tr>
                    <tr class="profil_aristera_3_show_hide" style="display:none;">
                      <td class="td_left"><label><%= t 'translate.External_profile_left'  %>: </label></td>
                      <td class=""><label class="table_profil_aristera_3"></label></td>
                      <td class=""><label class="table_profil_aristera_3_arithmos"></label></td>
                      <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_profil_aristera_3"></label></td>
                      <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_profil_aristera_3"></label></td>
                      <td style="text-align: right"><label class="timi_profil_aristera_3"></label></td>
                    </tr>
                    <tr class="profil_aristera_xrwma_show_hide" style="display:none;">
                      <td class="td_left"><label><%= t 'translate.External_profile_Left_color' %> </label></td>
                      <td class=""><label class="table_profil_aristera_xrwma"></label></td>
                      <td class=""><label class=""></label></td>
                      <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_profil_aristera_xrwma">0 €</label></td>
                      <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_profil_aristera_xrwma">0 €</label></td>
                      <td style="text-align: right"><label class="timi_profil_aristera_xrwma"></label></td>
                    </tr>
                    <tr class="profil_panw_1_show_hide" style="display:none;">
                      <td class="td_left"><label><%= t 'translate.External_profile_top'  %>: </label></td>
                      <td class=""><label class="table_profil_panw_1"></label></td>
                      <td class=""><label class="table_profil_panw_1_arithmos"></label></td>
                      <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_profil_panw_1"></label></td>
                      <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_profil_panw_1"></label></td>
                      <td style="text-align: right"><label class="timi_profil_panw_1"></label></td>
                    </tr>
                    <tr class="profil_panw_2_show_hide" style="display:none;">
                      <td class="td_left"><label><%= t 'translate.External_profile_top'  %>: </label></td>
                      <td class=""><label class="table_profil_panw_2"></label></td>
                      <td class=""><label class="table_profil_panw_2_arithmos"></label></td>
                      <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_profil_panw_2"></label></td>
                      <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_profil_panw_2"></label></td>
                      <td style="text-align: right"><label class="timi_profil_panw_2"></label></td>
                    </tr>
                    <tr class="profil_panw_3_show_hide" style="display:none;">
                      <td class="td_left"><label><%= t 'translate.External_profile_top'  %>: </label></td>
                      <td class=""><label class="table_profil_panw_3"></label></td>
                      <td class=""><label class="table_profil_panw_3_arithmos"></label></td>
                      <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_profil_panw_3"></label></td>
                      <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_profil_panw_3"></label></td>
                      <td style="text-align: right"><label class="timi_profil_panw_3"></label></td>
                    </tr>
                    <tr class="profil_panw_xrwma_show_hide" style="display:none;">
                      <td class="td_left"><label><%= t 'translate.External_profile_Top_color' %> </label></td>
                      <td class=""><label class="table_profil_panw_xrwma"></label></td>
                      <td class=""><label class=""></label></td>
                      <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_profil_panw_xrwma">0 €</label></td>
                      <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_profil_panw_xrwma">0 €</label></td>
                      <td style="text-align: right"><label class="timi_profil_panw_xrwma"></label></td>
                    </tr>
                    <tr class="profil_katw_1_show_hide" style="display:none;">
                      <td class="td_left"><label><%= t 'translate.External_profile_bottom'  %>: </label></td>
                      <td class=""><label class="table_profil_katw_1"></label></td>
                      <td class=""><label class="table_profil_katw_1_arithmos"></label></td>
                      <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_profil_katw_1"></label></td>
                      <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_profil_katw_1"></label></td>
                      <td style="text-align: right"><label class="timi_profil_katw_1"></label></td>
                    </tr>
                    <tr class="profil_katw_2_show_hide" style="display:none;">
                      <td class="td_left"><label><%= t 'translate.External_profile_bottom'  %>: </label></td>
                      <td class=""><label class="table_profil_katw_2"></label></td>
                      <td class=""><label class="table_profil_katw_2_arithmos"></label></td>
                      <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_profil_katw_2"></label></td>
                      <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_profil_katw_2"></label></td>
                      <td style="text-align: right"><label class="timi_profil_katw_2"></label></td>
                    </tr>
                    <tr class="profil_katw_3_show_hide" style="display:none;">
                      <td class="td_left"><label><%= t 'translate.External_profile_bottom'  %>: </label></td>
                      <td class=""><label class="table_profil_katw_3"></label></td>
                      <td class=""><label class="table_profil_katw_3_arithmos"></label></td>
                      <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_profil_katw_3"></label></td>
                      <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_profil_katw_3"></label></td>
                      <td style="text-align: right"><label class="timi_profil_katw_3"></label></td>
                    </tr>
                    <tr class="profil_katw_xrwma_show_hide" style="display:none;">
                      <td class="td_left"><label><%= t 'translate.External_profile_Bottom_color' %> </label></td>
                      <td class=""><label class="table_profil_katw_xrwma"></label></td>
                      <td class=""><label class=""></label></td>
                      <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_profil_katw_xrwma">0 €</label></td>
                      <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_profil_katw_xrwma">0 €</label></td>
                      <td style="text-align: right"><label class="timi_profil_katw_xrwma"></label></td>
                    </tr>
                    <tr class="typos_katw_1_show_hide" style="display:none;">
                      <td class="td_left"><label><%= t 'translate.Types'  %>: </label></td>
                      <td class=""><label class="table_typos_katw_1"></label></td>
                      <td class=""><label class="table_typos_katw_1_arithmos"></label></td>
                      <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_typos_katw_1"></label></td>
                      <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_typos_katw_1"></label></td>
                      <td style="text-align: right"><label class="timi_typos_katw_1"></label></td>
                    </tr>
                    <tr class="typos_katw_2_show_hide" style="display:none;">
                      <td class="td_left"><label><%= t 'translate.Types'  %>: </label></td>
                      <td class=""><label class="table_typos_katw_2"></label></td>
                      <td class=""><label class="table_typos_katw_2_arithmos"></label></td>
                      <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_typos_katw_2"></label></td>
                      <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_typos_katw_2"></label></td>
                      <td style="text-align: right"><label class="timi_typos_katw_2"></label></td>
                    </tr>
                    <tr class="typos_katw_3_show_hide" style="display:none;">
                      <td class="td_left"><label><%= t 'translate.Types'  %>: </label></td>
                      <td class=""><label class="table_typos_katw_3"></label></td>
                      <td class=""><label class="table_typos_katw_3_arithmos"></label></td>
                      <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_typos_katw_3"></label></td>
                      <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_typos_katw_3"></label></td>
                      <td style="text-align: right"><label class="timi_typos_katw_3"></label></td>
                    </tr>
                    <!--
                    <tr class="profil_typos_xrwma_show_hide" style="display:none;">
                      <td class="td_left"><label><%= t 'translate.Type_color' %> </label></td>
                      <td class=""><label class="table_profil_typos_xrwma"></label></td>
                      <td class=""><label class=""></label></td>
                      <td class="td_right"><label class="timi_profil_typos_xrwma"></label></td>
                    </tr>
                    -->
                    <tr class="prostasia_show_hide" style="display:none;">
                      <td class="td_left"><label><%= t 'translate.Protection' %> </label></td>
                      <td class=""><label class="table_prostasia"></label></td>
                      <td class=""><label class=""></label></td>
                      <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_prostasia"></label></td>
                      <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_prostasia"></label></td>
                      <td style="text-align: right"><label class="timi_prostasia"></label></td>
                    </tr>

                    <tr class="window_still_show_hide" style="display:none;">
                      <td class="td_left"><label><%= t 'translate.WindowStill' %> </label></td>
                      <td class=""><label class="table_window_still"></label></td>
                      <td class=""><label class=""></label></td>
                      <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_window_still"></label></td>
                      <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_window_still"></label></td>
                      <td style="text-align: right"><label class="timi_window_still"></label></td>
                    </tr>

                    <tr class="place_show_hide" style="display:none;">
                      <td class="td_left"><label><%= t 'translate.Place' %> </label></td>
                      <td class=""><label class="table_place"></label></td>
                      <td class=""><label class=""></label></td>
                      <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_place"></label></td>
                      <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_place"></label></td>
                      <td style="text-align: right"><label class="timi_place"></label></td>
                    </tr>

                    <tr class="roll_rat_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.RollRat' %> </label></td>
                        <td class=""><label class="table_roll_rat"></label></td>
                        <td class=""><label class=""></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_roll_rat"></label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_roll_rat"></label></td>
                        <td style="text-align: right"><label class="timi_roll_rat"></label></td>
                      </tr>
          
                      <tr class="roll_rlt_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.RollRlt' %> </label></td>
                        <td class=""><label class="table_roll_rlt"></label></td>
                        <td class=""><label class=""></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_roll_rlt"></label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_roll_rlt"></label></td>
                        <td style="text-align: right"><label class="timi_roll_rlt"></label></td>
                      </tr>
          
                      <tr class="roll_rdm_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.RollRdm' %> </label></td>
                        <td class=""><label class="table_roll_rdm"></label></td>
                        <td class=""><label class=""></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_roll_rdm"></label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_roll_rdm"></label></td>
                        <td style="text-align: right"><label class="timi_roll_rdm"></label></td>
                      </tr>
          
                      <tr class="roll_pss_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.RollPss' %> </label></td>
                        <td class=""><label class="table_roll_pss"></label></td>
                        <td class=""><label class=""></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_roll_pss"></label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_roll_pss"></label></td>
                        <td style="text-align: right"><label class="timi_roll_pss"></label></td>
                      </tr>
          
                      <tr class="roll_pfm_show_hide" style="display:none;">
                        <td class="td_left"><label><%= t 'translate.RollPfm' %> </label></td>
                        <td class=""><label class="table_roll_pfm"></label></td>
                        <td class=""><label class=""></label></td>
                        <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="timi_market_roll_pfm"></label></td>
                        <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="timi_dealer_roll_pfm"></label></td>
                        <td style="text-align: right"><label class="timi_roll_pfm"></label></td>
                      </tr>
                    
                    <tr class="neess_diastaseis">
                      <td class="td_left"><label><%= t 'translate.Final_price'  %>: </label></td>
                      <td></td>
                      <td class=""><label class=""></label></td>
                      <td><label><%= t 'translate.MarketPrice'  %>: </label><label class="teliki_timi_market"></label></td>
                      <td><label><%= t 'translate.DealerPrice'  %>: </label><label class="teliki_timi_dealer"></label></td>
                      <td style="text-align: right"><label class="teliki_timi"></label></td>
                    </tr>
                    <!--KAI AYTA ME IF EXISTS-->
                  </table>
                </div>
          
          </div>
          <div class="modal-footer">
            <!--<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>-->
          </div>
        </div>
      </div>
    </div>
    <!--End modal για confirm-->
    <!-- Τελικο modal για χωρισματα -->
    <div class="modal modal_xwrisma " id="myModal_xwrisma" role="dialog"  >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title">
            <b><%= t 'translate.New_rules' %></b>
              <button type="button" class="btn btn-primary update" style="display:none;"><%= t 'translate.Update' %></button><br>
              <%= t 'translate.Position_number' %>: 
              <select id="aukson_id">
                <% @lista_me_ok_aukson.each do |l| %>
                  <option value="<%= l %>"><%= l %></option>
                <% end %><!--End each-->
              </select>
              <button type="button" class="btn btn-primary confirm"><%= t 'translate.Confirm' %></button>
              <!--
              <button type="button" class="btn btn-primary order"><%= t 'translate.Add_to_cart' %></button>-->
              <button type="button" class="btn btn-primary close_add_to_card"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
            </h4>
          </div>
          <div class="modal-body">
            <form id="myForm_xwrisma">
              <div class="mesa_sto_modal_float_l">
                <h4 id="modal_new_width"></h4>

                <div class="diastaseis1 xwrismata_sxedio_orizontia"></div>
                <!--
                <p class="modal_da">Χώρισμα αριστερά:<input type="text" id="xwr_ar" name="aristera_xwrisma"></p>
                <p class="modal_da">Χώρισμα δεξιά:<input type="text" id="xwr_de" name="deksia_xwrisma"></p>
            
            
                <p class="modal_dam">Χώρισμα αριστερά:<input type="text" name="aristera_xwrisma_3"></p>
                <p class="modal_dam">Χώρισμα μέση:<input type="text" name="mesi_xwrisma"></p>
                <p class="modal_dam">Χώρισμα δεξιά:<input type="text" name="deksia_xwrisma_3"></p>
                -->
              </div>
              <div class="mesa_sto_modal_float_r">
                <h4 id="modal_new_height"></h4>

                <div class="xwrismata_sxedio_katheta"></div>
                <!--
                <p class="modal_pk">Χώρισμα πάνω:<input type="text" id="xwr_pa" name="panw_xwrisma"></p>
                <p class="modal_pk">Χώρισμα κάτω:<input type="text" id="xwr_ka" name="katw_xwrisma"></p>
                -->
              </div>
            </form>
            <hr>
            <div class="row">
              <div class="col-xs-12">
                <div id="sxedio_new2" height="400" width="400" style="width: 400px;"></div>
              </div>
            </div>
            
            <hr> 
          </div>
          <div class="modal-footer">
            <!--<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>-->
          </div>
        </div>
      </div>
    </div>

  </div><!--End row-->
</div><!-- End container -->

<script>

  //Οταν κανω κλικ στο ανοιγμα για την επαναληψη να παταω και χρωμα. Στην ουσια επαναληψη για χρωμα. Metavliti true false
  function prwta_xrwma(metavliti,width,height){
    if ( "<%= @color.name %>" !== "" && metavliti){ 
      $(".color").each(function( index ) {
          if( $( this ).attr("id") == "<%= @color.name %>" ){
            color_typou = "<%= @color.code %>";
            $( this ).click();
          }
        });
      }
      if ( "<%= @color_eksw.name %>" !== "" && metavliti){  
        $(".color_eksw").each(function( index ) {
          if( $( this ).attr("id") == "<%= @color_eksw.name %>" ){
            color_typou_eksw = "<%= @color_eksw.code %>";
            $( this ).click();
          }
        });
      }
      if ( metavliti ){
        $("#width").val(parseFloat(width).toFixed(0));
        $("#height").val(parseFloat(height).toFixed(0));
      }
  }

  $(document).ready(function() {

    
    $(".second_panel").hide();
    $(".third_panel").hide();
    $(".Cat_button_show").hide();
    //Hide all right tabs
    $(".tab_material").hide();
    $(".material_2").hide();
    $(".material_3").hide();
    $(".tab_color").hide();
    $(".color_2").hide();
    $(".tab_leaf").hide();
    $(".tab_open_type").hide();
    $(".tab_dimensions").hide();
    $(".tab_glass").hide();
    $(".tab_roll").hide();
    $(".tab_shutter_prof").hide();
    $(".tab_guide").hide();
    $(".tab_profils").hide();

    $(".Cat_button_show").click(function(){
      /*
      $(".Left_main_panel").removeClass( "col-xs-1" );
      $(".Left_main_panel").addClass( "col-xs-6" );
      $(".col_right_svg").removeClass( "col-xs-11" );
      $(".col_right_svg").addClass( "col-xs-6" );
      $(".LEFT_BAR").show();
      $(".Cat_button_show").hide();
      */
    });

    $(".Cat_button_1").click(function(){
      if( $(this).hasClass( "Cat_active" ) ){
        /*
        $(".Left_main_panel").addClass( "col-xs-1" );
        $(".Left_main_panel").removeClass( "col-xs-6" );
        $(".col_right_svg").addClass( "col-xs-11" );
        $(".col_right_svg").addClass( "col-xs-6" );
        $(".LEFT_BAR").hide();
        $(".Cat_button_show").show();
        */
      }else{
        geniko_ok = false;
        $(".first_panel").show();
        $(this).addClass( "Cat_active" );
        $(".second_panel").hide();
        $(".third_panel").hide();
        $(".Cat_button_2").removeClass( "Cat_active" );
        $(".Cat_button_3").removeClass( "Cat_active" );
        //$(".left_tab:visible").first().click();
        $("#tab_dimensions").click();
      }
    });

    $(".Cat_button_2").click(function(){
      if( $(this).hasClass( "Cat_active" ) ){
        /*
        $(".Left_main_panel").addClass( "col-xs-1" );
        $(".Left_main_panel").removeClass( "col-xs-6" );
        $(".col_right_svg").addClass( "col-xs-11" );
        $(".col_right_svg").addClass( "col-xs-6" );
        $(".LEFT_BAR").hide();
        $(".Cat_button_show").show();
        */
      }else{
        $(".second_panel").show();
        $(this).addClass( "Cat_active" );
        $(".first_panel").hide();
        $(".third_panel").hide();
        $(".Cat_button_1").removeClass( "Cat_active" );
        $(".Cat_button_3").removeClass( "Cat_active" );
        $(".left_tab_extra.tab_left_active").first().click();
        if ( geniko_ok ){
          $(".Cat_button_2").click();
        }
        else{
          $(".alert_geniko_ok").show();
          $('.alert_geniko_ok').delay(3000).fadeOut('slow');
          $(".Cat_button_1").click();
          $("#tab_dimensions").click();
        }
		
		//check window stills
		if($('input[name=cat_an]:checked', '#myForm').attr('id') == "parathiro")
			$('.tab-window_still').show();
		else {
			$('.tab-window_still').hide();
			$(".tab-profils").click();
			//auto pou einai checked kanw click
			$(".window_still_cat").click();
		}
      }
    });

    $(".Cat_button_3").click(function(){
      if( $(this).hasClass( "Cat_active" ) ){
      }else{
        $(".third_panel").show();
        $(this).addClass( "Cat_active" );
        $(".second_panel").hide();
        $(".first_panel").hide();
        $(".Cat_button_2").removeClass( "Cat_active" );
        $(".Cat_button_1").removeClass( "Cat_active" );
      }
    });

    $(".left_tab").click(function(){
      var id = this.id;
      $(".tab_right").hide();
      $(".left_tab").removeClass( "tab_left_active" );
      $(this).addClass( "tab_left_active" );
      $("."+id).show();
      $('#loading_system').fadeOut(1000);
      $(".label_tab_top:visible").first().click();
      $("#width").focus();
    });

    $(".left_tab_extra").click(function(){
      var id = this.id;
      $(".tab_right").hide();
      $(".left_tab_extra").removeClass( "tab_left_active" );
      $(this).addClass( "tab_left_active" );
      $("."+id).show();
        if ( $( ".label_tab_top:visible" ).hasClass( "active" ) ){
          $(".label_tab_top:visible.active").click();
        }else{
          $(".label_tab_top:visible").first().click();
        }
    });

    $("#next_1").click(function(){
      $("#tab_material").click();
    });
    $("#back_2").click(function(){
      $("#tab_home").click();
    });
    $("#next_2").click(function(){
      $("#material_2").click();
    });
    $("#back_3").click(function(){
      $("#material_1").click();
    });
    $("#next_3").click(function(){
      $("#material_3").click();
    });
    $("#back_4").click(function(){
      $("#material_2").click();
    });
    $("#next_4").click(function(){
      $("#material_4").click();
    });
    $("#back_5").click(function(){
      $("#material_3").click();
    });
    $("#next_5").click(function(){
      $("#tab_color").click();
    });
    $("#back_6").click(function(){
      $("#tab_material").click();
      $("#material_4").click();
    });
    $("#next_6").click(function(){
      $("#tab_glass").click();
    });
    $("#back_7").click(function(){
      $("#tab_color").click();
    });
    $("#next_7, .next_7").click(function(){
      if($('input[name=cat_an]:checked', '#myForm').attr('id') == 'porta') {
        $("#tab_leaf").click();
        $("#tab_open_type").click();
      } else
        $("#tab_leaf").click();
    });
    $("#back_8").click(function(){
      $("#tab_glass").click();
    });
    $("#next_8").click(function(){
      $("#tab_open_type").click();
    });
    $("#back_9").click(function(){
      $("#tab_leaf").click();
    });
    $("#next_9").click(function(){
      $("#tab_dimensions").click();
    });
    $("#back_10").click(function(){
      $("#tab_open_type").click();
    });
	$("#go_glass_0").click(function(){
		$("#glass_0").click();
	});
	$(".go_glass_1").click(function(){
		$("#glass_1").click();
	});
	$("#go_glass_2, .go_glass_2").click(function(){
		$("#glass_2").click();
	});

  $("#next_to_panels").click(function(){
    if($('input[name=cat_an]:checked', '#myForm').attr('id') != 'porta')
      $("#tab_leaf").click();
    else
      $("#glass_3").click();
  });

    $(".label_tab_top").click(function(){
      var id = this.id;
      $(".label_tab_bottom").hide();
      $(".label_tab_top:visible").removeClass( "active" );
      $(this).addClass( "active" );
      $("."+id).show();
      $('#loading_system').fadeOut(1000);
      if ( id == "types_top" ){
        if (typeof(profil_typos_new) !== "undefined"){ 
          if( $('input[name=cat_an]:checked', '#myForm').attr('id') == "parathiro" ){
            //alert(profil_typos_new);
            if( profil_typos_new == 0 ){
              $(".typos").each(function( index ) {
                if( $( this ).attr("id") == "1" ){
                  //YES_TYPOS = true;
                  $( this ).trigger('click');
                }
              });
            }
          }else{
            if( profil_typos_new == 0 ){
              $(".typos").each(function( index ) {
                if( $( this ).attr("id") == "2" ){
                  //YES_TYPOS = true;
                  $( this ).trigger('click');
                }
              });
            }
          }
        }
      }
      if ( id == "roll_rails" ){
          //alert( typeof(odoigos) );
          //alert(odoigos)
          if( odoigos == 0 || odoigos == "0" ){
            $(".odoigoi").each(function( index ) {
              //alert($( this ).attr("id"))
              if( $( this ).attr("id") == 6 ){
                //alert("!");
                //window.odoigos_id = odoigos_id;
                //window.color_odoigou_meta = color_odoigou;
                $( this ).trigger('click');
                //$( this ).trigger('click');
              }
            });
          }
        }
    });

    if ($(window).width() < 1011) {
      $(".Left_main_panel").removeClass("col-xs-6");
      $(".Left_main_panel").addClass("col-xs-12");
      $(".col_right_svg").removeClass("col-xs-6");
      $('#row').attr("onMouseOver", "this.bgColor='red'")
      //$(".col_right_svg").hide();
      //$(".right_panel_first").attr("onMouseOver", "");
      //$(".right_panel_second").attr("onMouseOver", "");
    }
    else {
      $(".Left_main_panel").removeClass("col-xs-12");
      $(".Left_main_panel").addClass("col-xs-6");
      $(".col_right_svg").addClass("col-xs-6");
      //$(".right_panel_first").attr("onMouseOver", "document.body.style.overflow='hidden';");
      //$(".right_panel_second").attr("onMouseOver", "document.body.style.overflow='hidden';");
      //$(".col_right_svg").show();
    }

    var height_cat_buttons = $(".category_buttons").outerHeight();
    //var header_height = $(".navbar-default").height();
    var minus_height = height_cat_buttons*2;
    $(".right_panel_first, #myForm").css("height", $(".Left_main_panel").outerHeight() - minus_height);
    $(".left_panel_first, #myForm").css("height", $(".Left_main_panel").outerHeight() - minus_height);
    $(".left_panel_second, #myForm").css("height", $(".Left_main_panel").outerHeight() - minus_height);
    $(".right_panel_second, #myForm").css("height", $(".Left_main_panel").outerHeight() - minus_height);
    //$(".right_panel_third, #myForm").css("height", $(".Left_main_panel").outerHeight() - minus_height);
    //Δεξια υψος ιδιο με αριστερα υψος κουτιου 
    $(".col_right_svg").css("height", $(".Left_main_panel").outerHeight());

    $( window ).resize(function() {
      var height_cat_buttons = $(".category_buttons").outerHeight();
      //var header_height = $(".navbar-default").height();
      var minus_height = height_cat_buttons*2;
      $(".right_panel_first, #myForm").css("height", $(".Left_main_panel").outerHeight() - minus_height);
      $(".left_panel_first, #myForm").css("height", $(".Left_main_panel").outerHeight() - minus_height);
      $(".left_panel_second, #myForm").css("height", $(".Left_main_panel").outerHeight() - minus_height);
      $(".right_panel_second, #myForm").css("height", $(".Left_main_panel").outerHeight() - minus_height);
      //$(".right_panel_third, #myForm").css("height", $(".Left_main_panel").outerHeight() - minus_height);
      $(".col_right_svg").css("height", $(".Left_main_panel").outerHeight());

      if ($(window).width() < 1011) {
        $(".Left_main_panel").removeClass("col-xs-6");
        $(".Left_main_panel").addClass("col-xs-12");
        $(".col_right_svg").removeClass("col-xs-6");
        //$(".col_right_svg").hide();
      }
      else {
        $(".Left_main_panel").removeClass("col-xs-12");
        $(".Left_main_panel").addClass("col-xs-6");
        $(".col_right_svg").addClass("col-xs-6");
        //$(".col_right_svg").show();
      }
    });

    //Γενικα να πηγαινω κατω με mouse up και οχι με click
    $(".kataskevastes_katw").mouseup(function(){
      //$("#myForm").scrollTo(".systems", 1000); //custom animation speed
      $("#material_3").click();
    });

    $(".systems_katw").mouseup(function(){
      //$("#myForm").scrollTo(".lines", 1000); //custom animation speed
      $("#material_4").click();
    });

    $(".lines_katw").mouseup(function(){
      //$("#myForm").scrollTo("#pane_xrwma", 1000); //custom animation speed
      //$("#tab_glass").click();
      $("#tab_color").click();
    });
    $(".xrwmata_mesa_eksw_new").mouseup(function(){
      $("#tab_glass").click();
    });
    $(".xrwmata_mesa_new").mouseup(function(){
      $("#color_2").click();
    });

    $(".xrwmata_eksw_new").mouseup(function(){
      $("#tab_glass").click();
    });

    $(".kath_tzam0").mouseup(function(){
      //$("#myForm").scrollTo("#pane_xrwma", 1000); //custom animation speed
      //$("#glass_1").click();
    });

    $(".kath_tzam2").mouseup(function(){
      //$("#myForm").scrollTo("#pane_xrwma", 1000); //custom animation speed
      //$("#glass_2").click();
    });

    $(".kath_tzam").mouseup(function(){
      //$("#myForm").scrollTo("#pane_xrwma", 1000); //custom animation speed
		//if($("#glass_3").css('display') == 'inline-block') {
			//$("#glass_3").click();
		//} else  
    		//$("#tab_leaf").click();
    });
	
	$(".panels_wrapper").on("mouseup", ".panel", function() {
		$("#tab_leaf").click();
	});

    $(".m_e").mouseup(function(){
      //$("#myForm").scrollTo(".xrwma_katw", 1000); //custom animation speed
    });

    $(".xrwma_katw").mouseup(function(){
      //$("#myForm").scrollTo("#pane_fillo", 1000); //custom animation speed
      //$("#color_2").click();
    });

    $(".fillo_katw").mouseup(function(){
      //$("#myForm").scrollTo("#pane_open_tipos", 1000); //custom animation speed
      $("#tab_open_type").click();
    });

    $(".open_tipos_katw").mouseup(function(){
      //$("#myForm").scrollTo("#pane_diastaseis", 1000); //custom animation speed
      $("#tab_dimensions").click();
      $("#width").focus();
    });

    $(".close_add_to_card").click(function() {
      $("#myModal_xwrisma").modal('hide');
    });

    $(".close_price").click(function() {
      $("#myModal_times").modal('hide');
    });

    $(".close_confirm").click(function() {
      $("#myModal_confirm").modal('hide');
    });

    timeout = 0;
    patima_epikathimenou = false;
    patima_eksoterikou = false;
	patima_window_still = false;
	patima_window_stillsub = false;

    //Αρχικοποιω μεταβλητες
    //Μεταβλητη για πρωτη φωρα σε χρωμα 
    metavliti = true;
    //Οταν παταω ανοιγματα για να παω στα extra μια φορα και αν χρειαζεται αυτοματα να συμπληρωθουν 
    kanw_prwti_fora = true;
    kanw_prwti_fora_typos = false;
    kanw_prwti_fora_odoigoi = false;
    kanw_prwti_fora_tzami = true;
    //Μεταβλητη που ελεγχω αν ειναι πατημενο το οκ και μπορω να προσθεσω στο καθαλι το κουφωμα
    geniko_ok = false;
    //Μου επιτρεπει να βαλω τιμες παραπανω απο το επιτρεπτο και δεινει στο width,height το max του ανοιγματος στον controller
    elegxos_gia_parapanw_diastaseis_w = "0";
    elegxos_gia_parapanw_diastaseis_h = "0";

    //Τιμες με μικοι και υψοι προσορινες για να κανω πραξεις...
    //Το height new και width new τα περναω για price
    height = $(".height").text();
    width = $(".width").text();
    height_new = Number(height);
    width_new = Number(width);
    //Μικοι, υψοι για προφιλ, τυπους και επικαθημενα...Αυτα δηλαδη που αλλαζουν το μεγεθος του κουφωματος.
    //Τα χρησιμοποιω για να παιρνω το μικος και υψος του κουφωματος, ΤΟ ΠΡΑΓΜΑΤΙΚΟ μετα τις αφαιρεσεις. 
    width_d = 0;
    width_a = 0;
    height_p = 0;
    height_k = 0;
    height_epik = 0;
    height_typos = 0;
    //Μεταβλητες για χωρισματα. Θα αυξυθουν αν βαλω και αλλα ανοιγματα ποιο περιπλωκα πχ 3*3
    xwrisma1 = 0;
    xwrisma2 = 0;
    xwrisma3_1 = 0;
    xwrisma3_2 = 0;
    xwrisma3_3 = 0;
    xwrisma4_1 = 0;
    xwrisma4_2 = 0;
    xwrisma4_3 = 0;
	xwrisma4_4 = 0;
    xwrisma_y_1 = 0;
    xwrisma_y_2 = 0;
    //Δεν χρισημοποιειτε...
    mesa_eksw = 2
    //Τι θα περασω στην επομενη σελιδα....price
    //Τα περναω ολα + νεο υψος και μηκος και κανω στον controller υπολογισμους για τιμη.
    eksoteriko_rolo = 0;
    color_eksoterikou = 0;
    epikathimeno_rolo = 0;
	   window_still_sub_cat = 0;
	   window_still = 0;
    place = 0;
    color_epikathimenou = 0;
    persida = 0;
    color_persidas = 0;
    odoigos = 0;
    color_odoigou = 0;
    cat_tzamia0 = 0;
    cat_tzamia = 0;
    cat_tzamia2 = 0;
    tzamia0 = 0;
    tzamia = 0;
    tzamia2 = 0;
	panel = 1;
	sup_panel = 1;
	cat_panel = 1;
	panel_img = "";
    prostasia = 0;
    typos = 0;
    color_typos = 0;
    profil = 0;
    profil_deksia = 0;
    profil_aristera = 0;
    profil_panw = 0;
    profil_katw = 0;
    color_profil_deksia = 0;
    color_profil_aristera = 0;
    color_profil_panw = 0;
    color_profil_katw = 0;
	window_still_single = 0;
	roll_rat = 0;
	roll_rlt = 0;
	roll_rdm = 0;
	roll_pss = 0;
	roll_pfm = 0;
	
    pl_rol_ep = "<%= @pl_rolou_ep %>";
    up_rol_ep = "<%= @up_rolou_ep %>";
    pl_rol_ek = "<%= @pl_rolou_ek %>";
    up_rol_ek = "<%= @up_rolou_ek %>";
    pl_persidas = "<%= @pl_persidas %>";
    up_persidas = "<%= @up_persidas %>";
    up_odoigou = "<%= @up_odoigou %>";
    kinisi = "<@kinisi_deksia_aristera>";
    klap_ep = "<@klap_ep>";
    deroll = "<@deroll>";
    //ΝΕΕΣ μεταβλητες για σχεδιο, συν για χρωματα..!!!
    sxedio_epik = false;
    sxedio_ekso = false;
    sxedio_p_d = false;
    sxedio_p_a = false;
    sxedio_p_p = false;
    sxedio_p_k  = false;
    sxedio_persida = false;

    sxedio_color_epik = "white";
    sxedio_color_ekso = "white";
    sxedio_color_p_p = "white";
    sxedio_color_p_k = "white";
    sxedio_color_p_d = "white";
    sxedio_color_p_a = "white";
    sxedio_color_persida = "white";

    //Αρχικοποιηση χρωματων μεσα εξω
    color_aplo_m_e = "white";
    color_aplo = "white";//default color για color_aplo, το εχω για αρχικοποιηση
    color_aplo_eksw = "white";

    //Global πινακας με οικονες αναλογα την κατασταση.
    IMAGE = [];
    //Μεταβλητη για την επαναληψη οχι την αυτοματη. Ειναι στα extra και αλλαζει απο το meta_next_insert
    META_ARXIKO_FOR = false;
    //Σε ksana_extra αλλαζει και ειναι σε ολα τα extra ετσι ωστε αν ειναι true, ειναι επαναληψη και περναει το if απο τα extra
    ARXIKO_FOR = false;
    //Για αυτοματη και οχι επαναληψη. Ειναι στα extra για ελεγχο του if
    META_YES_TZAMIA0 = false;
    META_YES_TZAMIA = false;
    META_YES_TZAMIA2 = false;
    META_YES_ROLLA_EK = false;
    META_YES_ROLLA_EP = false;
    META_YES_ROLLA_EK_YPO = false;
    META_YES_ROLLA_EP_YPO = false;
    META_YES_PERSIDES = false;
    META_YES_ODOIGOI = false;
    META_YES_TYPOS = false;
    META_YES_TYPOS_COL = false;
    META_YES_TYP_AR = false;
    META_YES_TYP_AR2 = false;
    META_YES_TYP_AR3 = false;
    META_YES_TYP_AR_COL = false;
    META_YES_TYP_DE = false;
    META_YES_TYP_DE2 = false;
    META_YES_TYP_DE3 = false;
    META_YES_TYP_DE_COL = false;
    META_YES_TYP_PA = false;
    META_YES_TYP_PA2 = false;
    META_YES_TYP_PA3 = false;
    META_YES_TYP_PA_COL = false;
    META_YES_TYP_KA = false;
    META_YES_TYP_KA2 = false;
    META_YES_TYP_KA3 = false;
    META_YES_TYP_KA_COL = false;
    //Για αυτοματη και οχι επαναληψη. Ειναι στα extra για ελεγχο του if
    YES_TZAMIA0 = false;
    YES_TZAMIA = false;
    YES_TZAMIA2 = false;
    YES_ROLLA_EK = false;
    YES_ROLLA_EP = false;
    YES_ROLLA_EK_YPO = false;
    YES_ROLLA_EP_YPO = false;
    YES_PERSIDES = false;
    YES_ODOIGOI = false;
    YES_TYPOS = false;
    YES_TYPOS_COL = false;
    YES_TYP_AR = false;
    YES_TYP_AR2 = false;
    YES_TYP_AR3 = false;
    YES_TYP_AR_COL = false;
    YES_TYP_DE = false;
    YES_TYP_DE2 = false;
    YES_TYP_DE3 = false;
    YES_TYP_DE_COL = false;
    YES_TYP_PA = false;
    YES_TYP_PA2 = false;
    YES_TYP_PA3 = false;
    YES_TYP_PA_COL = false;
    YES_TYP_KA = false;
    YES_TYP_KA2 = false;
    YES_TYP_KA3 = false;
    YES_TYP_KA_COL = false;

    profil_deksia_counter = 0;// Πόσα προφίλ διαφορετικα έχω...Μεχρι 3.
    sunolika_profil_deksia = 0;// Πόσα προφίλ έχω όλα μαζι...Μεχρι 3.
    profil_deksia_array =[];
    profil_deksia_1_id = "0";
    profil_deksia_1_json_arithmos = "0";
    profil_deksia_2_id = "0";
    profil_deksia_2_json_arithmos = "0";
    profil_deksia_3_id = "0";
    profil_deksia_3_json_arithmos = "0";

    profil_aristera_counter = 0;// Πόσα προφίλ διαφορετικα έχω...Μεχρι 3.
    sunolika_profil_aristera = 0;// Πόσα προφίλ έχω όλα μαζι...Μεχρι 3.
    profil_aristera_array =[];
    profil_aristera_1_id = "0";
    profil_aristera_1_json_arithmos = "0";
    profil_aristera_2_id = "0";
    profil_aristera_2_json_arithmos = "0";
    profil_aristera_3_id = "0";
    profil_aristera_3_json_arithmos = "0";

    profil_panw_counter = 0;// Πόσα προφίλ διαφορετικα έχω...Μεχρι 3.
    sunolika_profil_panw = 0;// Πόσα προφίλ έχω όλα μαζι...Μεχρι 3.
    profil_panw_array =[];
    profil_panw_1_id = "0";
    profil_panw_1_json_arithmos = "0";
    profil_panw_2_id = "0";
    profil_panw_2_json_arithmos = "0";
    profil_panw_3_id = "0";
    profil_panw_3_json_arithmos = "0";

    profil_katw_counter = 0;// Πόσα προφίλ διαφορετικα έχω...Μεχρι 3.
    sunolika_profil_katw = 0;// Πόσα προφίλ έχω όλα μαζι...Μεχρι 3.
    profil_katw_array =[];
    profil_katw_1_id = "0";
    profil_katw_1_json_arithmos = "0";
    profil_katw_2_id = "0";
    profil_katw_2_json_arithmos = "0";
    profil_katw_3_id = "0";
    profil_katw_3_json_arithmos = "0";

    profil_typos_counter = 0;// Πόσα προφίλ διαφορετικα έχω...Μεχρι 3.
    //sunolika_profil_katw = 0;// Πόσα προφίλ έχω όλα μαζι...Μεχρι 3.
    profil_typos_array =[];
    profil_typos_1_id = "0";
    profil_typos_1_json_arithmos = "0";
    profil_typos_2_id = "0";
    profil_typos_2_json_arithmos = "0";
    profil_typos_3_id = "0";
    profil_typos_3_json_arithmos = "0";

    ///// LASTIXO ///////
    lastixo = 0; //Den exw patisei lastixo
    epilogi = true;
    lastixo_epilogh = 0;

    //Color για προφιλ αρχικα
    color_deksia = "<%= @color.name %>"
    color_aristera = "<%= @color.name %>"
    color_katw = "<%= @color.name %>"
    color_panw = "<%= @color.name %>"

    //Για συναρτηση
    if (typeof("<%= @color.name %>") !== "undefined"){ 
      color_rolou = "<%= @color.name %>";
      color_pers = "<%= @color.name %>";
      color_p = "<%= @color.name %>";
      color_k = "<%= @color.name %>";
      color_d = "<%= @color.name %>";
      color_a = "<%= @color.name %>";
    }else{
      color_rolou = "white";
      color_pers = "white";
      color_p = "white";
      color_k = "white";
      color_d = "white";
      color_a = "white";
    }

    //ΔΕΝ ΧΡΕΙΣΗΜΟΠΟΙΕΙΤΕ
    //Για canva θεσεις σε πινακα
    geniko_rolo = "0";
    geniko_persida = "0";
    pro_p = "0";
    pro_d = "0";
    pro_a = "0";
    pro_k = "0";

    //Αρχικοποιηση του VIEW. Τι θα φαινεται και τι οχι 
    $(".hide_extra").hide();
    $(".elefthero_ola").hide();
    $("#myForm").css("margin-bottom","0px");

    $(".table_lastixo_black").hide();
    $(".table_lastixo_grey").hide();

    ///Κριβω ολα τα alerts
    $(".alert_mikro_parathiro_roll").hide();
    $(".alert_mikro_parathiro_typ").hide();
    $(".alert_mikro_parathiro_de").hide();
    $(".alert_mikro_parathiro_ar").hide();
    $(".alert_mikro_parathiro_pa").hide();
    $(".alert_mikro_parathiro_ka").hide();
    $(".alert_mikro_parathiro_width").hide();
    $(".alert_mikro_parathiro_height").hide();
    $(".alert_mikro_parathiro_panw_apo").hide();
    $(".alert_geniko_ok").hide();
    $(".warning_times").hide();
    $(".alert_kipri").hide();

    $(".close").click(function() {
      $(this).parent().hide();
    });

    popover_open();
    
    //ΛΕΙΤΟΥΡΓΙΕΣ ΚΑΙ CLICKS
    //document.body.style.overflow = 'hidden';

    //..1..Κατηγορια ανοιγματος. Αν εχω το παταω, αλλως παταω το πρωτο
    if ( "<%= @open_categorie.name %>" != null) {
      $("#"+"<%= @open_categorie.name %>").prop("checked", true);
      $(".open_categorie_table").append("<%= t("kouf.".<<@open_categorie.name)  %>");
    }else{
      $("#parathiro").prop("checked", true);
    }
    //Στην αλλαγη της κατηγοριας ανοιγματος παταω το φυλλο και κανω και click στο πρωτο υλικο( Για να αλλαξουν και ολα τα αλλα απο κατω )
    $("input[name='cat_an']").change(function(){
       //$("#"+leaf_name).trigger("click");
	   $("#1").trigger("click");
	   $(".supplier_panels a:first-child .sup_panels").trigger("click");
	   /*if($(this).attr("id") == "porta") {
		   $("#tab_leaf").hide();
	   }*/
       setTimeout(function(){
          $("#tab_material").click();
        },500);
    });
	
    //Οταν κανω click στην κατηγορια ανοιγματος
    $(".cat_anoi").click(function(){
      //Αλλαζω την ονομασια στο πινακακι
      $(".open_categorie_table").text($( this ).attr('id'));
      //Παω στο υλικο
      $("#tab_material").click();
	  
      $.ajax({
        type:'GET',
        url:'/etic/leaf2',
        dataType: "json",
        data: { open_categorie_name: $('input[name=cat_an]:checked', '#myForm').attr('id') },
        success: function(data) { 
			$(".fullo").empty();
			var open_leaf="";
          	$.each(data, function(i, item) {
	        	open_leaf = "<img class='leaf img-responsive' id="+item.name+" src=/assets/"+item.image+" >";
				$(open_leaf).appendTo(".fullo");
       	 	});
	  },
        error: function(data) {}
      });//end ajax
	
  	  //panels
  	  if($( this ).attr('class').split(' ')[0] != '5') {
  		  $("#glass_3, .glass_3").hide();
  	  } else {
  	  	  $("#glass_3, .glass_3").show();
  	  }
      //portes
      if($('input[name=cat_an]:checked', '#myForm').attr('id') == 'porta') {
        $("#tab_leaf").css("visibility", "hidden");
        $("#tab_leaf").css("height", "0");
      } else {
        $("#tab_leaf").css("visibility", "visible");
        $("#tab_leaf").css("height", "80px");
      }
    });

    //..2..Υλικό. 
    $(".uliko").on("click", ".material", function() {
      //Αλλαζω το text στο πινακακι αριστερα
      $(".material_table").text($(this).next().text());
    
      //Αδιαζω ολα τα κάτω. Για να ξαναγεμισουν με ajax
      $( ".kataskevastes" ).empty(); //Αδιαζω το div για να μπει το νεο κλικ
      $( ".systems" ).empty();
      $( ".lines" ).empty();
      //Αλλαγη χρωματος
      $( ".material" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
      $( ".material" ).css("color","");
      $( this ).css("background-color","#666666");
      $( this ).css("color","white");
      //Ajax για να παρω τους κατασκευαστες του υλικου
      ulik = $(this).attr('id'); //Global variable για να την περασω στην αλλη σελιδα me ajax
      material_name_gia_diastaseis = $(this).next().text();//Παιρνω το label και οχι το input
      $.ajax({
        
        type:'GET',
        url:'/etic/kataskevastes',
        dataType: "json",
        data: { material_id: ulik },
        success: function(data) {
          //Φορτωνω τους κατασευαστες στο view
          var header2 = "<h5><%= t 'translate.Constructor' %></h5>" 
          $(header2).appendTo(".kataskevastes");
          $.each(data, function(i, item) { //Για κάθε data που παίρνω κανω τα παρακάτο 
            var div_data = "<!--<a data-toggle='popover' title='' data-content='<div class=gen_info2 style=margin-top:10px;><p class=gen_p_info2>"+item.desc+"</p></div>' data-html='true' popover-append-to-body='true' class='bstooltip' data-original-title='<b>"+item.name+"<b>'>--><input class='kataskevastis hide_radio' type=radio name=cat_kata id="+item.name+"><label for="+item.name+">"+item.name+"</label><!--</a>-->";
              $(div_data).appendTo(".kataskevastes");
          })
          //Κανονικα θα πρεπει να κανω κλικ σε αυτον που ειναι επιλεγμενος απο επαναληψη
          //$(".kataskevastis").trigger("click");
          //popover_open();
          $("#material_2").click();
          $(".kataskevastis").trigger("click");
          },
        error: function(data) { 
          }
      });//end ejax
      
      //Χρώματα ανάλωγα με κατασκευαστη. Απλα το μεταφαιρω με οποιο ειναι ανάλογο
      $(".katigoria_xrwmatos_m_e_A").empty();
      $(".katigoria_xrwmatos_m_e_B").empty();
      $(".katigoria_xrwmatos_m_e_C").empty();
      $(".katigoria_xrwmatos_A").empty();
      $(".katigoria_xrwmatos_B").empty();
      $(".katigoria_xrwmatos_C").empty();
      $(".katigoria_xrwmatos_ekso_A").empty();
      $(".katigoria_xrwmatos_ekso_B").empty();
      $(".katigoria_xrwmatos_ekso_C").empty();

      $.ajax({
        
        type:'GET',
        url:'/etic/color',
        dataType: "json",
        data: { material_id: ulik },
        success: function(data) {
          //Μεσα εξω
          var header2 = "<h5>"+"<%= t('translate.Surcharge') %>"+": <p style='color:red'>"+data.name_A.epivarinsi+"% </p></h5>" 
          $(header2).appendTo(".katigoria_xrwmatos_m_e_A");

          var header2 = "<h5>"+"<%= t('translate.Surcharge') %>"+": <p style='color:red'>"+data.name_B.epivarinsi+"% </p></h5>" 
          $(header2).appendTo(".katigoria_xrwmatos_m_e_B");

          var header2 = "<h5>"+"<%= t('translate.Surcharge') %>"+": <p style='color:red'>"+data.name_C.epivarinsi+"% </p></h5>" 
          $(header2).appendTo(".katigoria_xrwmatos_m_e_C");
          //Μεσα
          var header2 = "<h5>"+"<%= t('translate.Surcharge') %>"+": <p style='color:red'>"+data.name_A.epivarinsi+"% </p></h5>" 
          $(header2).appendTo(".katigoria_xrwmatos_A");

          var header2 = "<h5>"+"<%= t('translate.Surcharge') %>"+": <p style='color:red'>"+data.name_B.epivarinsi+"% </p></h5>" 
          $(header2).appendTo(".katigoria_xrwmatos_B");

          var header2 = "<h5>"+"<%= t('translate.Surcharge') %>"+": <p style='color:red'>"+data.name_C.epivarinsi+"% </p></h5>" 
          $(header2).appendTo(".katigoria_xrwmatos_C");
          //Εξω!!
          var header2 = "<h5>"+"<%= t('translate.Surcharge') %>"+": <p style='color:red'>"+data.name_A.epivarinsi+"% </p></h5>" 
          $(header2).appendTo(".katigoria_xrwmatos_ekso_A");

          var header2 = "<h5>"+"<%= t('translate.Surcharge') %>"+": <p style='color:red'>"+data.name_B.epivarinsi+"% </p></h5>" 
          $(header2).appendTo(".katigoria_xrwmatos_ekso_B");

          var header2 = "<h5>"+"<%= t('translate.Surcharge') %>"+": <p style='color:red'>"+data.name_C.epivarinsi+"% </p></h5>" 
          $(header2).appendTo(".katigoria_xrwmatos_ekso_C");
          //Μεσα εξω!!
          $.each(data.color_A, function(i, item) { //Για κάθε data που παίρνω κανω τα παρακάτο        
            var div_data = "<div class='xrwma xrwma_new_2'><img src=/assets/"+item.image+" class=color_m_e id="+item.name+" ><span id="+item.code+"></span></div>";
            $(div_data).appendTo(".katigoria_xrwmatos_m_e_A");   
          })
          $.each(data.color_B, function(i, item) { //Για κάθε data που παίρνω κανω τα παρακάτο        
            var div_data = "<div class='xrwma xrwma_new_2'><img src=/assets/"+item.image+" class=color_m_e id="+item.name+" ><span id="+item.code+"></span></div>";
            $(div_data).appendTo(".katigoria_xrwmatos_m_e_B");   
          })
          $.each(data.color_C, function(i, item) { //Για κάθε data που παίρνω κανω τα παρακάτο        
            var div_data = "<div class='xrwma xrwma_new_2'><img src=/assets/"+item.image+" class=color_m_e id="+item.name+" ><span id="+item.code+"></span></div>";
            $(div_data).appendTo(".katigoria_xrwmatos_m_e_C");   
          })
          //Μεσα!!
          $.each(data.color_A, function(i, item) { //Για κάθε data που παίρνω κανω τα παρακάτο        
            var div_data = "<div class='xrwma xrwma_new_2'><img src=/assets/"+item.image+" class=color id="+item.name+" ><span id="+item.code+"></span></div>";
            $(div_data).appendTo(".katigoria_xrwmatos_A");   
          })
          $.each(data.color_B, function(i, item) { //Για κάθε data που παίρνω κανω τα παρακάτο        
            var div_data = "<div class='xrwma xrwma_new_2'><img src=/assets/"+item.image+" class=color id="+item.name+" ><span id="+item.code+"></span></div>";
            $(div_data).appendTo(".katigoria_xrwmatos_B");   
          })
          $.each(data.color_C, function(i, item) { //Για κάθε data που παίρνω κανω τα παρακάτο        
            var div_data = "<div class='xrwma xrwma_new_2'><img src=/assets/"+item.image+" class=color id="+item.name+" ><span id="+item.code+"></span></div>";
            $(div_data).appendTo(".katigoria_xrwmatos_C");   
          })
          //Eξω!!!
          $.each(data.color_A, function(i, item) { //Για κάθε data που παίρνω κανω τα παρακάτο        
            var div_data = "<div class='xrwma xrwma_new_2'><img src=/assets/"+item.image+" class=color_eksw id="+item.name+" ><span id="+item.code+"></span></div>";
            $(div_data).appendTo(".katigoria_xrwmatos_ekso_A");   
          })
          $.each(data.color_B, function(i, item) { //Για κάθε data που παίρνω κανω τα παρακάτο        
            var div_data = "<div class='xrwma xrwma_new_2'><img src=/assets/"+item.image+" class=color_eksw id="+item.name+" ><span id="+item.code+"></span></div>";
            $(div_data).appendTo(".katigoria_xrwmatos_ekso_B");   
          })
          $.each(data.color_C, function(i, item) { //Για κάθε data που παίρνω κανω τα παρακάτο        
            var div_data = "<div class='xrwma xrwma_new_2'><img src=/assets/"+item.image+" class=color_eksw id="+item.name+" ><span id="+item.code+"></span></div>";
            $(div_data).appendTo(".katigoria_xrwmatos_ekso_C");   
          })
          $(".color_m_e").first().click();
          $(".color").first().click();
          $(".color_eksw").first().click();
          popover_open();
          },
        error: function(data) { 
          }
      });//end ejax
  });//end click
  
  //..3..Κατασκευαστής. 
  $(".kataskevastes").on("click", ".kataskevastis", function() {  //Click σε κατασκεβαστες για εμφανηση συστημάτων
    //Αλλαζω ονομασια στο πινακακι αριστερα
    $(".constructor_table").text($(this).next().text());
    //Εδω αδιάζω ολα τα παρακάτω
    $( ".systems" ).empty();
    $( ".lines" ).empty();
    //Αλλαγη χρωματος
    $( ".kataskevastis" ).css("background-color","");
    $( ".kataskevastis" ).css("color","");
    $( this ).css("background-color","#666666");
    $( this ).css("color","white");
    //Ajax για να παρω τα συστηματα του κατασκευαστη
    katas = $(this).attr('id'); //Global variable για να την περασω στην αλλη σελιδα
    $.ajax({
      
      type:'GET',
      url:'/etic/system',
      dataType: "json",
      data: { constructor_id: katas, open_categorie_name: $('input[name=cat_an]:checked', '#myForm').attr('id') },
      success: function(data) { 
        //Φορτώνω συστηματα σε view
        var header3 = "<h5><%= t 'translate.System_A' %></h5>" 
        $(header3).appendTo(".systems");
        $.each(data, function(i, item) { //Για κάθε data που παίρνω κανω τα παρακάτο 
          var div_data = "<input class='system hide_radio' type=radio name=cat_syst id="+item.name+" ><label id="+item.id+" for="+item.name+">"+item.name+"</label><br>";
          $(div_data).appendTo(".systems");
        })
        //$("#material_3").click();
        if ( "<%= @sys %>" == 1) {
          $("#"+"<%= @system.name %>").trigger("click");
        }else{
          $("#"+data[0].name).trigger("click");
        }
        popover_open();
        },
      error: function(data) { 
        }
    });//end ejax
  });//end click

  //..4..Συστήματα. 
  $(".systems").on("click", ".system", function() { //Click σε συστημα για εμφάνηση σειρών
    //Αλλαζω το πινακακι για να μπει το συστημα
    $(".system_table").text($(this).next().text());
    //Εδω αδιάζω ολα τα παρακάτω
    $( ".lines" ).empty();
    //Αλλαγη χρωματος
    $( ".system" ).css("background-color","");
    $( ".system" ).css("color","");
    $( this ).css("color","black");
    //Ajax για να παρω τις γραμμες
    syst = $(this).next().attr('id'); //Global variable για να την περασω στην αλλη σελιδα
    text = $(this).next().text();
    //Loading μεχρι να γεμισουν οι γραμμες
    $('#loading_system').show();
    $.ajax({
      
      type:'GET',
      url:'/etic/line',
      dataType: "json",
      data: { system_id: syst },
      success: function(data) { 
        var header4 = "<h5><%= t 'translate.System_B' %>: "+text+"</h5>" 
        $(header4).appendTo(".lines");
        $.each(data, function(i, item) { //Για κάθε data που παίρνω κανω τα παρακάτο 
          var line_div = "<!--<a data-toggle='popover' title='' data-content='<div class=gen_info2 style=margin-top:10px;><p class=gen_p_info2>"+item.koimeno+"</p></div>' data-html='true' popover-append-to-body='true' class='bstooltip' data-placement='right' data-original-title='<b>"+item.name+"<b>'>--><div class='line_div' id="+item.name_allo+" rel="+item.id+" ></div><!--</a>-->"
          $(line_div).appendTo(".lines");

          line = $("#"+item.name_allo+"");
          var div_data1 = "<h5 class='line_header'>"+ item.name +"</h5>"
          $(div_data1).appendTo(line);
          var div_data2 = "<label class='line2' id="+item.id+"><img src=/assets/"+item.direct_img+" ></label>";
          $(div_data2).appendTo(line).hide().fadeIn(500);
        })
        if ( "<%= @system.id %>" == syst ){
          $("#"+"<%= @line.name_allo %>").trigger("click");
        }else{
          $(".line_div").first().click();
        }
       
        popover_open();
        },
      error: function(data) { 
        }
    });//end ejax
    $('#loading_system').fadeOut(1000);
  });//end click

  //..5..Φύλλα. 
  $(".fullo").on("click", ".leaf", function() { 
    //Αλλαζω τα χρωματα που κλικαρα
    $( ".leaf" ).css("border","");
    $( ".leaf" ).css("border-color","#5cb85c");
    $( ".leaf" ).css("border-width","4px");
    $( ".leaf" ).css("background-color","");
    $( this ).css("border","solid");
    $( this ).css("border-color","#007389");
    $( this ).css("border-width","4px");
    $( this ).css("background-color","white");

    //Αδειαζω τα ανοιγματα
    $( ".ajax_open_type" ).empty();
    //Ποια διαλεξα
    leaf_name = $(this).attr('id');
    leaf = leaf_name;

    $(".leaf_table").empty();
    //Πινακακι
    if ( leaf_name == "1fullo" ){
      $(".leaf_table").append("<%= t('fulla.1fullo') %>");
    }else if( leaf_name == "2fullo" ){
      $(".leaf_table").append("<%= t('fulla.2fullo') %>");
    }else if( leaf_name == "4fullo" ){
  	  $(".leaf_table").append("<%= t('fulla.4fullo') %>");
	}else{
      $(".leaf_table").append("<%= t('fulla.3fullo') %>");
    }
    //Ajax για να παρω ανοιγματα
	
    $.ajax({
      
      type:'GET',
      url:'/etic/open_type',
      dataType: "json",
      data: { open_categorie_name: $('input[name=cat_an]:checked', '#myForm').attr('id'), material_name: $('input[name=cat_mat]:checked', '#myForm').attr('id'), constructor_name: $('input[name=cat_kata]:checked', '#myForm').attr('id'), system_name: $('input[name=cat_syst]:checked', '#myForm').attr('id'), line_name: line_id_name, leaf_name: leaf_name, panel: panel },
      success: function(data) { 
        $.each(data.open_type1, function(i, item) { //Για κάθε data που παίρνω κανω τα παρακάτο 
		if($("#glass_3").css('display') == 'inline-block') {
			var classname = "";
			//if((data.panel.direction == "left" && item.image == "29.2.png") || (data.panel.direction == "right" && item.image == "29.1.png"))
				//classname = "classhide"
			if(item.image == "29.1.png")
				classname = "left"
			else if(item.image == "29.2.png")
				classname = "right"
			else if(item.image == "real_triplo.png")
				classname = "center"
			else if(item.image == "30.1.png")
				classname = "center-min"
			else if(item.image == "30.2.png")
				classname = "right-min"
			else if(item.image == "30.3.png")
				classname = "left-min"
			else if(item.image == "30.4.png")
				classname = "center-center-min"
					
			
			var open_div = "<div class='tipos_anoigmatos img-responsive' id="+item.id+"><div class=tipos_name_ekso><h5 class=tipos_name >"+item.name+"</h5></div><img class=img-responsive id="+item.code+" src=/assets/"+item.image+" ><img class='dir-"+classname+" img-responsive panel-img-inner' src=/assets/doors/"+data.panel.image+" ></div>";
				
			
		} else {
			var open_div = "<div class='tipos_anoigmatos img-responsive' id="+item.id+"><div class=tipos_name_ekso><h5 class=tipos_name >"+item.name+"</h5></div><img class=img-responsive id="+item.code+" src=/assets/"+item.image+" ></div>" 
		}
          
          $(open_div).appendTo(".ajax_open_type");
             
        })
        kanw = false;
        if ( "<%= @open_type_epilegmeno.id %>" != ""){
          $(".tipos_anoigmatos").each(function( index ) {
            if( $( this ).attr("id") == "<%= @open_type_epilegmeno.id %>" ){
              $( this )[0].click();
              kanw = true;
            }
          });
          if ( kanw == false ){
            $(".tipos_anoigmatos").first().click();
          }
        }
        popover_open();
        },
      error: function(data) { 
        //$("#"+"<%= @open_type_epilegmeno.id %>").trigger("click");
        }
    });//end ejax
  });//end click
  
  //..6..Γραμμες. 
  $(".lines").on("click", ".line_div", function() { //Click σε σειρά για εμφάνηση φύλλων
    //Αλλαζω χρωματα σε αυτο που επελεξα
    $( ".line_header" ).css("background-color","white");
    $( ".line_header" ).css("color","black");
    $( ".line_header" ).css("border-color","black");
    $( ".line_header" ).css("border-width","2px");
    $( ".line_div" ).css("border-color","black");
    $( this ).children(":first").css("border","solid");
    $( this ).children(":first").css("border-color","#007389");
    $( this ).children(":first").css("border-width","2px");
    $( this ).children(":first").css("background-color","#d9eaed");
    $( this ).children(":first").css("color","black")
    $( this ).css("border-color","#5cb85c");
    //Ποιο επελεξα
    line_id_name = $( this ).attr('id');
    //Ολα αυτα τα περναω στην επομενη σελιδα που εχει τα φυλλα
    //Εδω ο Αιαντας δεν χρειαζετε, γινπνται ολα με το λινκ
	
	var first_id = true;
    if ( "<%= @leaf_epilegmeno.name %>" != ""){
      $(".leaf").each(function( index ) {
        if( $( this ).attr("id") == "<%= @leaf_epilegmeno.name %>" ){
          $( this )[0].click();
		  first_id = false;
        }
      });
	  if(first_id) {
	  	$(".fullo").children(":first").trigger("click");
	  }
    }
    //Πινακι ποιο επελεξα
    $(".line_table").text($(':nth-child(1)', this).text());
    popover_open();
  });
  
  //..7..Ανοιγματα.
  $(".ajax_open_type").on("click", ".tipos_anoigmatos", function() {
    //Αλλαγη σε χρωματα αυτου που επελεξα
    $( ".tipos_anoigmatos" ).css("border","");
    $( ".tipos_anoigmatos" ).css("border-color","white");
    $( ".tipos_anoigmatos" ).css("border-width","");
    $( ".tipos_anoigmatos" ).css("background-color","");
    $( this ).css("border","solid");
    $( this ).css("background-color","#5cb85c");
    $( this ).css("border-color","#007389");
    $( this ).css("border-width","4px");
    //Ποιο επελεξα + μεταβλητες
    tipos_anoigmatos = $(this).attr('id');
	//
	if(tipos_anoigmatos >= 80 && tipos_anoigmatos <= 84)
		$("#myForm_xwrisma").hide();
	else
		$("#myForm_xwrisma").show();
    tipos_name_gia_xrwma = $(':first-child', $(':nth-child(1)', this)).text();
    tipos_code = $(':nth-child(2)', this).attr('id');
    //Πινακακι αριστερα
    $(".open_type_table").text(tipos_name_gia_xrwma);
    //Για να επιλεγω χρωμα οταν κανω κλικ. Να ξαναζωγραφηζετε και για την επεναληψη
    prwta_xrwma(metavliti,"<%= @width %>", "<%= @height %>");
    metavliti = false;
    //Ajax για να παρω διαστασεις και να ζωγραφησω το κουφωμα
    $.ajax({
      
      type:'GET',
      url:'/etic/diastaseis',
      dataType: "json",
      data: { open_categorie_name: $('input[name=cat_an]:checked', '#myForm').attr('id'), material_name: $('input[name=cat_mat]:checked', '#myForm').attr('id'), constructor_name: $('input[name=cat_kata]:checked', '#myForm').attr('id'), system_name: $('input[name=cat_syst]:checked', '#myForm').attr('id'), line_name: line_id_name, leaf_name: leaf_name, open_type_name:  tipos_name_gia_xrwma  },
      success: function(data) { 
        $(".min_width").text("<%= t 'translate.Min'%> <%= t 'translate.Width'%>: "+data.min_width+" mm");
        $(".max_width").text("<%= t 'translate.Max'%> <%= t 'translate.Width'%>: "+data.max_width+" mm");
        $(".min_height").text("<%= t 'translate.Min'%> <%= t 'translate.Height'%>: "+data.min_height+" mm");
        $(".max_height").text("<%= t 'translate.Max'%> <%= t 'translate.Height'%>: "+data.max_height+" mm");
        max_width_sxedio = data.max_width;
        min_width_sxedio = data.min_width;
        max_height_sxedio = data.max_width;
        min_height_sxedio = data.min_width;
        table = data.table;
        $("#minw").text(data.min_width);
        $("#maxw").text(data.max_width);
        $("#minh").text(data.min_height);
        $("#maxh").text(data.max_height);
         //Default Glass
         if ( !kanw_prwti_fora_tzami ){
              //alert("Seuyeters");
              //$("#tab_glass").trigger('click');
             if( "<%= @tzami0_id %>" == "" ){
                if ( syst == "1" || syst == "4" ){
                  $(".cat_tzamia0").each(function( index ) {
                    if( $( this ).attr("id") == 1 ){
                      window.tzami0_id = 1;
                      META_YES_TZAMIA0 = true;
                      $( this ).trigger('click');
                      $( this ).trigger('click');
                    }
                  });
                }else{
                  $(".cat_tzamia0").each(function( index ) {
                    if( $( this ).attr("id") == 1 ){
                      window.tzami0_id = 2;
                      META_YES_TZAMIA0 = true;
                      $( this ).trigger('click');
                      $( this ).trigger('click');
                    }
                  });
                }
              }
          }
          else{
            kanw_prwti_fora_tzami = false;
            if( "<%= @tzami0_id %>" == "" ){
                if ( syst == "1" || syst == "4" ){
                  $(".cat_tzamia0").each(function( index ) {
                    if( $( this ).attr("id") == 1 ){
                      window.tzami0_id = 1;
                      META_YES_TZAMIA0 = true;
                      $( this ).trigger('click');
                    }
                  });
                }else{
                  $(".cat_tzamia0").each(function( index ) {
                    if( $( this ).attr("id") == 1 ){
                      window.tzami0_id = 2;
                      META_YES_TZAMIA0 = true;
                      $( this ).trigger('click');
                    }
                  });
                }
              }
          }
        //Πρωτη φωρα που κλικαρετε το ανοιγμα βλεπω αν χρειαζετια να κανω επαναληψη. Αλλιως απλα διαιρω διαστασεις και ζωγραφιζω με ok_click()
        if ( kanw_prwti_fora ){
          //Απο κατηγορια ανοιγματος. Αν ειναι διαφορο του 1 κανω επαναληψη. Αλλιως δεν κανω ketina_extra και βαζω διαστασεις/2. Μετα ζωγραφιζω
          if ( "<%= @den_exw_parrams %>" != "1" ){
            //Μεσα εχει το ksana_extra();
            $(".extra_diastaseis").click();
            $(".order_prin").show();
            extra_diastaseis_flag = true;
          }else{
            var prwto_width = (data.max_width + data.min_width)/2;
            var prwto_height = (data.max_height + data.min_height)/2;
            //$("#width").val(prwto_width);
            //$("#height").val(prwto_height);
            extra_diastaseis_flag = true;
          }
          kanw_prwti_fora = false;
          ok_click();
        }else{
          var prwto_width = (data.max_width + data.min_width)/2;
          var prwto_height = (data.max_height + data.min_height)/2;
          //$("#width").val(prwto_width);
          //$("#height").val(prwto_height);
          ok_click();
        }
        //Δεν ξανακανω την πρωτη επαναληψη
        $(".extra_diastaseis").remove();
        extra_diastaseis_flag = true;
        //Παλιο που δεν χρειαζεται
        $(".order_diastaseis").remove();

        if ( "<%= @metra_click %>" == "1" ){
          $("#tab_dimensions").click();
        }
        
        },
      error: function(data) { 
        }
    });//end ejax
  });//end ανοιγματα

  ///////////////////////BUTTON ΓΙΑ ΕΠΙΛΟΓΗ ΚΥΡΙΟΥ ΧΡΩΜΑΤΟΣ///////////////////////////////
  //Επιλογή αρχικού χρώματος και εμφάνηση στο label
  $(".katigoria_xrwmatos_m_e_A, .katigoria_xrwmatos_m_e_B, .katigoria_xrwmatos_m_e_C").on("click", ".color_m_e", function() { 
    //Ποιο επελεξα
    color_aplo_m_e = $(this).attr('id'); //Global variable για να την περασω στην αλλη σελιδα, εχω το name του
    
    $("#"+$(this).attr('id')+".color").click();
    $("#"+$(this).attr('id')+".color_eksw").click();

    //Πινακακι
    $(".color_main").text(color_aplo);
    //Για prwta_xrwma επανω
    color_typou = $(this).next().attr('id');
    //Σβηνω αυτα που ειχα πατησει
    $(".color_m_e").css('border-style', '');
    $(".tipos_name").css('display', '');
    //Κανω να φενετε με border αυτο που πατησα!!
    $(this).css('border-style', 'solid');
    $(this).css('border-width', '5px');
    $(this).css('border-color', '#007389');
    $(this).prev().children().css('display', 'block');
    //Αν δεν ειναι πρωτη φωρα ξαναζωγραφιζω

    if ( !kanw_prwti_fora ){
      ok_click();
    }
    //Υπολογιζω την τιμη του χρωματος
    times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);
  });//end click

  //Επιλογή αρχικού χρώματος και εμφάνηση στο label
  $(".katigoria_xrwmatos_A, .katigoria_xrwmatos_B, .katigoria_xrwmatos_C").on("click", ".color", function() { 
    //Ποιο επελεξα
    color_aplo = $(this).attr('id'); //Global variable για να την περασω στην αλλη σελιδα, εχω το name του
    //Πινακακι
    $(".color_main").text(color_aplo);
    //Για prwta_xrwma επανω
    color_typou = $(this).next().attr('id');
    //Σβηνω αυτα που ειχα πατησει
    $(".color").css('border-style', '');
    $(".tipos_name").css('display', '');
    //Κανω να φενετε με border αυτο που πατησα!!
    $(this).css('border-style', 'solid');
    $(this).css('border-width', '5px');
    $(this).css('border-color', '#007389');
    $(this).prev().children().css('display', 'block');
    //Αν δεν ειναι πρωτη φωρα ξαναζωγραφιζω
    if ( !kanw_prwti_fora ){
      ok_click();
    }
    //Υπολογιζω την τιμη του χρωματος
    times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);
  });//end click

  //Επιλογή αρχικού χρώματος και εμφάνηση στο label ΕΞΩ
  $(".katigoria_xrwmatos_ekso_A, .katigoria_xrwmatos_ekso_B, .katigoria_xrwmatos_ekso_C").on("click", ".color_eksw", function() { 
    //Ποιο επελεξα
    color_aplo_eksw = $(this).attr('id'); //Global variable για να την περασω στην αλλη σελιδα, εχω το name του
    //Πινακι
    $(".color_main_eksw").text(color_aplo_eksw);
    //Μεταβλητη για prwta_xrwma()
    color_typou_eksw = $(this).next().attr('id');
    //Σβηνω αυτα που ειχα πατησει
    $(".color_eksw").css('border-style', '');
    $(".tipos_name_eksw").css('display', '');
    //Κανω να φενετε με border αυτο που πατησα!!
    $(this).css('border-style', 'solid');
    $(this).css('border-width', '5px');
    $(this).css('border-color', '#007389');
    $(this).prev().children().css('display', 'block');
    //Υπολογιζω τιμη χρωματος εξω
    times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);
  });//end click

  mat_click();
  function mat_click(){
    $(".material#<%= @material.id %>").click();
  }
  
  //Με την υποβολη των διαστασεων αδιαζω τα πλαισια που θα εμφανισω για να μην ξαναεμφανιστουν.
  //Ελεγχώ τις διαστασεις συμφωνα με τα hidden label που εχω και αν ειναι σωστες ελεγχω αν εχω 1,2,3 φυλλα.
  //Κανω τους υπολογισμους εμφανιζω τα label και ειμαι ετιμος για συνεχεια.
  //Αν κανω UPDATE παω κατω στον κωδικα...
  $(".diastaseis").keypress(function (e) {
   var key = e.which;
   if(key == 13)  // the enter key code
    {
      $(".ok").click();
      return false;  
    }
  });   

  $(".ok").click(function(){
    //Ελεγχω αν εχω βαλει παραπανω διαστασεις απο αυτο που πρεπει και περναω στον controller τον ελεγχο. Αρχικοποιηση
    elegxos_gia_parapanw_diastaseis_w = "0";
    elegxos_gia_parapanw_diastaseis_h = "0";

    epanal_width = $(".width").text();
    epanal_height = $(".height").text();

    if ( ( Number($("#width").val()) >= Number($("#minw").text()) )  ) {
      if ( ( Number($("#height").val()) >= Number($("#minh").text()) ) ) { //////////////ΔΕΝ ΞΕΡΩ ΓΙΑΤΙ!
        //Μεχρι εδω ολα καλα με τα μιν. Απο εδω και περα ελεγχω τα μαξ
        if ( ( Number($("#width").val()) > Number($("#maxw").text()) ) ){
          $(".alert_mikro_parathiro_panw_apo").show();
          $('.alert_mikro_parathiro_panw_apo').delay(3000).fadeOut('slow');
          elegxos_gia_parapanw_diastaseis_w = "1";
        }
        if ( ( Number($("#height").val()) > Number($("#maxh").text()) ) ){
          $(".alert_mikro_parathiro_panw_apo").show();
          $('.alert_mikro_parathiro_panw_apo').delay(3000).fadeOut('slow');
          elegxos_gia_parapanw_diastaseis_h = "1";
        }
        //Αεχικοποιω χωρισματα
        xwrisma1 = 0;
        xwrisma2 = 0;
        xwrisma3_1 = 0;
        xwrisma3_2 = 0;
        xwrisma3_3 = 0;
	    xwrisma4_1 = 0;
	    xwrisma4_2 = 0;
	    xwrisma4_3 = 0;
		xwrisma4_4 = 0;
        xwrisma_y_1 = 0;
        xwrisma_y_2 = 0;
        //Δεινω τιμες σε πινακακια και μεταβλητες το width, height
        $(".width").text($("#width").val());
        $(".height").text($("#height").val());
        $(".diastaseis_table").text( $("#width").val()+" X "+$("#height").val());
        $(".diastaseis_extra").text( $("#width").val()+" X "+$("#height").val()); 
        $(".diastaseis_table_tm").empty();
        $(".diastaseis_table_extra_tm").empty();
        $(".diastaseis_table_tm").append( ( (parseFloat($("#width").val())*parseFloat($("#height").val()))/1000000 ).toFixed(2)+" <p>m"+"2".sup()+"</p>" );
        $(".diastaseis_table_extra_tm").append( ( (parseFloat($("#width").val())*parseFloat($("#height").val()))/1000000 ).toFixed(2)+" <p>m"+"2".sup()+"</p>" ); 

        height = $(".height").text();
        width = $(".width").text();
        height_new = Number($("#height").val());
        width_new = Number($("#width").val());
        /*
        if ( pl_rol_ep == "0" ){
          pl_rol_ep = width_new;
        }
        if ( up_rol_ep == "0" ){
          up_rol_ep = height_new;
        }
        if ( pl_rol_ek == "0" ){
          pl_rol_ek = width_new;
        }
        if ( up_rol_ek == "0" ){
          up_rol_ek = height_new;
        }
        if ( pl_persidas == "0" ){
          pl_persidas = width_new;
        }
        if ( up_persidas == "0" ){
          up_persidas = height_new;
        }
        if ( up_odoigou == "0" ){
          up_odoigou = height_new;
        }
        */
        //Ζωγραφιζω με τα πραγματικα τωρα μικοι
        ok_click();

        //Για συναρτηση
        if ("<%= @color_ar %>" !== ""){ 
          color_profil_aristera = "<%= @color_ar %>";
        }else{
          color_profil_aristera = color_aplo_eksw;
        }
        if ("<%= @color_de %>" !== ""){ 
          color_profil_deksia = "<%= @color_de %>";
        }else{
          color_profil_deksia = color_aplo_eksw;
        }
        if ("<%= @color_pa %>" !== ""){ 
          color_profil_panw = "<%= @color_pa %>";
        }else{
          color_profil_panw = color_aplo_eksw;
        }
        if ("<%= @color_ka %>" !== ""){ 
          color_profil_katw = "<%= @color_ka %>";
        }else{
          color_profil_katw = color_aplo_eksw;
        }
        //Υπολογιζω τις νεες τιμες
        times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

        setTimeout(function(){
          if ( $(".arxiki_timi").text() == "0.00" ){
            alert("Server fail please try again");
            geniko_ok = false;
            fail = 1;
          }else{
            $(".order_prin").show();

            $(".warning_times").empty();
            $(".warning_times").show();
            $(".warning_times").append("<%= t('append_price.Price') %> : "+$(".teliki_timi").text());
            clearTimeout(timeout);
            timeout = setTimeout(function()
              {
              $(".warning_times").fadeOut('slow');
            }, 6000);
            //geniko_ok = true;
          }

        },500);
        //Ξαναπερναω ολα τα extra για να υπαρχει ο ΕΛΕΓΧΟΣ στις διαστασεις
        if ( !extra_diastaseis_flag ) {
        }else{
          if (typeof kinisi !== "undefined" ){
            kinisi = kinisi;
          }
          else if (typeof kinisi !== "undefined" ){
            kinisi = kinisi 
          }else{
            kinisi = "";
          }
          if (typeof klap_ep !== "undefined" ){
            klap_ep = klap_ep;
          }else{
            klap_ep = "";
          }
          if (typeof deroll !== "undefined" ){
            deroll = deroll;
          }else{
            deroll = "";
          }
          if ( epikathimeno_rolo != "0" ){
            rolo_name = epikathimeno_rolo;
            xrwma_rolo = color_epikathimenou;
            cat_rolo = "epik";
          }
          else if ( eksoteriko_rolo != "0" ){
            rolo_name = eksoteriko_rolo;
            xrwma_rolo = color_eksoterikou;
            cat_rolo = "ekso";
          }else{
            rolo_name = "";
            xrwma_rolo = "";
            cat_rolo = "";
          }
          profil_deksia_1a = 0;
          profil_deksia_1_arithmosa = 0;
          profil_deksia_2a = 0;
          profil_deksia_2_arithmosa = 0;
          profil_deksia_3a = 0;
          profil_deksia_3_arithmosa = 0;
          profil_aristera_1a = 0;
          profil_aristera_1_arithmosa = 0;
          profil_aristera_2a = 0;
          profil_aristera_2_arithmosa = 0;
          profil_aristera_3a = 0;
          profil_aristera_3_arithmosa = 0;
          profil_panw_1a = 0;
          profil_panw_1_arithmosa = 0;
          profil_panw_2a = 0;
          profil_panw_2_arithmosa = 0;
          profil_panw_3a = 0;
          profil_panw_3_arithmosa = 0;
          profil_katw_1a = 0;
          profil_katw_1_arithmosa = 0;
          profil_katw_2a = 0;
          profil_katw_2_arithmosa = 0;
          profil_katw_3a = 0;
          profil_katw_3_arithmosa = 0;
          typos_katw_1a = 0;
          typos_katw_1_arithmosa = 0;
          typos_katw_2a = 0;
          typos_katw_2_arithmosa = 0;
          typos_katw_3a = 0;
          typos_katw_3_arithmosa = 0;

          for(var i = 0; i < profil_deksia_array.length; i++) {
            if( i === 0){
              profil_deksia_1a = profil_deksia_array[i].id;
              profil_deksia_1_arithmosa = profil_deksia_array[i].arithmo;
            }else if( i === 1){
              profil_deksia_2a = profil_deksia_array[i].id;
              profil_deksia_2_arithmosa = profil_deksia_array[i].arithmo;
            }else if( i === 2){
              profil_deksia_3a = profil_deksia_array[i].id;
              profil_deksia_3_arithmosa = profil_deksia_array[i].arithmo;
            }  
          }

          for(var i = 0; i < profil_aristera_array.length; i++) {
            if( i === 0){
              profil_aristera_1a = profil_aristera_array[i].id;
              profil_aristera_1_arithmosa = profil_aristera_array[i].arithmo;
            }else if( i === 1){
              profil_aristera_2a = profil_aristera_array[i].id;
              profil_aristera_2_arithmosa = profil_aristera_array[i].arithmo;
            }else if( i === 2){
              profil_aristera_3a = profil_aristera_array[i].id;
              profil_aristera_3_arithmosa = profil_aristera_array[i].arithmo;
            } 
          }

          for(var i = 0; i < profil_panw_array.length; i++) {
            if( i === 0){
              profil_panw_1a = profil_panw_array[i].id;
              profil_panw_1_arithmosa = profil_panw_array[i].arithmo;
            }else if( i === 1){
              profil_panw_2a = profil_panw_array[i].id;
              profil_panw_2_arithmosa = profil_panw_array[i].arithmo;
            }else if( i === 2){
              profil_panw_3a = profil_panw_array[i].id;
              profil_panw_3_arithmosa = profil_panw_array[i].arithmo;
            } 
          }

          for(var i = 0; i < profil_katw_array.length; i++) {
            if( i === 0){
              profil_katw_1a = profil_katw_array[i].id;
              profil_katw_1_arithmosa = profil_katw_array[i].arithmo;
            }else if( i === 1){
              profil_katw_2a = profil_katw_array[i].id;
              profil_katw_2_arithmosa = profil_katw_array[i].arithmo;
            }else if( i === 2){
              profil_katw_3a = profil_katw_array[i].id;
              profil_katw_3_arithmosa = profil_katw_array[i].arithmo;
            } 
          }

          for(var i = 0; i < profil_typos_array.length; i++) {
            if( i === 0){
              typos_katw_1a = profil_typos_array[i].id;
              typos_katw_1_arithmosa = profil_typos_array[i].arithmo;
            }else if( i === 1){
              typos_katw_2a = profil_typos_array[i].id;
              typos_katw_2_arithmosa = profil_typos_array[i].arithmo;
            }else if( i === 2){
              typos_katw_3a = profil_typos_array[i].id;
              typos_katw_3_arithmosa = profil_typos_array[i].arithmo;
            }
          }

          profil_deksia_counter = 0;// Πόσα προφίλ διαφορετικα έχω...Μεχρι 3.
          sunolika_profil_deksia = 0;// Πόσα προφίλ έχω όλα μαζι...Μεχρι 3.
          profil_deksia_array = [];
          profil_deksia_1_id = "0";
          profil_deksia_1_json_arithmos = "0";
          profil_deksia_2_id = "0";
          profil_deksia_2_json_arithmos = "0";
          profil_deksia_3_id = "0";
          profil_deksia_3_json_arithmos = "0";

          profil_aristera_counter = 0;// Πόσα προφίλ διαφορετικα έχω...Μεχρι 3.
          sunolika_profil_aristera = 0;// Πόσα προφίλ έχω όλα μαζι...Μεχρι 3.
          profil_aristera_array =[];
          profil_aristera_1_id = "0";
          profil_aristera_1_json_arithmos = "0";
          profil_aristera_2_id = "0";
          profil_aristera_2_json_arithmos = "0";
          profil_aristera_3_id = "0";
          profil_aristera_3_json_arithmos = "0";

          profil_panw_counter = 0;// Πόσα προφίλ διαφορετικα έχω...Μεχρι 3.
          sunolika_profil_panw = 0;// Πόσα προφίλ έχω όλα μαζι...Μεχρι 3.
          profil_panw_array =[];
          profil_panw_1_id = "0";
          profil_panw_1_json_arithmos = "0";
          profil_panw_2_id = "0";
          profil_panw_2_json_arithmos = "0";
          profil_panw_3_id = "0";
          profil_panw_3_json_arithmos = "0";

          profil_katw_counter = 0;// Πόσα προφίλ διαφορετικα έχω...Μεχρι 3.
          sunolika_profil_katw = 0;// Πόσα προφίλ έχω όλα μαζι...Μεχρι 3.
          profil_katw_array =[];
          profil_katw_1_id = "0";
          profil_katw_1_json_arithmos = "0";
          profil_katw_2_id = "0";
          profil_katw_2_json_arithmos = "0";
          profil_katw_3_id = "0";
          profil_katw_3_json_arithmos = "0";

          profil_typos_counter = 0;// Πόσα προφίλ διαφορετικα έχω...Μεχρι 3.
          //sunolika_profil_katw = 0;// Πόσα προφίλ έχω όλα μαζι...Μεχρι 3.
          profil_typos_array =[];
          profil_typos_1_id = "0";
          profil_typos_1_json_arithmos = "0";
          profil_typos_2_id = "0";
          profil_typos_2_json_arithmos = "0";
          profil_typos_3_id = "0";
          profil_typos_3_json_arithmos = "0";
          $.ajax({
            
            type:'GET',
            url:'/etic/extra_json',
            dataType: "json",
            data: {open_cat: $('input[name=cat_an]:checked', '#myForm').attr('id'), lastixa: lastixo_epilogh,cat_tzamia0: cat_tzamia0, cat_tzamia: cat_tzamia, cat_tzamia2: cat_tzamia2, tzamia0: tzamia0, tzamia: tzamia, tzamia2: tzamia2,cat_rolo: cat_rolo, rolo_name: rolo_name, xrwma_rolo: xrwma_rolo ,kinisi_deksia_aristera: kinisi, klap_ep: klap_ep, deroll: deroll, pl_rolou_ek: pl_rol_ek,pl_rolou_ep: pl_rol_ep, up_rolou_ep: up_rol_ep, up_rolou_ek: up_rol_ek, persida: persida , xrwma_persidas: color_persidas ,pl_persidas: pl_persidas,up_persidas: up_persidas,odoigos: odoigos,xrwma_odoigou: color_odoigou,up_odigou: up_odoigou, prostasia: prostasia, typos: typos_katw_1a, typos_col: color_profil_katw, pr_ar_1: profil_aristera_1a, col_ar: color_profil_aristera, pr_ar_1_ar: profil_aristera_1_arithmosa, pr_ar_2: profil_aristera_2a, col_ar: color_profil_aristera, pr_ar_2_ar: profil_aristera_2_arithmosa, pr_ar_3: profil_aristera_3a, col_ar: color_profil_aristera, pr_ar_3_ar: profil_aristera_3_arithmosa, pr_de_1: profil_deksia_1a, col_de: color_profil_deksia, pr_de_1_de: profil_deksia_1_arithmosa, pr_de_2: profil_deksia_2a, col_de: color_profil_deksia, pr_de_2_de: profil_deksia_2_arithmosa, pr_de_3: profil_deksia_3a, col_de: color_profil_deksia, pr_de_3_de: profil_deksia_3_arithmosa, pr_pa_1: profil_panw_1a, col_pa: color_profil_panw, pr_pa_1_pa: profil_panw_1_arithmosa, pr_pa_2: profil_panw_2a, col_pa: color_profil_panw, pr_pa_2_pa: profil_panw_2_arithmosa, pr_pa_3: profil_panw_3a, col_pa: color_profil_panw, pr_pa_3_pa: profil_panw_3_arithmosa, pr_ka_1: profil_katw_1a, col_ka: color_profil_katw, pr_ka_1_ka: profil_katw_1_arithmosa, pr_ka_2: profil_katw_2a, col_ka: color_profil_katw, pr_ka_2_ka: profil_katw_2_arithmosa, pr_ka_3: profil_katw_3a, col_ka: color_profil_katw, pr_ka_3_ka: profil_katw_3_arithmosa  },
            success: function(data) { 
             
              if ( (epanal_width == $("#width").val()) && (epanal_height == $("#height").val()) ){
                pl_rolou_ek_0 = data.pl_rolou_ek;
                up_rolou_ek_0 = data.up_rolou_ek;
                pl_rolou_ep_0 = data.pl_rolou_ep;
                up_rolou_ep_0 = data.up_rolou_ep;
                pl_persidas_0 = data.pl_persidas;
                up_persidas_0 = data.up_persidas;
                up_odoigou_0 = data.up_odoigou;
              }else{
                pl_rolou_ek_0 = "";
                up_rolou_ek_0 = "";
                pl_rolou_ep_0 = "";
                up_rolou_ep_0 = "";
                pl_persidas_0 = "";
                up_persidas_0 = "";
                up_odoigou_0 = "";
              }

    
              nea_extra(data.lastixa,data.tzami0_id, data.tzami0_cat ,data.tzami_id ,data.tzami_cat ,data.tzami2_id ,data.tzami2_cat,data.cat_rolo, data.rolo_id, data.ti_rolo , data.color_rolo , pl_rolou_ek_0 , up_rolou_ek_0, pl_rolou_ep_0, up_rolou_ep_0 , data.kinisi_deksia_aristera , data.persida_id, data.color_persidas , pl_persidas_0 , up_persidas_0, data.odoigos_id , data.color_odoigou , up_odoigou_0 , data.prostasia_id , data.typos_id , data.color_typos , data.typos_arithmos, data.col_ar, data.epilogi_ar_1, data.pr_ar_1_ar, data.pr_ar_1_id, data.epilogi_ar_2, data.pr_ar_2_ar, data.pr_ar_2_id, data.epilogi_ar_3, data.pr_ar_3_ar, data.pr_ar_3_id, data.col_de,  data.epilogi_de_1, data.pr_de_1_de, data.pr_de_1_id, data.epilogi_de_2, data.pr_de_2_de, data.pr_de_2_id, data.epilogi_de_3, data.pr_de_3_de, data.pr_de_3_id, data.col_pa, data.epilogi_pa_1, data.pr_pa_1_pa, data.pr_pa_1_id, data.epilogi_pa_2, data.pr_pa_2_pa, data.pr_pa_2_id, data.epilogi_pa_3, data.pr_pa_3_pa, data.pr_pa_3_id, data.col_ka , data.epilogi_ka_1, data.pr_ka_1_ka, data.pr_ka_1_id, data.epilogi_ka_2, data.pr_ka_2_ka, data.pr_ka_2_id, data.epilogi_ka_3, data.pr_ka_3_ka, data.pr_ka_3_id );
              

              },
            error: function(data) { 
              }
          });//end ejax
        }//end else if
        
      }//Λαθος υψος
      else{
        $(".alert_mikro_parathiro_height").show();
        $('.alert_mikro_parathiro_height').delay(3000).fadeOut('slow');
      }
    }//Λαθος μικος 
    else{
      $(".alert_mikro_parathiro_width").show();
      $('.alert_mikro_parathiro_width').delay(3000).fadeOut('slow');
    }//end if
  });//end ok


  ////////////////  TELOS //////////////////////////////
  //Πρωτη επανάλυψη
  // Αναλογα με το τι πατησω παω με link σε εχτρα ή ολοκληρωση. 
  $(".extra_diastaseis").click(function(){
    $(".hide_extra").show();
    $("#myForm").hide();

    if ( ( Number($("#width").val()) > Number($("#maxw").text()) ) ){
      $(".alert_mikro_parathiro_panw_apo").show();
      $('.alert_mikro_parathiro_panw_apo').delay(3000).fadeOut('slow');
        elegxos_gia_parapanw_diastaseis_w = "1";
      }
      if ( ( Number($("#height").val()) > Number($("#maxh").text()) ) ){
        $(".alert_mikro_parathiro_panw_apo").show();
        $('.alert_mikro_parathiro_panw_apo').delay(3000).fadeOut('slow');
        elegxos_gia_parapanw_diastaseis_h = "1";
      }
      //$(".hide_extra").scrollTo(".click_lastixo", 1000); //custom animation speed
      //Επανάλυψη
      ksana_extra();
  });
  //Δεξια κουμπια για επανω
  $(".panw_form").click(function(){
      $(".hide_extra").hide();
      $("#myForm").show();
      geniko_ok = false;
  });
  //Κουμπι για συναιχεια στα extra
  $(".extra_xwris_ok").click(function(){
    if ( geniko_ok ){
      //$(".hide_extra").show();
      //$("#myForm").hide();
      //$(".hide_extra").scrollTo(".click_lastixo", 1000); //custom animation speed
      $(".Cat_button_2").click();
      }
      else{
        $(".alert_geniko_ok").show();
        $('.alert_geniko_ok').delay(3000).fadeOut('slow');
        $(".Cat_button_1").click();
        $("#tab_dimensions").click();
        //$("#myForm").scrollTo("#pane_diastaseis", 1000); //custom animation speed
      }
  });
  

  //Κρυβω τα προφιλ
  $( ".ola_ta_profil_deksia" ).hide();
  $( ".ola_ta_profil_aristera" ).hide();
  $( ".ola_ta_profil_panw" ).hide();
  $( ".ola_ta_profil_katw" ).hide();

 //Τα φορτωνω πρωτα για να τα εχω για τις γραμμες
 ypsos_a($(".height").text());
 mikos_a($(".width").text());
 
 //olympia
 /*$(".window_still_none").on("blur", ".pl_win_st", function() {
   pl_win_st = $(".pl_win_st").val();
  
   times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);
 });*/

    $(".epik_none").on("blur", ".pl_rol_ep", function() {
      pl_rol_ep = $(".pl_rol_ep").val();
	  
      times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

    });
    $(".epik_none").on("blur", ".up_rol_ep", function() {
      up_rol_ep = $(".up_rol_ep").val();
	  
      times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

    });
    $(".ekso_none").on("blur", ".pl_rol_ek", function() {
      pl_rol_ek = $(".pl_rol_ek").val();
	  
      times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

    });
    $(".ekso_none").on("blur", ".up_rol_ek", function() {
      up_rol_ek = $(".up_rol_ek").val();
      
      times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

    });
    $(".diorth_per").on("blur", ".pl_persidas", function() {
      pl_persidas = $(".pl_persidas").val();
      
      times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

    });
    $(".diorth_per").on("blur", ".up_persidas", function() {
      up_persidas = $(".up_persidas").val();
      
      times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

    });
    $(".diorth_odoi").on("blur", ".up_odoigou", function() {
      up_odoigou = $(".up_odoigou").val();
      
      times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

    });


    ///////////////////// PROFIL ΔΕΞΙΑ ///////////////////////////////////
    $(".ola_ta_profil_deksia_color").hide();
    ////////alert(geniko_rolo+geniko_persida+geniko_profil);
    ////////SaveImg(geniko_rolo+geniko_persida+geniko_profil);
    color_profil_deksia = "white";
    color_d = "#F9F8F8"
    $.ajax({
      
      type:'GET',
      url:'/etic/color_profil',
      dataType: "json",
      //data: { material_id: $(this).attr('id') },
      success: function(data) {
        var h2 = "<label><%= t 'translate.Color' %>: </label>"
        $(h2).appendTo(".ola_ta_profil_deksia_color");
        var xrwma = "<label class='xr_profil_deksia'>"+color_profil_deksia+"</label><br>"
        $(xrwma).appendTo(".ola_ta_profil_deksia_color");
        var div = "<div class='div_col_profil_deksia'></div>"
        $(div).appendTo(".ola_ta_profil_deksia_color");
        $.each(data, function(i, item) { //Για κάθε data που παίρνω κανω τα παρακάτο 
            //alert(item.name);
            //return $(".kataskevastes").html(item.name);
            //$( "<p>item.name</p>" ).appendTo( ".kataskevastes" );
            var div_data = "<div class='xrwma xrwma2'><h5 class='tipos_name'> "+item.name+" </h5><img src='/assets/"+item.image+"' class=color_deksia_profil id="+item.name+"><span id="+item.code+"></span></div>";
            $(div_data).appendTo(".ola_ta_profil_deksia_color");
          })
      },
      error: function(data) { 
      }
    });//end ejax
    //DisplayImg(pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo);
  

    profil_deksia_counter = 0;// Πόσα προφίλ διαφορετικα έχω...Μεχρι 3.
    sunolika_profil_deksia = 0;// Πόσα προφίλ έχω όλα μαζι...Μεχρι 3.
    profil_deksia_array =[];
    profil_deksia_1_id = "0";
    profil_deksia_1_json_arithmos = "0";
    profil_deksia_2_id = "0";
    profil_deksia_2_json_arithmos = "0";
    profil_deksia_3_id = "0";
    profil_deksia_3_json_arithmos = "0";
    

    function deksia_profil(id, arithmo, seira) {
        this.id = id;
        this.arithmo = arithmo;
        this.seira = seira;
    }

    function functiontofindIndexByKeyValue(arraytosearch, key, valuetosearch) {
 
    for (var i = 0; i < arraytosearch.length; i++) {
     
    if (arraytosearch[i][key] == valuetosearch) {
    return i;
    }
    }
    return null;
    }

    $(".extra").on("click", ".peninta", function() {
      
      profil_deksia_new = $(this).attr('id');
      //$( this ).css("background-color","#CA3333");
      $( this ).css("background-color","#d9eaed");
      $( this ).css("color","black");
      epilogi = $( this );
      width_profil = Number(epilogi.next().attr('id'));
      

    });

    $('#myModal').on('shown.bs.modal', function (e) {
      //alert("OK");
        if ( YES_TYP_DE == true ){
          //alert("OK");
          $( "input[value="+de_de+"][name='optradio_d']" ).trigger('click');
          $( ".arithmos_profil_deksia" ).trigger('click');
          YES_TYP_DE = false;
          YES_TYP_DE_COL = true;
        }
         if ( YES_TYP_DE2 == true ){
          //alert("OK");
          $( "input[value="+de_de+"][name='optradio_d']" ).trigger('click');
          $( ".arithmos_profil_deksia" ).trigger('click');
          YES_TYP_DE2 = false;
          YES_TYP_DE_COL = true;
        }
         if ( YES_TYP_DE3 == true ){
          //alert("OK");
          $( "input[value="+de_de+"][name='optradio_d']" ).trigger('click');
          $( ".arithmos_profil_deksia" ).trigger('click');
          YES_TYP_DE3 = false;
          YES_TYP_DE_COL = true;
        }
        if ( META_YES_TYP_DE == true ){
          //alert("OK");
          $( "input[value="+de_de+"][name='optradio_d']" ).trigger('click');
          $( ".arithmos_profil_deksia" ).trigger('click');
          META_YES_TYP_DE = false;
          META_YES_TYP_DE_COL = true;
        }
         if ( META_YES_TYP_DE2 == true ){
          //alert("OK");
          $( "input[value="+de_de+"][name='optradio_d']" ).trigger('click');
          $( ".arithmos_profil_deksia" ).trigger('click');
          META_YES_TYP_DE2 = false;
          META_YES_TYP_DE_COL = true;
        }
         if ( META_YES_TYP_DE3 == true ){
          //alert("OK");
          $( "input[value="+de_de+"][name='optradio_d']" ).trigger('click');
          $( ".arithmos_profil_deksia" ).trigger('click');
          META_YES_TYP_DE3 = false;
          META_YES_TYP_DE_COL = true;
        }

    });



    $(".modal").on("click", ".arithmos_profil_deksia", function() {
          //ti_epeleksa = $("input:checked").val();
          ti_epeleksa = $('input[name=optradio_d]:checked', '#myForm_d').val();
          $('.modal').modal('hide');
          $('.modal').modal('hide');
          $('.modal-backdrop').remove();

          //deksia_hide_modal = true;
          if(typeof ti_epeleksa === 'undefined'){
             ti_epeleksa = 0;
           };
      
          // Αν πατησω πανω απο 0 πρωφιλ τα προσθετω στον πινακα.
          if (ti_epeleksa !== "0"){
            //Βρησκω αν αυτο που πατησα το εχω ειδη επιλεξει. (Αν κανω αλλαγη απο 2 σε 1 πχ)
            //Το διαγραφω και μετα παλι απο την αρχη
            var result = $.grep(profil_deksia_array, function(e){ return e.id == profil_deksia_new; });
            if (result.length == 0) {
              // not found
            } else if (result.length == 1) {
              sunolika_profil_deksia = sunolika_profil_deksia - parseInt(result[0].arithmo);
              profil_deksia_counter = profil_deksia_counter - 1;
              width_new = width_new + (width_profil * result[0].arithmo);
              $(".diastaseis_extra").text(width_new +"X"+height_new);
              $(".diastaseis_table_extra_tm").empty();
              $(".diastaseis_table_extra_tm").append( ( (parseFloat(width_new)*parseFloat(height_new))/1000000 ).toFixed(2)+" <p>m"+"2".sup()+"</p>" );
              var index = functiontofindIndexByKeyValue(profil_deksia_array, "id", profil_deksia_new);
              if (index > -1) {
                  profil_deksia_array.splice(index, 1);
                  if ( index == 0 ){
                  //profil_deksia_1_id = 0;
                  //profil_deksia_1_json_arithmos = 0;

                  profil_deksia_1_id = profil_deksia_2_id;
                  profil_deksia_1_json_arithmos = profil_deksia_2_json_arithmos;
                  profil_deksia_2_id = profil_deksia_3_id;
                  profil_deksia_2_json_arithmos = profil_deksia_3_json_arithmos;
                  profil_deksia_3_id = 0;
                  profil_deksia_3_json_arithmos = 0;
                }else if( index == 1 ){
                  //profil_deksia_2_id = 0;
                  //profil_deksia_2_json_arithmos = 0;

                  profil_deksia_2_id = profil_deksia_3_id;
                  profil_deksia_2_json_arithmos = profil_deksia_3_json_arithmos;
                  profil_deksia_3_id = 0;
                  profil_deksia_3_json_arithmos = 0;
                }else if( index == 2 ){
                  profil_deksia_3_id = 0;
                  profil_deksia_3_json_arithmos = 0;
                }

              }
            } else {
              // multiple items found
            }

            width_profil = Number(epilogi.next().attr('id'));

            $.ajax({
              
                type:'GET',
                url:'/etic/upologismos_platos_profil',
                dataType: "json",
                data: { profil: epilogi.attr('id'), anoigma: tipos_name_gia_xrwma, width_new: width_new, input: ti_epeleksa },
                success: function(data) {
                 if ( data ) {
      
                  width_new = width_new - (width_profil * parseInt(ti_epeleksa));
                  $(".diastaseis_extra").text(width_new +"X"+height_new);
                  $(".diastaseis_table_extra_tm").empty();
                  $(".diastaseis_table_extra_tm").append( ( (parseFloat(width_new)*parseFloat(height_new))/1000000 ).toFixed(2)+" <p>m"+"2".sup()+"</p>" );
                  width_d = (width_profil * parseInt(ti_epeleksa));

                  //////////////////////////////////////////////////////////////////////////////
                  profil_deksia_counter = profil_deksia_counter + 1;
                  sunolika_profil_deksia = sunolika_profil_deksia + parseInt(ti_epeleksa);

                  if (sunolika_profil_deksia <= 3 && profil_deksia_counter <= 3){
                  if(profil_deksia_counter == 1){
                      profil_deksia_1 = new deksia_profil(profil_deksia_new, ti_epeleksa, profil_deksia_counter);
                      //sunolika_profil_deksia = sunolika_profil_deksia + ti_epeleksa;
                      //
                      profil_deksia_1_id = profil_deksia_new;
                      profil_deksia_1_json_arithmos = ti_epeleksa;
                      //
                      profil_deksia_array.push(profil_deksia_1);
					  
					  $('.modal_times .profil_deksia_xrwma_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
                      $('.modal_times .profil_deksia_1_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
		 			  
                  }else if( profil_deksia_counter == 2){
                    profil_deksia_2 = new deksia_profil(profil_deksia_new, ti_epeleksa, profil_deksia_counter);
                    //sunolika_profil_deksia = sunolika_profil_deksia + ti_epeleksa;
                    //
                    profil_deksia_2_id = profil_deksia_new;
                    profil_deksia_2_json_arithmos = ti_epeleksa;
                    //
                    profil_deksia_array.push(profil_deksia_2);
					
					$('.modal_times .profil_deksia_xrwma_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
					$('.modal_times .profil_deksia_1_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
					$('.modal_times .profil_deksia_2_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
                  }else if( profil_deksia_counter == 3){
                    profil_deksia_3 = new deksia_profil(profil_deksia_new, ti_epeleksa, profil_deksia_counter);
                    //sunolika_profil_deksia = sunolika_profil_deksia + ti_epeleksa;
                    //
                    profil_deksia_3_id = profil_deksia_new;
                    profil_deksia_3_json_arithmos = ti_epeleksa;
                    //
                    profil_deksia_array.push(profil_deksia_3);
					
					$('.modal_times .profil_deksia_xrwma_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
                    $('.modal_times .profil_deksia_1_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
					$('.modal_times .profil_deksia_2_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
					$('.modal_times .profil_deksia_3_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
                  }
          
                  }//end if ελεγχου <= 3
                  else{
                      profil_deksia_counter = profil_deksia_counter - 1;
                      sunolika_profil_deksia = sunolika_profil_deksia - parseInt(ti_epeleksa);
                      
                      width_new = width_new + (width_profil * parseInt(ti_epeleksa));
                      $(".diastaseis_extra").text(width_new +"X"+height_new);
                      $(".diastaseis_table_extra_tm").empty();
                      $(".diastaseis_table_extra_tm").append( ( (parseFloat(width_new)*parseFloat(height_new))/1000000 ).toFixed(2)+" <p>m"+"2".sup()+"</p>" );
                      //width_d = (width_profil * parseInt(ti_epeleksa));

                      $( epilogi ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
                      $( epilogi ).css("color","");
                      apomenoun_akomi_deksia = 3 - sunolika_profil_deksia;
                       $(".alert_mikro_parathiro_de").show();
                       $('.alert_mikro_parathiro_de').delay(3000).fadeOut('slow');
                  }

                  if (sunolika_profil_deksia > 0 && profil_deksia_counter > 0){
                  //Αν μπει κανονικα το προφιλ, τοτε το ζογραφιζω
                  if ( profil_deksia_new !== "32" && profil_deksia_new !== "33" && profil_deksia_new !== "34" ){
                    $(".ola_ta_profil_deksia_color").show();
                  }
                  $("#"+color_profil_deksia+".color_deksia_profil").click();

                  if ( YES_TYP_DE_COL == true ){
                     $(".color_deksia_profil").each(function( index ) {
                        if( $( this ).attr("id") == "<%= @color_de %>" ){
                          $( this ).trigger('click');
                        }
                      });
                      YES_TYP_DE_COL = false;
                  }

                  if ( META_YES_TYP_DE_COL == true ){
                     $(".color_deksia_profil").each(function( index ) {
                        if( $( this ).attr("id") == col_de ){
                          $( this ).trigger('click');
                        }
                      });
                      META_YES_TYP_DE_COL = false;
                  }

                  pro_d = "1";
                  var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
                  var decimal = parseInt(b, 2);
                  //zwgrafia(decimal,epikathimeno_rolo,eksoteriko_rolo,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);

                  sxedio_p_d = true;
                  
                  ok_click();

                  times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);
                  
                  if(profil_deksia_counter == 1){
                    $(".warning_times").empty();
                    $(".warning_times").append($(".table_profil_deksia_1").text()+" -- <%= t('append_price.Price') %> : "+$(".timi_profil_deksia_1").text());
                    $(".warning_times").show();
                    clearTimeout(timeout);
                    timeout = setTimeout(function()
                      {
                      $(".warning_times").fadeOut('slow');
                    }, 6000);
                  }else if( profil_deksia_counter == 2){
                    $(".warning_times").empty();
                    $(".warning_times").append($(".table_profil_deksia_2").text()+" -- <%= t('append_price.Price') %> : "+$(".timi_profil_deksia_2").text());
                    $(".warning_times").show();
                    clearTimeout(timeout);
                    timeout = setTimeout(function()
                      {
                      $(".warning_times").fadeOut('slow');
                    }, 6000);
                    
                  }else if( profil_deksia_counter == 3){
                    $(".warning_times").empty();
                    $(".warning_times").append($(".table_profil_deksia_3").text()+" -- <%= t('append_price.Price') %> : "+$(".timi_profil_deksia_3").text());
                    $(".warning_times").show();
                    clearTimeout(timeout);
                    timeout = setTimeout(function()
                      {
                      $(".warning_times").fadeOut('slow');
                    }, 6000);
                  }
                  


                }//end megalitera apo 0
                else{
                  $(".alert_mikro_parathiro_de").show();
                  $('.alert_mikro_parathiro_de').delay(3000).fadeOut('slow');
                  color_profil_deksia = "white";
                  $(".ola_ta_profil_deksia_color").hide();
                  pro_d = "0";
                  var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
                  var decimal = parseInt(b, 2);
                  //zwgrafia(decimal,epikathimeno_rolo,eksoteriko_rolo,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);

                  sxedio_p_d = false;
                  
                  ok_click();

                  times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

                }
                  
                          
                  }else{
                    //alert("Το παράθυρο είναι μικρό");
                    $(".alert_mikro_parathiro_de").show();
                    $('.alert_mikro_parathiro_de').delay(3000).fadeOut('slow');
                    color_profil_deksia = "white";
                  $(".ola_ta_profil_deksia_color").hide();
                  pro_d = "0";
                  var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
                  var decimal = parseInt(b, 2);
                  //zwgrafia(decimal,epikathimeno_rolo,eksoteriko_rolo,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);

                  sxedio_p_d = false;
                  
                  ok_click();

                  times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);
                    //$('.modal').modal('hide');
                    //$('.modal').modal('hide');
                    //$('.modal-backdrop').remove();
                    $( epilogi ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
                    $( epilogi ).css("color","");

                  }
                  if ( ARXIKO_FOR ){
                      next_insert();
                  }
                  if ( META_ARXIKO_FOR ){
                      meta_next_insert();
                  }
                  },
              error: function(data) { 
                  if ( ARXIKO_FOR ){
                      next_insert();
                  }
                  if ( META_ARXIKO_FOR ){
                      meta_next_insert();
                  }

              }
            });//end ejax
      
            
          }else{// Διαγράφω το αντικειμενο, -1 counter και -1 γενικο counter


            var result = $.grep(profil_deksia_array, function(e){ return e.id == profil_deksia_new; });
            if (result.length == 0) {
              // not found
            } else if (result.length == 1) {
              
              sunolika_profil_deksia = sunolika_profil_deksia - parseInt(result[0].arithmo);
              width_new = width_new + (width_profil * result[0].arithmo);
              $(".diastaseis_extra").text(width_new +"X"+height_new);
              $(".diastaseis_table_extra_tm").empty();
              $(".diastaseis_table_extra_tm").append( ( (parseFloat(width_new)*parseFloat(height_new))/1000000 ).toFixed(2)+" <p>m"+"2".sup()+"</p>" );
              //width_d = (width_profil * parseInt(ti_epeleksa));
            } else {
              // multiple items found
            }
            var index = functiontofindIndexByKeyValue(profil_deksia_array, "id", profil_deksia_new);
           
            if (index > -1) {
                profil_deksia_array.splice(index, 1);

                if ( index == 0 ){
                  //profil_deksia_1_id = 0;
                  //profil_deksia_1_json_arithmos = 0;

                  profil_deksia_1_id = profil_deksia_2_id;
                  profil_deksia_1_json_arithmos = profil_deksia_2_json_arithmos;
                  profil_deksia_2_id = profil_deksia_3_id;
                  profil_deksia_2_json_arithmos = profil_deksia_3_json_arithmos;
                  profil_deksia_3_id = 0;
                  profil_deksia_3_json_arithmos = 0;
                }else if( index == 1 ){
                  //profil_deksia_2_id = 0;
                  //profil_deksia_2_json_arithmos = 0;

                  profil_deksia_2_id = profil_deksia_3_id;
                  profil_deksia_2_json_arithmos = profil_deksia_3_json_arithmos;
                  profil_deksia_3_id = 0;
                  profil_deksia_3_json_arithmos = 0;
                }else if( index == 2 ){
                  profil_deksia_3_id = 0;
                  profil_deksia_3_json_arithmos = 0;
                }
            }
            if ( index != null ){
              profil_deksia_counter = profil_deksia_counter - 1;
            }
            $( epilogi ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
            $( epilogi ).css("color","");

            if (sunolika_profil_deksia > 0 && profil_deksia_counter > 0){
            //Αν μπει κανονικα το προφιλ, τοτε το ζογραφιζω
            if ( profil_deksia_new !== "32" && profil_deksia_new !== "33" && profil_deksia_new !== "34" ){
                    $(".ola_ta_profil_deksia_color").show();
                  }

            pro_d = "1";
            var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
            var decimal = parseInt(b, 2);
            //zwgrafia(decimal,epikathimeno_rolo,eksoteriko_rolo,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);

            sxedio_p_d = true;
            
            ok_click();

            times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

            if(profil_deksia_counter == 1){
                    $(".warning_times").empty();
                    $(".warning_times").append($(".table_profil_deksia_1").text()+" -- <%= t('append_price.Price') %> : "+$(".timi_profil_deksia_1").text());
                    $(".warning_times").show();
                    clearTimeout(timeout);
                    timeout = setTimeout(function()
                      {
                      $(".warning_times").fadeOut('slow');
                    }, 6000);
                  }else if( profil_deksia_counter == 2){
                    $(".warning_times").empty();
                    $(".warning_times").append($(".table_profil_deksia_2").text()+" -- <%= t('append_price.Price') %> : "+$(".timi_profil_deksia_2").text());
                    $(".warning_times").show();
                    clearTimeout(timeout);
                    timeout = setTimeout(function()
                      {
                      $(".warning_times").fadeOut('slow');
                    }, 6000);
                    
                  }else if( profil_deksia_counter == 3){
                    $(".warning_times").empty();
                    $(".warning_times").append($(".table_profil_deksia_3").text()+" -- <%= t('append_price.Price') %> : "+$(".timi_profil_deksia_3").text());
                    $(".warning_times").show();
                    clearTimeout(timeout);
                    timeout = setTimeout(function()
                      {
                      $(".warning_times").fadeOut('slow');
                    }, 6000);
                  }

            
            /*
            if (profil_deksia_array[0].id !== undefined){ profil_deksia_array[0].id, profil_deksia_array[0].arithmo }else{ 0, 0 },if (profil_deksia_array[1].id !== undefined){ profil_deksia_array[1].id, profil_deksia_array[1].arithmo }else{ 0, 0 },if (profil_deksia_array[2].id !== undefined){ profil_deksia_array[2].id, profil_deksia_array[2].arithmo }else{ 0, 0 } */


          }//end megalitera apo 0
          else{
            //$(".alert_mikro_parathiro_de").show();
            color_profil_deksia = "white";
            $(".ola_ta_profil_deksia_color").hide();
            pro_d = "0";
            var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
            var decimal = parseInt(b, 2);
            //zwgrafia(decimal,epikathimeno_rolo,eksoteriko_rolo,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);

            sxedio_p_d = false;
            
            ok_click();

            times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

          }//end ζωγραφικη
          }//end else apo 0 ti dialeksa



      });

   $(".ola_ta_profil_deksia_color").on("click", ".color_deksia_profil", function() {
      color_profil_deksia = $(this).attr('id');
      $(".xr_profil_deksia").text(color_profil_deksia);

      //Σβηνω αυτα που ειχα πατησει
      $(".color_deksia_profil").css('border-style', '');
      //$(".tipos_name").css('display', '');
      //Κανω να φενετε με border αυτο που πατησα!!
      $(this).css('border-style', 'solid');
      $(this).css('border-width', '5px');
      $(this).css('border-color', '#007389');
      $(this).prev().children().css('display', 'block');

      times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

      color = $(this).next().attr('id');
      color_d = color;
      pro_d = "1";
      var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
      var decimal = parseInt(b, 2);
      //zwgrafia(decimal,epikathimeno_rolo,eksoteriko_rolo,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);

      sxedio_p_d = true;
      sxedio_color_p_d = color_d;
      
      ok_click();

    });

   ///////////////////// PROFIL ΑΡΙΣΤΕΡΑ ///////////////////////////////////
    $(".ola_ta_profil_aristera_color").hide();
    ////////alert(geniko_rolo+geniko_persida+geniko_profil);
    ////////SaveImg(geniko_rolo+geniko_persida+geniko_profil);
    color_profil_aristera = "white";
    color_a = "#F9F8F8"
    $.ajax({
      
      type:'GET',
      url:'/etic/color_profil',
      dataType: "json",
      //data: { material_id: $(this).attr('id') },
      success: function(data) {
        var h2 = "<label><%= t 'translate.Color' %>: </label>"
        $(h2).appendTo(".ola_ta_profil_aristera_color");
        var xrwma = "<label class='xr_profil_aristera'>"+color_profil_aristera+"</label><br>"
        $(xrwma).appendTo(".ola_ta_profil_aristera_color");
        var div = "<div class='div_col_profil_aristera'></div>"
        $(div).appendTo(".ola_ta_profil_aristera_color");
        $.each(data, function(i, item) { //Για κάθε data που παίρνω κανω τα παρακάτο 
            //alert(item.name);
            //return $(".kataskevastes").html(item.name);
            //$( "<p>item.name</p>" ).appendTo( ".kataskevastes" );
            var div_data = "<div class='xrwma xrwma2'><h5 class='tipos_name'> "+item.name+" </h5><img src='/assets/"+item.image+"' class=color_aristera_profil id="+item.name+"><span id="+item.code+"></span></div>";
            $(div_data).appendTo(".ola_ta_profil_aristera_color");
          })
      },
      error: function(data) { 
      }
    });//end ejax
    //DisplayImg(pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo);
  

    profil_aristera_counter = 0;// Πόσα προφίλ διαφορετικα έχω...Μεχρι 3.
    sunolika_profil_aristera = 0;// Πόσα προφίλ έχω όλα μαζι...Μεχρι 3.
    profil_aristera_array =[];
    profil_aristera_1_id = "0";
    profil_aristera_1_json_arithmos = "0";
    profil_aristera_2_id = "0";
    profil_aristera_2_json_arithmos = "0";
    profil_aristera_3_id = "0";
    profil_aristera_3_json_arithmos = "0";
    

    function aristera_profil(id, arithmo, seira) {
        this.id = id;
        this.arithmo = arithmo;
        this.seira = seira;
    }

    $(".extra").on("click", ".penintaena", function() {
      profil_aristera_new = $(this).attr('id');
      //$( this ).css("background-color","#CA3333");
      $( this ).css("background-color","#d9eaed");
      $( this ).css("color","black");
      epilogi_a = $( this );
      width_profil_a = Number(epilogi_a.next().attr('id'));      
    });

    $('#myModal_a').on('shown.bs.modal', function (e) {
      //alert("OK");
        if ( YES_TYP_AR == true ){
          //alert(ar_ar);
         $( "input[value="+ar_ar+"][name='optradio_a']" ).trigger('click');
         $( ".arithmos_profil_aristera" ).trigger('click');
         YES_TYP_AR_COL = true;
         YES_TYP_AR = false;
        }
        if ( YES_TYP_AR2 == true ){
        //alert(ar_ar);
         $( "input[value="+ar_ar+"][name='optradio_a']" ).trigger('click');
         $( ".arithmos_profil_aristera" ).trigger('click');
          YES_TYP_AR_COL = true;
          YES_TYP_AR2 = false;
        }
        if ( YES_TYP_AR3 == true ){
          //alert(ar_ar);
         $( "input[value="+ar_ar+"][name='optradio_a']" ).trigger('click');
         $( ".arithmos_profil_aristera" ).trigger('click');
          YES_TYP_AR_COL = true;
          YES_TYP_AR3 = false;
        }
        if ( META_YES_TYP_AR == true ){
          //alert(ar_ar);
         $( "input[value="+ar_ar+"][name='optradio_a']" ).trigger('click');
         $( ".arithmos_profil_aristera" ).trigger('click');
          META_YES_TYP_AR_COL = true;
          META_YES_TYP_AR = false;
        }
        if ( META_YES_TYP_AR2 == true ){
          //alert(ar_ar);
         $( "input[value="+ar_ar+"][name='optradio_a']" ).trigger('click');
         $( ".arithmos_profil_aristera" ).trigger('click');
          META_YES_TYP_AR_COL = true;
          META_YES_TYP_AR2 = false;
        }
        if ( META_YES_TYP_AR3 == true ){
          //alert(ar_ar);
         $( "input[value="+ar_ar+"][name='optradio_a']" ).trigger('click');
         $( ".arithmos_profil_aristera" ).trigger('click');
          META_YES_TYP_AR_COL = true;
          META_YES_TYP_AR3 = false;
        }
    });



    $(".modal_a").on("click", ".arithmos_profil_aristera", function() {
          //ti_epeleksa_a = $("input:checked").val();
          ti_epeleksa_a = $('input[name=optradio_a]:checked', '#myForm_a').val();
          $('.modal_a').modal('hide');
          $('.modal_a').modal('hide');
          $('.modal-backdrop').remove();

          //aristera_hide_modal = true;
          //alert(typeof(ti_epeleksa));
          if(typeof ti_epeleksa_a === 'undefined'){
             ti_epeleksa_a = 0;
           };

          // Αν πατησω πανω απο 0 πρωφιλ τα προσθετω στον πινακα.
          if (ti_epeleksa_a !== "0"){
            //Βρησκω αν αυτο που πατησα το εχω ειδη επιλεξει. (Αν κανω αλλαγη απο 2 σε 1 πχ)
            //Το διαγραφω και μετα παλι απο την αρχη
            var result = $.grep(profil_aristera_array, function(e){ return e.id == profil_aristera_new; });
            if (result.length == 0) {
              // not found
            } else if (result.length == 1) {
              sunolika_profil_aristera = sunolika_profil_aristera - parseInt(result[0].arithmo);
              profil_aristera_counter = profil_aristera_counter - 1;
              width_new = width_new + (width_profil_a * result[0].arithmo);
              $(".diastaseis_extra").text(width_new +"X"+height_new);
              $(".diastaseis_table_extra_tm").empty();
              $(".diastaseis_table_extra_tm").append( ( (parseFloat(width_new)*parseFloat(height_new))/1000000 ).toFixed(2)+" <p>m"+"2".sup()+"</p>" );
              var index = functiontofindIndexByKeyValue(profil_aristera_array, "id", profil_aristera_new);
              if (index > -1) {
                  profil_aristera_array.splice(index, 1);
                  if ( index == 0 ){
                  //profil_deksia_1_id = 0;
                  //profil_deksia_1_json_arithmos = 0;
                  profil_aristera_1_id = profil_aristera_2_id;
                  profil_aristera_1_json_arithmos = profil_aristera_2_json_arithmos;
                  profil_aristera_2_id = profil_aristera_3_id;
                  profil_aristera_2_json_arithmos = profil_aristera_3_json_arithmos;
                  profil_aristera_3_id = 0;
                  profil_aristera_3_json_arithmos = 0;
                }else if( index == 1 ){
                  //profil_deksia_2_id = 0;
                  //profil_deksia_2_json_arithmos = 0;
                  profil_aristera_2_id = profil_aristera_3_id;
                  profil_aristera_2_json_arithmos = profil_aristera_3_json_arithmos;
                  profil_aristera_3_id = 0;
                  profil_aristera_3_json_arithmos = 0;
                }else if( index == 2 ){
                  profil_aristera_3_id = 0;
                  profil_aristera_3_json_arithmos = 0;
                }
              }
            } else {
              // multiple items found
            }
            //if (typeof epilogi_a !== "undefined"){
              width_profil_a = Number(epilogi_a.next().attr('id'));
              prof = epilogi_a.attr('id');
              //profil_aristera_new = prof;
            //}else{
              //width_profil_a = "<%= @epilogi_ar_1 %>";
              //prof = "<%= @pr_ar_1_id %>";
              //profil_aristera_new = prof;
            //}

            $.ajax({
              
                type:'GET',
                url:'/etic/upologismos_platos_profil',
                dataType: "json",
                data: { profil: prof, anoigma: tipos_name_gia_xrwma, width_new: width_new, input: ti_epeleksa_a },
                success: function(data) {
                 if ( data ) {
      
                  width_new = width_new - (width_profil_a * parseInt(ti_epeleksa_a));
                  $(".diastaseis_extra").text(width_new +"X"+height_new);
                  $(".diastaseis_table_extra_tm").empty();
                  $(".diastaseis_table_extra_tm").append( ( (parseFloat(width_new)*parseFloat(height_new))/1000000 ).toFixed(2)+" <p>m"+"2".sup()+"</p>" );
                  width_a = (width_profil_a * parseInt(ti_epeleksa_a));

                  //////////////////////////////////////////////////////////////////////////////
                  profil_aristera_counter = profil_aristera_counter + 1;
                  sunolika_profil_aristera = sunolika_profil_aristera + parseInt(ti_epeleksa_a);
                 
                  if (sunolika_profil_aristera <= 3 && profil_aristera_counter <= 3){
                  if(profil_aristera_counter == 1){
                      profil_aristera_1 = new aristera_profil(profil_aristera_new, ti_epeleksa_a, profil_aristera_counter);
                      //sunolika_profil_deksia = sunolika_profil_deksia + ti_epeleksa;
                      //
                      profil_aristera_1_id = profil_aristera_new;
                      profil_aristera_1_json_arithmos = ti_epeleksa_a;
                      //
                      profil_aristera_array.push(profil_aristera_1);
					  
  					$('.modal_times .profil_aristera_xrwma_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
  					$('.modal_times .profil_aristera_1_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
                  }else if( profil_aristera_counter == 2){
                    profil_aristera_2 = new aristera_profil(profil_aristera_new, ti_epeleksa_a, profil_aristera_counter);
                    //sunolika_profil_deksia = sunolika_profil_deksia + ti_epeleksa;
                    //
                    profil_aristera_2_id = profil_aristera_new;
                    profil_aristera_2_json_arithmos = ti_epeleksa_a;
                    //
                    profil_aristera_array.push(profil_aristera_2);
					
					$('.modal_times .profil_aristera_xrwma_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
					$('.modal_times .profil_aristera_1_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
					$('.modal_times .profil_aristera_2_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
                  }else if( profil_aristera_counter == 3){
                    profil_aristera_3 = new aristera_profil(profil_aristera_new, ti_epeleksa_a, profil_aristera_counter);
                    //sunolika_profil_deksia = sunolika_profil_deksia + ti_epeleksa;
                    //
                    profil_aristera_3_id = profil_aristera_new;
                    profil_aristera_3_json_arithmos = ti_epeleksa_a;
                    //
                    profil_aristera_array.push(profil_aristera_3);
					
					$('.modal_times .profil_aristera_xrwma_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
					$('.modal_times .profil_aristera_1_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
					$('.modal_times .profil_aristera_2_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
					$('.modal_times .profil_aristera_3_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
                  }
          
                  }//end if ελεγχου <= 3
                  else{
                      profil_aristera_counter = profil_aristera_counter - 1;
                      sunolika_profil_aristera = sunolika_profil_aristera - parseInt(ti_epeleksa_a);

                      width_new = width_new + (width_profil_a * parseInt(ti_epeleksa_a));
                      $(".diastaseis_extra").text(width_new +"X"+height_new);
                      $(".diastaseis_table_extra_tm").empty();
                      $(".diastaseis_table_extra_tm").append( ( (parseFloat(width_new)*parseFloat(height_new))/1000000 ).toFixed(2)+" <p>m"+"2".sup()+"</p>" );
                      //width_d = (width_profil * parseInt(ti_epeleksa));

                      $( epilogi_a ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
                      $( epilogi_a ).css("color","");
                      apomenoun_akomi_aristera = 3 - sunolika_profil_aristera;
                      $(".alert_mikro_parathiro_ar").show();
                      $('.alert_mikro_parathiro_ar').delay(3000).fadeOut('slow');
                      //alert("Εισαγωγή μόνο τριών προφίλ. Εχετε επιλέξει ήδη "+sunolika_profil_aristera+" συνολικά προφίλ αριστερά. Απομένουν ακόμη "+apomenoun_akomi_aristera+" προφίλ αριστερά!");
                  }

                  if (sunolika_profil_aristera > 0 && profil_aristera_counter > 0){
                  //Αν μπει κανονικα το προφιλ, τοτε το ζογραφιζω
                  if ( profil_aristera_new !== "32" && profil_aristera_new !== "33" && profil_aristera_new !== "34" ){
                    $(".ola_ta_profil_aristera_color").show();
                  }
                  $("#"+color_profil_aristera+".color_aristera_profil").click();

                  if ( YES_TYP_AR_COL == true ){
                      $(".color_aristera_profil").each(function( index ) {
                        if( $( this ).attr("id") == "<%= @color_ar %>" ){
                          $( this ).trigger('click');
                        }
                      });
                      YES_TYP_AR_COL = false;
                      
                  }

                  if ( META_YES_TYP_AR_COL == true ){
                      $(".color_aristera_profil").each(function( index ) {
                        if( $( this ).attr("id") == col_ar ){
                          $( this ).trigger('click');
                        }
                      });
                      META_YES_TYP_AR_COL = false;
                      
                  }

                  pro_a = "1";
                  var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
                  var decimal = parseInt(b, 2);
                  //zwgrafia(decimal,epikathimeno_rolo,eksoteriko_rolo,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);

                  sxedio_p_a = true;
                  
                  ok_click();

                  times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

                  if(profil_aristera_counter == 1){
                    $(".warning_times").empty();
                    $(".warning_times").append($(".table_profil_aristera_1").text()+" -- <%= t('append_price.Price') %> : "+$(".timi_profil_aristera_1").text());
                    $(".warning_times").show();
                    clearTimeout(timeout);
                    timeout = setTimeout(function()
                      {
                      $(".warning_times").fadeOut('slow');
                    }, 6000);
                  }else if( profil_aristera_counter == 2){
                    $(".warning_times").empty();
                    $(".warning_times").append($(".table_profil_aristera_2").text()+" -- <%= t('append_price.Price') %> : "+$(".timi_profil_aristera_2").text());
                    $(".warning_times").show();
                    clearTimeout(timeout);
                    timeout = setTimeout(function()
                      {
                      $(".warning_times").fadeOut('slow');
                    }, 6000);
                    
                  }else if( profil_aristera_counter == 3){
                    $(".warning_times").empty();
                    $(".warning_times").append($(".table_profil_aristera_3").text()+" -- <%= t('append_price.Price') %> : "+$(".timi_profil_aristera_3").text());
                    $(".warning_times").show();
                    clearTimeout(timeout);
                    timeout = setTimeout(function()
                      {
                      $(".warning_times").fadeOut('slow');
                    }, 6000);
                  }


                }//end megalitera apo 0
                else{
                  $(".alert_mikro_parathiro_ar").show();
                  $('.alert_mikro_parathiro_ar').delay(3000).fadeOut('slow');
                  color_profil_aristera = "white";
                  $(".ola_ta_profil_aristera_color").hide();
                  pro_a = "0";
                  var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
                  var decimal = parseInt(b, 2);
                  //zwgrafia(decimal,epikathimeno_rolo,eksoteriko_rolo,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);

                  sxedio_p_a = false;
                  
                  ok_click();

                  times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

                }
                  
                          
                  }else{
                    //alert("Μικρό παράθυρο");
                    $(".alert_mikro_parathiro_ar").show();
                    $('.alert_mikro_parathiro_ar').delay(3000).fadeOut('slow');
                     color_profil_aristera = "white";
                  $(".ola_ta_profil_aristera_color").hide();
                  pro_a = "0";
                  var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
                  var decimal = parseInt(b, 2);
                  //zwgrafia(decimal,epikathimeno_rolo,eksoteriko_rolo,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);

                  sxedio_p_a = false;
                  
                  ok_click();

                  times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);
                    $( epilogi_a ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
                    $( epilogi_a ).css("color","");

                  }
                   if ( ARXIKO_FOR ){
                      next_insert();
                  }
                  if ( META_ARXIKO_FOR ){
                      meta_next_insert();
                  }
                  },
              error: function(data) { 
                  if ( ARXIKO_FOR ){
                      next_insert();
                  }
                  if ( META_ARXIKO_FOR ){
                      meta_next_insert();
                  }
              }
            });//end ejax
      
            
          }else{// Διαγράφω το αντικειμενο, -1 counter και -1 γενικο counter


            var result = $.grep(profil_aristera_array, function(e){ return e.id == profil_aristera_new; });
            if (result.length == 0) {
              // not found
            } else if (result.length == 1) {
              
              sunolika_profil_aristera = sunolika_profil_aristera - parseInt(result[0].arithmo);
              width_new = width_new + (width_profil_a * result[0].arithmo);
              $(".diastaseis_extra").text(width_new +"X"+height_new);
              $(".diastaseis_table_extra_tm").empty();
              $(".diastaseis_table_extra_tm").append( ( (parseFloat(width_new)*parseFloat(height_new))/1000000 ).toFixed(2)+" <p>m"+"2".sup()+"</p>" );
              //width_d = (width_profil * parseInt(ti_epeleksa));
            } else {
              // multiple items found
            }
            var index = functiontofindIndexByKeyValue(profil_aristera_array, "id", profil_aristera_new);
           
            if (index > -1) {
                profil_aristera_array.splice(index, 1);

                if ( index == 0 ){
                  //profil_deksia_1_id = 0;
                  //profil_deksia_1_json_arithmos = 0;

                  profil_aristera_1_id = profil_aristera_2_id;
                  profil_aristera_1_json_arithmos = profil_aristera_2_json_arithmos;
                  profil_aristera_2_id = profil_aristera_3_id;
                  profil_aristera_2_json_arithmos = profil_aristera_3_json_arithmos;
                  profil_aristera_3_id = 0;
                  profil_aristera_3_json_arithmos = 0;
                }else if( index == 1 ){
                  //profil_deksia_2_id = 0;
                  //profil_deksia_2_json_arithmos = 0;

                  profil_aristera_2_id = profil_aristera_3_id;
                  profil_aristera_2_json_arithmos = profil_aristera_3_json_arithmos;
                  profil_aristera_3_id = 0;
                  profil_aristera_3_json_arithmos = 0;
                }else if( index == 2 ){
                  profil_aristera_3_id = 0;
                  profil_aristera_3_json_arithmos = 0;
                }
            }
            if ( index != null ){
              profil_aristera_counter = profil_aristera_counter - 1;
            }
            $( epilogi_a ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
            $( epilogi_a ).css("color","");

            if (sunolika_profil_aristera > 0 && profil_aristera_counter > 0){
            //Αν μπει κανονικα το προφιλ, τοτε το ζογραφιζω
            if ( profil_aristera_new !== "32" && profil_aristera_new !== "33" && profil_aristera_new !== "34" ){
                    $(".ola_ta_profil_aristera_color").show();
                  }

            pro_a = "1";
            var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
            var decimal = parseInt(b, 2);
            //zwgrafia(decimal,epikathimeno_rolo,eksoteriko_rolo,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);

            sxedio_p_a = true;
            
            ok_click();

            times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

            if(profil_aristera_counter == 1){
                    $(".warning_times").empty();
                    $(".warning_times").append($(".table_profil_aristera_1").text()+" -- <%= t('append_price.Price') %> : "+$(".timi_profil_aristera_1").text());
                    $(".warning_times").show();
                    clearTimeout(timeout);
                    timeout = setTimeout(function()
                      {
                      $(".warning_times").fadeOut('slow');
                    }, 6000);
                  }else if( profil_aristera_counter == 2){
                    $(".warning_times").empty();
                    $(".warning_times").append($(".table_profil_aristera_2").text()+" -- <%= t('append_price.Price') %> : "+$(".timi_profil_aristera_2").text());
                    $(".warning_times").show();
                    clearTimeout(timeout);
                    timeout = setTimeout(function()
                      {
                      $(".warning_times").fadeOut('slow');
                    }, 6000);
                    
                  }else if( profil_aristera_counter == 3){
                    $(".warning_times").empty();
                    $(".warning_times").append($(".table_profil_aristera_3").text()+" -- <%= t('append_price.Price') %> : "+$(".timi_profil_aristera_3").text());
                    $(".warning_times").show();
                    clearTimeout(timeout);
                    timeout = setTimeout(function()
                      {
                      $(".warning_times").fadeOut('slow');
                    }, 6000);
                  }

            
            /*
            if (profil_deksia_array[0].id !== undefined){ profil_deksia_array[0].id, profil_deksia_array[0].arithmo }else{ 0, 0 },if (profil_deksia_array[1].id !== undefined){ profil_deksia_array[1].id, profil_deksia_array[1].arithmo }else{ 0, 0 },if (profil_deksia_array[2].id !== undefined){ profil_deksia_array[2].id, profil_deksia_array[2].arithmo }else{ 0, 0 } */


          }//end megalitera apo 0
          else{
            //$(".alert_mikro_parathiro_ar").show();
            color_profil_aristera = "white";
            $(".ola_ta_profil_aristera_color").hide();
            pro_a = "0";
            var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
            var decimal = parseInt(b, 2);
            //zwgrafia(decimal,epikathimeno_rolo,eksoteriko_rolo,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);

            sxedio_p_a = false;
            
            ok_click();

            times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

          }//end ζωγραφικη
          }//end else apo 0 ti dialeksa


  
      });

   $(".ola_ta_profil_aristera_color").on("click", ".color_aristera_profil", function() {
      color_profil_aristera = $(this).attr('id');
      $(".xr_profil_aristera").text(color_profil_aristera);

      //Σβηνω αυτα που ειχα πατησει
      $(".color_aristera_profil").css('border-style', '');
      //$(".tipos_name").css('display', '');
      //Κανω να φενετε με border αυτο που πατησα!!
      $(this).css('border-style', 'solid');
      $(this).css('border-width', '5px');
      $(this).css('border-color', '#007389');
      $(this).prev().children().css('display', 'block');

      times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

      color_ar = $(this).next().attr('id');
      color_a = color_ar;
      pro_a = "1";
      var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
      var decimal = parseInt(b, 2);
      //zwgrafia(decimal,epikathimeno_rolo,eksoteriko_rolo,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);

      sxedio_p_a = true;
      sxedio_color_p_a = color_a;
      
      ok_click();

    });


   ///////////////////// PROFIL ΠΑΝΩ ///////////////////////////////////
    $(".ola_ta_profil_panw_color").hide();
    ////////alert(geniko_rolo+geniko_persida+geniko_profil);
    ////////SaveImg(geniko_rolo+geniko_persida+geniko_profil);
    color_profil_panw = "white";
    color_p = "#F9F8F8"
    $.ajax({
      
      type:'GET',
      url:'/etic/color_profil',
      dataType: "json",
      //data: { material_id: $(this).attr('id') },
      success: function(data) {
        var h2 = "<label><%= t 'translate.Color' %>: </label>"
        $(h2).appendTo(".ola_ta_profil_panw_color");
        var xrwma = "<label class='xr_profil_panw'>"+color_profil_panw+"</label><br>"
        $(xrwma).appendTo(".ola_ta_profil_panw_color");
        var div = "<div class='div_col_profil_panw'></div>"
        $(div).appendTo(".ola_ta_profil_panw_color");
        $.each(data, function(i, item) { //Για κάθε data που παίρνω κανω τα παρακάτο 
            //alert(item.name);
            //return $(".kataskevastes").html(item.name);
            //$( "<p>item.name</p>" ).appendTo( ".kataskevastes" );
            var div_data = "<div class='xrwma xrwma2'><h5 class='tipos_name'> "+item.name+" </h5><img src='/assets/"+item.image+"' class=color_panw_profil id="+item.name+"><span id="+item.code+"></span></div>";
            $(div_data).appendTo(".ola_ta_profil_panw_color");
          })
      },
      error: function(data) { 
      }
    });//end ejax
    //DisplayImg(pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo);
  

    profil_panw_counter = 0;// Πόσα προφίλ διαφορετικα έχω...Μεχρι 3.
    sunolika_profil_panw = 0;// Πόσα προφίλ έχω όλα μαζι...Μεχρι 3.
    profil_panw_array =[];
    profil_panw_1_id = "0";
    profil_panw_1_json_arithmos = "0";
    profil_panw_2_id = "0";
    profil_panw_2_json_arithmos = "0";
    profil_panw_3_id = "0";
    profil_panw_3_json_arithmos = "0";
    

    function panw_profil(id, arithmo, seira) {
        this.id = id;
        this.arithmo = arithmo;
        this.seira = seira;
    }

    

    $(".extra").on("click", ".penintaduo", function() {
      
      profil_panw_new = $(this).attr('id');
      //$( this ).css("background-color","#CA3333");
      $( this ).css("background-color","#d9eaed");
      $( this ).css("color","black");
      epilogi_p = $( this );
      height_profil_p = Number(epilogi_p.next().attr('class'));
      
    });

    $('#myModal_p').on('shown.bs.modal', function (e) {
      //alert("OK");
        if ( YES_TYP_PA == true ){
          //alert("OK");
          $( "input[value="+pa_pa+"][name='optradio_p']" ).trigger('click');
          $( ".arithmos_profil_panw" ).trigger('click');
          YES_TYP_PA_COL = true;
          YES_TYP_PA = false;
        }
        if ( YES_TYP_PA2 == true ){
          //alert("OK");
          $( "input[value="+pa_pa+"][name='optradio_p']" ).trigger('click');
          $( ".arithmos_profil_panw" ).trigger('click');
          YES_TYP_PA_COL = true;
          YES_TYP_PA2 = false;
        }
        if ( YES_TYP_PA3 == true ){
          //alert("OK");
          $( "input[value="+pa_pa+"][name='optradio_p']" ).trigger('click');
          $( ".arithmos_profil_panw" ).trigger('click');
          YES_TYP_PA_COL = true;
          YES_TYP_PA3 = false;
        }
        if ( META_YES_TYP_PA == true ){
          //alert("OK");
          $( "input[value="+pa_pa+"][name='optradio_p']" ).trigger('click');
          $( ".arithmos_profil_panw" ).trigger('click');
          META_YES_TYP_PA_COL = true;
          META_YES_TYP_PA = false;
        }
        if ( META_YES_TYP_PA2 == true ){
          //alert("OK");
          $( "input[value="+pa_pa+"][name='optradio_p']" ).trigger('click');
          $( ".arithmos_profil_panw" ).trigger('click');
          META_YES_TYP_PA_COL = true;
          META_YES_TYP_PA2 = false;
        }
        if ( META_YES_TYP_PA3 == true ){
          //alert("OK");
          $( "input[value="+pa_pa+"][name='optradio_p']" ).trigger('click');
          $( ".arithmos_profil_panw" ).trigger('click');
          META_YES_TYP_PA_COL = true;
          META_YES_TYP_PA3 = false;
        }
    });

    $(".modal_p").on("click", ".arithmos_profil_panw", function() {
          //ti_epeleksa_a = $("input:checked").val();
          ti_epeleksa_p = $('input[name=optradio_p]:checked', '#myForm_p').val();
          $('.modal_p').modal('hide');
          $('.modal_p').modal('hide');
          $('.modal-backdrop').remove();

          //panw_hide_modal = true;
          //alert(typeof(ti_epeleksa));
          if(typeof ti_epeleksa_p === 'undefined'){
             ti_epeleksa_p = 0;
           };

          // Αν πατησω πανω απο 0 πρωφιλ τα προσθετω στον πινακα.
          if (ti_epeleksa_p !== "0"){
            //Βρησκω αν αυτο που πατησα το εχω ειδη επιλεξει. (Αν κανω αλλαγη απο 2 σε 1 πχ)
            //Το διαγραφω και μετα παλι απο την αρχη
            var result = $.grep(profil_panw_array, function(e){ return e.id == profil_panw_new; });
            if (result.length == 0) {
              // not found
            } else if (result.length == 1) {
              sunolika_profil_panw = sunolika_profil_panw - parseInt(result[0].arithmo);
              profil_panw_counter = profil_panw_counter - 1;
              height_new = height_new + (height_profil_p * result[0].arithmo);
              $(".diastaseis_extra").text(width_new +"X"+height_new);
              $(".diastaseis_table_extra_tm").empty();
              $(".diastaseis_table_extra_tm").append( ( (parseFloat(width_new)*parseFloat(height_new))/1000000 ).toFixed(2)+" <p>m"+"2".sup()+"</p>" );
              var index = functiontofindIndexByKeyValue(profil_panw_array, "id", profil_panw_new);
              if (index > -1) {
                  profil_panw_array.splice(index, 1);
                  if ( index == 0 ){
                  //profil_deksia_1_id = 0;
                  //profil_deksia_1_json_arithmos = 0;
                  profil_panw_1_id = profil_panw_2_id;
                  profil_panw_1_json_arithmos = profil_panw_2_json_arithmos;
                  profil_panw_2_id = profil_panw_3_id;
                  profil_panw_2_json_arithmos = profil_panw_3_json_arithmos;
                  profil_panw_3_id = 0;
                  profil_panw_3_json_arithmos = 0;
                }else if( index == 1 ){
                  //profil_deksia_2_id = 0;
                  //profil_deksia_2_json_arithmos = 0;
                  profil_panw_2_id = profil_panw_3_id;
                  profil_panw_2_json_arithmos = profil_panw_3_json_arithmos;
                  profil_panw_3_id = 0;
                  profil_panw_3_json_arithmos = 0;
                }else if( index == 2 ){
                  profil_panw_3_id = 0;
                  profil_panw_3_json_arithmos = 0;
                }
              }
            } else {
              // multiple items found
            }

            height_profil_p = Number(epilogi_p.next().attr('class'));
            $.ajax({
              
                type:'GET',
                url:'/etic/upologismos_upsos_profil',
                dataType: "json",
                data: { profil: epilogi_p.attr('id'), anoigma: tipos_name_gia_xrwma, height_new: height_new, input: ti_epeleksa_p },
                success: function(data) {
                 if ( data ) {
      
                  height_new = height_new - (height_profil_p * parseInt(ti_epeleksa_p));
                  $(".diastaseis_extra").text(width_new +"X"+height_new);
                  $(".diastaseis_table_extra_tm").empty();
                  $(".diastaseis_table_extra_tm").append( ( (parseFloat(width_new)*parseFloat(height_new))/1000000 ).toFixed(2)+" <p>m"+"2".sup()+"</p>" );
                  height_p = height_p + (height_profil_p * parseInt(ti_epeleksa_p));

                  //////////////////////////////////////////////////////////////////////////////
                  profil_panw_counter = profil_panw_counter + 1;
                  sunolika_profil_panw = sunolika_profil_panw + parseInt(ti_epeleksa_p);
                  
                  if (sunolika_profil_panw <= 3 && profil_panw_counter <= 3){
                  if(profil_panw_counter == 1){
                      profil_panw_1 = new panw_profil(profil_panw_new, ti_epeleksa_p, profil_panw_counter);
                      //sunolika_profil_deksia = sunolika_profil_deksia + ti_epeleksa;
                      //
                      profil_panw_1_id = profil_panw_new;
                      profil_panw_1_json_arithmos = ti_epeleksa_p;
                      //
                      profil_panw_array.push(profil_panw_1);
					  
  					$('.modal_times .profil_panw_xrwma_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
  					$('.modal_times .profil_panw_1_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
                  }else if( profil_panw_counter == 2){
                    profil_panw_2 = new panw_profil(profil_panw_new, ti_epeleksa_p, profil_panw_counter);
                    //sunolika_profil_deksia = sunolika_profil_deksia + ti_epeleksa;
                    //
                    profil_panw_2_id = profil_panw_new;
                    profil_panw_2_json_arithmos = ti_epeleksa_p;
                    //
                    profil_panw_array.push(profil_panw_2);
					
					$('.modal_times .profil_panw_xrwma_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
					$('.modal_times .profil_panw_1_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
					$('.modal_times .profil_panw_2_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
                  }else if( profil_panw_counter == 3){
                    profil_panw_3 = new panw_profil(profil_panw_new, ti_epeleksa_p, profil_panw_counter);
                    //sunolika_profil_deksia = sunolika_profil_deksia + ti_epeleksa;
                    //
                    profil_panw_3_id = profil_panw_new;
                    profil_panw_3_json_arithmos = ti_epeleksa_p;
                    //
                    profil_panw_array.push(profil_panw_3);
					
					$('.modal_times .profil_panw_xrwma_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
					$('.modal_times .profil_panw_1_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
					$('.modal_times .profil_panw_2_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
					$('.modal_times .profil_panw_3_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
                  }
          
                  }//end if ελεγχου <= 3
                  else{
                      profil_panw_counter = profil_panw_counter - 1;
                      sunolika_profil_panw = sunolika_profil_panw - parseInt(ti_epeleksa_p);

                      height_new = height_new + (height_profil_p * parseInt(ti_epeleksa_p));
                      $(".diastaseis_extra").text(width_new +"X"+height_new);
                      $(".diastaseis_table_extra_tm").empty();
                      $(".diastaseis_table_extra_tm").append( ( (parseFloat(width_new)*parseFloat(height_new))/1000000 ).toFixed(2)+" <p>m"+"2".sup()+"</p>" );
                      //width_d = (width_profil * parseInt(ti_epeleksa));

                      $( epilogi_p ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
                      $( epilogi_p ).css("color","");
                      apomenoun_akomi_panw = 3 - sunolika_profil_panw;
                      $(".alert_mikro_parathiro_pa").show();
                      $('.alert_mikro_parathiro_pa').delay(3000).fadeOut('slow');
                      //alert("Εισαγωγή μόνο τριών προφίλ. Εχετε επιλέξει ήδη "+sunolika_profil_panw+" συνολικά προφίλ επάνω. Απομένουν ακόμη "+apomenoun_akomi_panw+" προφίλ επάνω!");
                  }

                  if (sunolika_profil_panw > 0 && profil_panw_counter > 0){
                  //Αν μπει κανονικα το προφιλ, τοτε το ζογραφιζω
                  if ( profil_panw_new !== "32" && profil_panw_new !== "33" && profil_panw_new !== "34" ){
                    $(".ola_ta_profil_panw_color").show();
                  }
                  $("#"+color_profil_panw+".color_panw_profil").click();

                  if ( YES_TYP_PA_COL == true ){
                      $(".color_panw_profil").each(function( index ) {
                          if( $( this ).attr("id") == "<%= @color_pa %>" ){
                            $( this ).trigger('click');
                          }
                        });
                        YES_TYP_PA_COL = false;
                      
                  }

                  if ( META_YES_TYP_PA_COL == true ){
                      $(".color_panw_profil").each(function( index ) {
                          if( $( this ).attr("id") == col_pa ){
                            $( this ).trigger('click');
                          }
                        });
                        META_YES_TYP_PA_COL = false;
                      
                  }

                  pro_p = "1";
                  var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
                  var decimal = parseInt(b, 2);
                  //zwgrafia(decimal,epikathimeno_rolo,eksoteriko_rolo,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);

                  sxedio_p_p = true;
                  
                  ok_click();

                  times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

                  if(profil_panw_counter == 1){
                    $(".warning_times").empty();
                    $(".warning_times").append($(".table_profil_panw_1").text()+" -- <%= t('append_price.Price') %> : "+$(".timi_profil_panw_1").text());
                    $(".warning_times").show();
                    clearTimeout(timeout);
                    timeout = setTimeout(function()
                      {
                      $(".warning_times").fadeOut('slow');
                    }, 6000);
                  }else if( profil_panw_counter == 2){
                    $(".warning_times").empty();
                    $(".warning_times").append($(".table_profil_panw_2").text()+" -- <%= t('append_price.Price') %> : "+$(".timi_profil_panw_2").text());
                    $(".warning_times").show();
                    clearTimeout(timeout);
                    timeout = setTimeout(function()
                      {
                      $(".warning_times").fadeOut('slow');
                    }, 6000);
                    
                  }else if( profil_panw_counter == 3){
                    $(".warning_times").empty();
                    $(".warning_times").append($(".table_profil_panw_3").text()+" -- <%= t('append_price.Price') %> : "+$(".timi_profil_panw_3").text());
                    $(".warning_times").show();
                    clearTimeout(timeout);
                    timeout = setTimeout(function()
                      {
                      $(".warning_times").fadeOut('slow');
                    }, 6000);
                  }


                }//end megalitera apo 0
                else{
                  $(".alert_mikro_parathiro_pa").show();
                  $('.alert_mikro_parathiro_pa').delay(3000).fadeOut('slow');
                  color_profil_panw = "white";
                  $(".ola_ta_profil_panw_color").hide();
                  pro_p = "0";
                  var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
                  var decimal = parseInt(b, 2);
                  //zwgrafia(decimal,epikathimeno_rolo,eksoteriko_rolo,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);

                  sxedio_p_p = false;
                  
                  ok_click();

                  times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

                }


                  
                          
                  }else{
                    //alert("Μικρό παράθυρο!!");
                    $(".alert_mikro_parathiro_pa").show();
                    $('.alert_mikro_parathiro_pa').delay(3000).fadeOut('slow');
                    color_profil_panw = "white";
                  $(".ola_ta_profil_panw_color").hide();
                  pro_p = "0";
                  var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
                  var decimal = parseInt(b, 2);
                  //zwgrafia(decimal,epikathimeno_rolo,eksoteriko_rolo,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);

                  sxedio_p_p = false;
                  
                  ok_click();

                  times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);
                    $( epilogi_p ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
                    $( epilogi_p ).css("color","");

                  }
                  if ( ARXIKO_FOR ){
                      next_insert();
                  }
                  if ( META_ARXIKO_FOR ){
                      meta_next_insert();
                  }
                  },
              error: function(data) { 
                  if ( ARXIKO_FOR ){
                      next_insert();
                  }
                  if ( META_ARXIKO_FOR ){
                      meta_next_insert();
                  }
              }
            });//end ejax
      
            
          }else{// Διαγράφω το αντικειμενο, -1 counter και -1 γενικο counter


            var result = $.grep(profil_panw_array, function(e){ return e.id == profil_panw_new; });
            if (result.length == 0) {
              // not found
            } else if (result.length == 1) {
              sunolika_profil_panw = sunolika_profil_panw - parseInt(result[0].arithmo);
              height_new = height_new + (height_profil_p * result[0].arithmo);
              height_p = height_p - (height_profil_p * result[0].arithmo);
              $(".diastaseis_extra").text(width_new +"X"+height_new);
              $(".diastaseis_table_extra_tm").empty();
              $(".diastaseis_table_extra_tm").append( ( (parseFloat(width_new)*parseFloat(height_new))/1000000 ).toFixed(2)+" <p>m"+"2".sup()+"</p>" );
              //width_d = (width_profil * parseInt(ti_epeleksa));
            } else {
              // multiple items found
            }
            var index = functiontofindIndexByKeyValue(profil_panw_array, "id", profil_panw_new);
            if (index > -1) {
                profil_panw_array.splice(index, 1);

                if ( index == 0 ){
                  //profil_deksia_1_id = 0;
                  //profil_deksia_1_json_arithmos = 0;
                  profil_panw_1_id = profil_panw_2_id;
                  profil_panw_1_json_arithmos = profil_panw_2_json_arithmos;
                  profil_panw_2_id = profil_panw_3_id;
                  profil_panw_2_json_arithmos = profil_panw_3_json_arithmos;
                  profil_panw_3_id = 0;
                  profil_panw_3_json_arithmos = 0;
                }else if( index == 1 ){
                  //profil_deksia_2_id = 0;
                  //profil_deksia_2_json_arithmos = 0;
                  profil_panw_2_id = profil_panw_3_id;
                  profil_panw_2_json_arithmos = profil_panw_3_json_arithmos;
                  profil_panw_3_id = 0;
                  profil_panw_3_json_arithmos = 0;
                }else if( index == 2 ){
                  profil_panw_3_id = 0;
                  profil_panw_3_json_arithmos = 0;
                }
            }
            if ( index != null ){
              profil_panw_counter = profil_panw_counter - 1;
            }
            $( epilogi_p ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
            $( epilogi_p ).css("color","");

            if (sunolika_profil_panw > 0 && profil_panw_counter > 0){
            //Αν μπει κανονικα το προφιλ, τοτε το ζογραφιζω
            if ( profil_panw_new !== "32" && profil_panw_new !== "33" && profil_panw_new !== "34" ){
                    $(".ola_ta_profil_panw_color").show();
                  }

            pro_p = "1";
            var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
            var decimal = parseInt(b, 2);
            //zwgrafia(decimal,epikathimeno_rolo,eksoteriko_rolo,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);

            sxedio_p_p = true;
            
            ok_click();

            times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

            if(profil_panw_counter == 1){
                    $(".warning_times").empty();
                    $(".warning_times").append($(".table_profil_panw_1").text()+" -- <%= t('append_price.Price') %> : "+$(".timi_profil_panw_1").text());
                    $(".warning_times").show();
                    clearTimeout(timeout);
                    timeout = setTimeout(function()
                      {
                      $(".warning_times").fadeOut('slow');
                    }, 6000);
                  }else if( profil_panw_counter == 2){
                    $(".warning_times").empty();
                    $(".warning_times").append($(".table_profil_panw_2").text()+" -- <%= t('append_price.Price') %> : "+$(".timi_profil_panw_2").text());
                    $(".warning_times").show();
                    clearTimeout(timeout);
                    timeout = setTimeout(function()
                      {
                      $(".warning_times").fadeOut('slow');
                    }, 6000);
                    
                  }else if( profil_panw_counter == 3){
                    $(".warning_times").empty();
                    $(".warning_times").append($(".table_profil_panw_3").text()+" -- <%= t('append_price.Price') %> : "+$(".timi_profil_panw_3").text());
                    $(".warning_times").show();
                    clearTimeout(timeout);
                    timeout = setTimeout(function()
                      {
                      $(".warning_times").fadeOut('slow');
                    }, 6000);
                  }

            
            /*
            if (profil_deksia_array[0].id !== undefined){ profil_deksia_array[0].id, profil_deksia_array[0].arithmo }else{ 0, 0 },if (profil_deksia_array[1].id !== undefined){ profil_deksia_array[1].id, profil_deksia_array[1].arithmo }else{ 0, 0 },if (profil_deksia_array[2].id !== undefined){ profil_deksia_array[2].id, profil_deksia_array[2].arithmo }else{ 0, 0 } */


          }//end megalitera apo 0
          else{
            //$(".alert_mikro_parathiro_pa").show();
            color_profil_panw = "white";
            $(".ola_ta_profil_panw_color").hide();
            pro_p = "0";
            var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
            var decimal = parseInt(b, 2);
            //zwgrafia(decimal,epikathimeno_rolo,eksoteriko_rolo,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);

            sxedio_p_p = false;
            
            ok_click();

            times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

          }//end ζωγραφικη
          }//end else apo 0 ti dialeksa


  
      });

   $(".ola_ta_profil_panw_color").on("click", ".color_panw_profil", function() {
      color_profil_panw = $(this).attr('id');
      $(".xr_profil_panw").text(color_profil_panw);

      //Σβηνω αυτα που ειχα πατησει
      $(".color_panw_profil").css('border-style', '');
      //$(".tipos_name").css('display', '');
      //Κανω να φενετε με border αυτο που πατησα!!
      $(this).css('border-style', 'solid');
      $(this).css('border-width', '5px');
      $(this).css('border-color', '#007389');
      $(this).prev().children().css('display', 'block');

      times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

      color_pa = $(this).next().attr('id');
      color_p = color_pa;
      pro_p = "1";
      var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
      var decimal = parseInt(b, 2);
      //zwgrafia(decimal,epikathimeno_rolo,eksoteriko_rolo,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);

      sxedio_p_p = true;
      sxedio_color_p_p = color_p;
      
      ok_click();

    });

   ///////////////////// PROFIL ΚΑΤΩ ///////////////////////////////////
    $(".ola_ta_profil_katw_color").hide();
    ////////alert(geniko_rolo+geniko_persida+geniko_profil);
    ////////SaveImg(geniko_rolo+geniko_persida+geniko_profil);
    color_profil_katw = "white";
    color_k = "#F9F8F8"
    $.ajax({
      
      type:'GET',
      url:'/etic/color_profil',
      dataType: "json",
      //data: { material_id: $(this).attr('id') },
      success: function(data) {
        var h2 = "<label><%= t 'translate.Color' %>: </label>"
        $(h2).appendTo(".ola_ta_profil_katw_color");
        var xrwma = "<label class='xr_profil_katw'>"+color_profil_katw+"</label><br>"
        $(xrwma).appendTo(".ola_ta_profil_katw_color");
        var div = "<div class='div_col_profil_katw'></div>"
        $(div).appendTo(".ola_ta_profil_katw_color");
        $.each(data, function(i, item) { //Για κάθε data που παίρνω κανω τα παρακάτο 
            //alert(item.name);
            //return $(".kataskevastes").html(item.name);
            //$( "<p>item.name</p>" ).appendTo( ".kataskevastes" );
            var div_data = "<div class='xrwma xrwma2'><h5 class='tipos_name'> "+item.name+" </h5><img src='/assets/"+item.image+"' class=color_katw_profil id="+item.name+"><span id="+item.code+"></span></div>";
            $(div_data).appendTo(".ola_ta_profil_katw_color");
          })
      },
      error: function(data) { 
      }
    });//end ejax
    //DisplayImg(pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo);
  

    profil_katw_counter = 0;// Πόσα προφίλ διαφορετικα έχω...Μεχρι 3.
    sunolika_profil_katw = 0;// Πόσα προφίλ έχω όλα μαζι...Μεχρι 3.
    profil_katw_array =[];
    profil_katw_1_id = "0";
    profil_katw_1_json_arithmos = "0";
    profil_katw_2_id = "0";
    profil_katw_2_json_arithmos = "0";
    profil_katw_3_id = "0";
    profil_katw_3_json_arithmos = "0";
    

    function katw_profil(id, arithmo, seira) {
        this.id = id;
        this.arithmo = arithmo;
        this.seira = seira;
    }

    

    $(".extra").on("click", ".penintatria", function() {
      
      profil_katw_new = $(this).attr('id');
      //$( this ).css("background-color","#CA3333");
      $( this ).css("background-color","#d9eaed");
      $( this ).css("color","black");
      epilogi_k = $( this );
      height_profil_k = Number(epilogi_k.next().attr('class'));      

    });

    $('#myModal_k').on('shown.bs.modal', function (e) {
      //alert("OK");
        if ( YES_TYP_KA == true ){
          //alert("OK");
          $( "input[value="+ka_ka+"][name='optradio_k']" ).trigger('click');
          $( ".arithmos_profil_katw" ).trigger('click');
          YES_TYP_KA = false;
          YES_TYP_KA_COL = true;
        }
        if ( YES_TYP_KA2 == true ){
          //alert("OK");
          $( "input[value="+ka_ka+"][name='optradio_k']" ).trigger('click');
          $( ".arithmos_profil_katw" ).trigger('click');
          YES_TYP_KA2 = false;
          YES_TYP_KA_COL = true;
        }
        if ( YES_TYP_KA3 == true ){
          //alert("OK");
          $( "input[value="+ka_ka+"][name='optradio_k']" ).trigger('click');
          $( ".arithmos_profil_katw" ).trigger('click');
          YES_TYP_KA3 = false;
          YES_TYP_KA_COL = true;
        }
        if ( META_YES_TYP_KA == true ){
          //alert("OK");
          $( "input[value="+ka_ka+"][name='optradio_k']" ).trigger('click');
          $( ".arithmos_profil_katw" ).trigger('click');
          META_YES_TYP_KA = false;
          META_YES_TYP_KA_COL = true;
        }
        if ( META_YES_TYP_KA2 == true ){
          //alert("OK");
          $( "input[value="+ka_ka+"][name='optradio_k']" ).trigger('click');
          $( ".arithmos_profil_katw" ).trigger('click');
          META_YES_TYP_KA2 = false;
          META_YES_TYP_KA_COL = true;
        }
        if ( META_YES_TYP_KA3 == true ){
          //alert("OK");
          $( "input[value="+ka_ka+"][name='optradio_k']" ).trigger('click');
          $( ".arithmos_profil_katw" ).trigger('click');
          META_YES_TYP_KA3 = false;
          META_YES_TYP_KA_COL = true;
        }
    });

    $(".modal_k").on("click", ".arithmos_profil_katw", function() {
          //ti_epeleksa_a = $("input:checked").val();
          ti_epeleksa_k = $('input[name=optradio_k]:checked', '#myForm_k').val();
          $('.modal_k').modal('hide');
          $('.modal_k').modal('hide');
          $('.modal-backdrop').remove();

          //katw_hide_modal = true;
          //alert(typeof(ti_epeleksa));
          if(typeof ti_epeleksa_k === 'undefined'){
             ti_epeleksa_k = 0;
           };

          // Αν πατησω πανω απο 0 πρωφιλ τα προσθετω στον πινακα.
          if (ti_epeleksa_k !== "0"){
            //Βρησκω αν αυτο που πατησα το εχω ειδη επιλεξει. (Αν κανω αλλαγη απο 2 σε 1 πχ)
            //Το διαγραφω και μετα παλι απο την αρχη
            var result = $.grep(profil_katw_array, function(e){ return e.id == profil_katw_new; });
            if (result.length == 0) {
              // not found
            } else if (result.length == 1) {
              sunolika_profil_katw = sunolika_profil_katw - parseInt(result[0].arithmo);
              profil_katw_counter = profil_katw_counter - 1;
              height_new = height_new + (height_profil_k * result[0].arithmo);
              $(".diastaseis_extra").text(width_new +"X"+height_new);
              $(".diastaseis_table_extra_tm").empty();
              $(".diastaseis_table_extra_tm").append( ( (parseFloat(width_new)*parseFloat(height_new))/1000000 ).toFixed(2)+" <p>m"+"2".sup()+"</p>" );
              var index = functiontofindIndexByKeyValue(profil_katw_array, "id", profil_katw_new);
              if (index > -1) {
                  profil_katw_array.splice(index, 1);
                  if ( index == 0 ){
                  //profil_deksia_1_id = 0;
                  //profil_deksia_1_json_arithmos = 0;
                  profil_katw_1_id = profil_katw_2_id;
                  profil_katw_1_json_arithmos = profil_katw_2_json_arithmos;
                  profil_katw_2_id = profil_katw_3_id;
                  profil_katw_2_json_arithmos = profil_katw_3_json_arithmos;
                  profil_katw_3_id = 0;
                  profil_katw_3_json_arithmos = 0;
                }else if( index == 1 ){
                  //profil_deksia_2_id = 0;
                  //profil_deksia_2_json_arithmos = 0;
                  profil_katw_2_id = profil_katw_3_id;
                  profil_katw_2_json_arithmos = profil_katw_3_json_arithmos;
                  profil_katw_3_id = 0;
                  profil_katw_3_json_arithmos = 0;
                }else if( index == 2 ){
                  profil_katw_3_id = 0;
                  profil_katw_3_json_arithmos = 0;
                }
              }
            } else {
              // multiple items found
            }

            height_profil_k = Number(epilogi_k.next().attr('class'));
            $.ajax({
              
                type:'GET',
                url:'/etic/upologismos_upsos_profil',
                dataType: "json",
                data: { profil: epilogi_k.attr('id'), anoigma: tipos_name_gia_xrwma, height_new: height_new, input: ti_epeleksa_k },
                success: function(data) {
                 if ( data ) {
      
                  height_new = height_new - (height_profil_k * parseInt(ti_epeleksa_k));
                  $(".diastaseis_extra").text(width_new +"X"+height_new);
                  $(".diastaseis_table_extra_tm").empty();
                  $(".diastaseis_table_extra_tm").append( ( (parseFloat(width_new)*parseFloat(height_new))/1000000 ).toFixed(2)+" <p>m"+"2".sup()+"</p>" );
                  height_k = height_k + (height_profil_k * parseInt(ti_epeleksa_k));

                  //////////////////////////////////////////////////////////////////////////////
                  profil_katw_counter = profil_katw_counter + 1;
                  sunolika_profil_katw = sunolika_profil_katw + parseInt(ti_epeleksa_k);
                  
                  if (sunolika_profil_katw <= 3 && profil_katw_counter <= 3){
                  if(profil_katw_counter == 1){
                      profil_katw_1 = new katw_profil(profil_katw_new, ti_epeleksa_k, profil_katw_counter);
                      //sunolika_profil_deksia = sunolika_profil_deksia + ti_epeleksa;
                      //
                      profil_katw_1_id = profil_katw_new;
                      profil_katw_1_json_arithmos = ti_epeleksa_k;
                      //
                      profil_katw_array.push(profil_katw_1);
					  
  					$('.modal_times .profil_katw_xrwma_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
  					$('.modal_times .profil_katw_1_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
                  }else if( profil_katw_counter == 2){
                    profil_katw_2 = new katw_profil(profil_katw_new, ti_epeleksa_k, profil_katw_counter);
                    //sunolika_profil_deksia = sunolika_profil_deksia + ti_epeleksa;
                    //
                    profil_katw_2_id = profil_katw_new;
                    profil_katw_2_json_arithmos = ti_epeleksa_k;
                    //
                    profil_katw_array.push(profil_katw_2);
					
					$('.modal_times .profil_katw_xrwma_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
					$('.modal_times .profil_katw_1_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
					$('.modal_times .profil_katw_2_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
                  }else if( profil_katw_counter == 3){
                    profil_katw_3 = new katw_profil(profil_katw_new, ti_epeleksa_k, profil_katw_counter);
                    //sunolika_profil_deksia = sunolika_profil_deksia + ti_epeleksa;
                    //
                    profil_katw_3_id = profil_katw_new;
                    profil_katw_3_json_arithmos = ti_epeleksa_k;
                    //
                    profil_katw_array.push(profil_katw_3);
					
					$('.modal_times .profil_katw_xrwma_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
					$('.modal_times .profil_katw_1_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
					$('.modal_times .profil_katw_2_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
					$('.modal_times .profil_katw_3_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
                  }
          
                  }//end if ελεγχου <= 3
                  else{
                      profil_katw_counter = profil_katw_counter - 1;
                      sunolika_profil_katw = sunolika_profil_katw - parseInt(ti_epeleksa_k);

                      height_new = height_new + (height_profil_k * parseInt(ti_epeleksa_k));
                      $(".diastaseis_extra").text(width_new +"X"+height_new);
                      $(".diastaseis_table_extra_tm").empty();
                      $(".diastaseis_table_extra_tm").append( ( (parseFloat(width_new)*parseFloat(height_new))/1000000 ).toFixed(2)+" <p>m"+"2".sup()+"</p>" );
                      //width_d = (width_profil * parseInt(ti_epeleksa));

                      $( epilogi_k ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
                      $( epilogi_k ).css("color","");
                      apomenoun_akomi_katw = 3 - sunolika_profil_katw;
                      $(".alert_mikro_parathiro_ka").show();
                      $('.alert_mikro_parathiro_ka').delay(3000).fadeOut('slow');
                      //alert("Εισαγωγή μόνο τριών προφίλ. Εχετε επιλέξει ήδη "+sunolika_profil_katw+" συνολικά προφίλ κάτω. Απομένουν ακόμη "+apomenoun_akomi_katw+" προφίλ κάτω!");
                  }

                  if (sunolika_profil_katw > 0 && profil_katw_counter > 0){
                  //Αν μπει κανονικα το προφιλ, τοτε το ζογραφιζω
                  if ( profil_katw_new !== "32" && profil_katw_new !== "33" && profil_katw_new !== "34" ){
                    $(".ola_ta_profil_katw_color").show();
                  }
                  $("#"+color_profil_katw+".color_katw_profil").click();

                  if ( YES_TYP_KA_COL == true ){
                      $(".color_katw_profil").each(function( index ) {
                        if( $( this ).attr("id") == "<%= @color_ka %>" ){
                          $( this ).trigger('click');
                        }
                      });
                        YES_TYP_KA_COL = false;
                      
                  }

                  if ( META_YES_TYP_KA_COL == true ){
                      $(".color_katw_profil").each(function( index ) {
                        if( $( this ).attr("id") == col_ka ){
                          $( this ).trigger('click');
                        }
                      });
                        META_YES_TYP_KA_COL = false;
                      
                  }

                  pro_k = "1";
                  var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
                  var decimal = parseInt(b, 2);
                  //zwgrafia(decimal,epikathimeno_rolo,eksoteriko_rolo,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);

                  sxedio_p_k = true;
                  
                  ok_click();

                  times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

                  if(profil_katw_counter == 1){
                    $(".warning_times").empty();
                    $(".warning_times").append($(".table_profil_katw_1").text()+" -- <%= t('append_price.Price') %> : "+$(".timi_profil_katw_1").text());
                    $(".warning_times").show();
                    clearTimeout(timeout);
                    timeout = setTimeout(function()
                      {
                      $(".warning_times").fadeOut('slow');
                    }, 6000);
                  }else if( profil_katw_counter == 2){
                    $(".warning_times").empty();
                    $(".warning_times").append($(".table_profil_katw_2").text()+" -- <%= t('append_price.Price') %> : "+$(".timi_profil_katw_2").text());
                    $(".warning_times").show();
                    clearTimeout(timeout);
                    timeout = setTimeout(function()
                      {
                      $(".warning_times").fadeOut('slow');
                    }, 6000);
                    
                  }else if( profil_katw_counter == 3){
                    $(".warning_times").empty();
                    $(".warning_times").append($(".table_profil_katw_3").text()+" -- <%= t('append_price.Price') %> : "+$(".timi_profil_katw_3").text());
                    $(".warning_times").show();
                    clearTimeout(timeout);
                    timeout = setTimeout(function()
                      {
                      $(".warning_times").fadeOut('slow');
                    }, 6000);
                  }


                }//end megalitera apo 0
                else if (sunolika_profil_katw > 0 && profil_katw_counter == 0){//Εχω προφιλ κατω απο πριν
                  color_profil_katw = "white";
                  $(".ola_ta_profil_katw_color").hide();
                  $(".alert_mikro_parathiro_ka").show();
                  $('.alert_mikro_parathiro_ka').delay(3000).fadeOut('slow');
                  //pro_k = "0";
                  //var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
                  //var decimal = parseInt(b, 2);
                  //zwgrafia(decimal,epikathimeno_rolo,eksoteriko_rolo,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);

                  times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);


                }
                else{
                  $(".alert_mikro_parathiro_ka").show();
                  $('.alert_mikro_parathiro_ka').delay(3000).fadeOut('slow');
                  //color_profil_katw = "white";
                  $(".ola_ta_profil_katw_color").hide();
                  pro_k = "0";
                  var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
                  var decimal = parseInt(b, 2);
                  //zwgrafia(decimal,epikathimeno_rolo,eksoteriko_rolo,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);

                  sxedio_p_k = false;
                  
                  ok_click();

                  times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

                }


                  
                          
                  }else{
                    $(".alert_mikro_parathiro_ka").show();
                    $('.alert_mikro_parathiro_ka').delay(3000).fadeOut('slow');
                    //alert("Μικρό παράθυρο");
                    color_profil_katw = "white";
                  $(".ola_ta_profil_katw_color").hide();
                  pro_k = "0";
                  var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
                  var decimal = parseInt(b, 2);
                  //zwgrafia(decimal,epikathimeno_rolo,eksoteriko_rolo,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);

                  sxedio_p_k = false;
                  
                  ok_click();

                  times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);
                    $( epilogi_k ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
                    $( epilogi_k ).css("color","");

                  }
                  if ( ARXIKO_FOR ){
                      next_insert();
                  }
                  if ( META_ARXIKO_FOR ){
                      meta_next_insert();
                  }
                  },
              error: function(data) {
                  if ( ARXIKO_FOR ){
                      next_insert();
                  }
                  if ( meta_ARXIKO_FOR ){
                      meta_next_insert();
                  }
              }
            });//end ejax
      
            
          }else{// Διαγράφω το αντικειμενο, -1 counter και -1 γενικο counter
            var result = $.grep(profil_katw_array, function(e){ return e.id == profil_katw_new; });
            if (result.length == 0) {
              // not found
            } else if (result.length == 1) {
              sunolika_profil_katw = sunolika_profil_katw - parseInt(result[0].arithmo);
              height_new = height_new + (height_profil_k * result[0].arithmo);
              $(".diastaseis_extra").text(width_new +"X"+height_new);
              $(".diastaseis_table_extra_tm").empty();
              $(".diastaseis_table_extra_tm").append( ( (parseFloat(width_new)*parseFloat(height_new))/1000000 ).toFixed(2)+" <p>m"+"2".sup()+"</p>" );
              //width_d = (width_profil * parseInt(ti_epeleksa));
              height_k = height_k - (height_profil_k * result[0].arithmo);
            } else {
              // multiple items found
            }
            var index = functiontofindIndexByKeyValue(profil_katw_array, "id", profil_katw_new);
            if (index > -1) {
                profil_katw_array.splice(index, 1);

                if ( index == 0 ){
                  //profil_deksia_1_id = 0;
                  //profil_deksia_1_json_arithmos = 0;
                  profil_katw_1_id = profil_katw_2_id;
                  profil_katw_1_json_arithmos = profil_katw_2_json_arithmos;
                  profil_katw_2_id = profil_katw_3_id;
                  profil_katw_2_json_arithmos = profil_katw_3_json_arithmos;
                  profil_katw_3_id = 0;
                  profil_katw_3_json_arithmos = 0;
                }else if( index == 1 ){
                  //profil_deksia_2_id = 0;
                  //profil_deksia_2_json_arithmos = 0;
                  profil_katw_2_id = profil_katw_3_id;
                  profil_katw_2_json_arithmos = profil_katw_3_json_arithmos;
                  profil_katw_3_id = 0;
                  profil_katw_3_json_arithmos = 0;
                }else if( index == 2 ){
                  profil_katw_3_id = 0;
                  profil_katw_3_json_arithmos = 0;
                }
            }
            if ( index != null ){
              profil_katw_counter = profil_katw_counter - 1;
            }
            $( epilogi_k ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
            $( epilogi_k ).css("color","");

            if (sunolika_profil_katw > 0 && profil_katw_counter > 0){
            //Αν μπει κανονικα το προφιλ, τοτε το ζογραφιζω
            if ( profil_katw_new !== "32" && profil_katw_new !== "33" && profil_katw_new !== "34" ){
                    $(".ola_ta_profil_katw_color").show();
                  }

            pro_k = "1";
            var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
            var decimal = parseInt(b, 2);
            //zwgrafia(decimal,epikathimeno_rolo,eksoteriko_rolo,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);

            sxedio_p_k = true;
            
            ok_click();

            times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

            if(profil_katw_counter == 1){
                    $(".warning_times").empty();
                    $(".warning_times").append($(".table_profil_katw_1").text()+" -- <%= t('append_price.Price') %> : "+$(".timi_profil_katw_1").text());
                    $(".warning_times").show();
                    clearTimeout(timeout);
                    timeout = setTimeout(function()
                      {
                      $(".warning_times").fadeOut('slow');
                    }, 6000);
                  }else if( profil_katw_counter == 2){
                    $(".warning_times").empty();
                    $(".warning_times").append($(".table_profil_katw_2").text()+" -- <%= t('append_price.Price') %> : "+$(".timi_profil_katw_2").text());
                    $(".warning_times").show();
                    clearTimeout(timeout);
                    timeout = setTimeout(function()
                      {
                      $(".warning_times").fadeOut('slow');
                    }, 6000);
                    
                  }else if( profil_katw_counter == 3){
                    $(".warning_times").empty();
                    $(".warning_times").append($(".table_profil_katw_3").text()+" -- <%= t('append_price.Price') %> : "+$(".timi_profil_katw_3").text());
                    $(".warning_times").show();
                    clearTimeout(timeout);
                    timeout = setTimeout(function()
                      {
                      $(".warning_times").fadeOut('slow');
                    }, 6000);
                  }

            


          }//end megalitera apo 0
          else if (sunolika_profil_katw > 0 && profil_katw_counter == 0){//Εχω προφιλ κατω απο πριν
            //color_profil_katw = "white";
            $(".ola_ta_profil_katw_color").hide();
            //$(".alert_mikro_parathiro_ka").show();
            //pro_k = "0";
            //var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
            //var decimal = parseInt(b, 2);
            //zwgrafia(decimal,epikathimeno_rolo,eksoteriko_rolo,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);

            ok_click();

            times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);


          }
          
          else{
            //color_profil_katw = "white";
            $(".ola_ta_profil_katw_color").hide();
            pro_k = "0";
            var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
            var decimal = parseInt(b, 2);
            //zwgrafia(decimal,epikathimeno_rolo,eksoteriko_rolo,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);

            sxedio_p_k = false;
            
            ok_click();

            times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

          }//end ζωγραφικη
          }//end else apo 0 ti dialeksa,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos


  
      });

   $(".ola_ta_profil_katw_color").on("click", ".color_katw_profil", function() {
      color_profil_katw = $(this).attr('id');
      $(".xr_profil_katw").text(color_profil_katw);
      $(".xr_typos").text(color_profil_katw);

      //Σβηνω αυτα που ειχα πατησει
      $(".color_katw_profil").css('border-style', '');
      //$(".tipos_name").css('display', '');
      //Κανω να φενετε με border αυτο που πατησα!!
      $(this).css('border-style', 'solid');
      $(this).css('border-width', '5px');
      $(this).css('border-color', '#007389');
      $(this).prev().children().css('display', 'block');

      times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

      color_ka = $(this).next().attr('id');
      color_k = color_ka;
      pro_k = "1";
      var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
      var decimal = parseInt(b, 2);
      //zwgrafia(decimal,epikathimeno_rolo,eksoteriko_rolo,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);

      sxedio_p_k = true;
      sxedio_color_p_k = color_k;
      
      ok_click();

    });

   ///////////////////// ΤΥΠΟΣ ///////////////////////////////////
    $(".color_typos").hide();
    ////////alert(geniko_rolo+geniko_persida+geniko_profil);
    ////////SaveImg(geniko_rolo+geniko_persida+geniko_profil);
    //color_typos = "white";
    //color_k = "#F9F8F8"
    /*
    $.ajax({
      
      type:'GET',
      url:'/etic/color_profil',
      dataType: "json",
      //data: { material_id: $(this).attr('id') },
      success: function(data) {
        var h2 = "<label><%= t 'translate.Color' %>: </label>"
        $(h2).appendTo(".color_typos");
        var xrwma = "<label class='xr_typos'>"+color_profil_katw+"</label><br>"
        $(xrwma).appendTo(".color_typos");
        var div = "<div class='div_col_typos'></div>"
        $(div).appendTo(".color_typos");
        $.each(data, function(i, item) { //Για κάθε data που παίρνω κανω τα παρακάτο 
            //alert(item.name);
            //return $(".kataskevastes").html(item.name);
            //$( "<p>item.name</p>" ).appendTo( ".kataskevastes" );
            var div_data = "<div class='xrwma xrwma2'><h5 class='tipos_name'> "+item.name+" </h5><img src='/assets/"+item.image+"' class=color_typos_katw id="+item.name+"><span id="+item.code+"></span></div>";
            $(div_data).appendTo(".color_typos");
          })
        $("#"+color_profil_katw+".color_typos").click();
      },
      error: function(data) { 
      }
    });//end ejax
*/
    //DisplayImg(pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo);
  

    profil_typos_counter = 0;// Πόσα προφίλ διαφορετικα έχω...Μεχρι 3.
    //sunolika_profil_katw = 0;// Πόσα προφίλ έχω όλα μαζι...Μεχρι 3.
    profil_typos_array =[];
    profil_typos_1_id = "0";
    profil_typos_1_json_arithmos = "0";
    profil_typos_2_id = "0";
    profil_typos_2_json_arithmos = "0";
    profil_typos_3_id = "0";
    profil_typos_3_json_arithmos = "0";
    
    function typos_profil(id, arithmo, seira) {
        this.id = id;
        this.arithmo = arithmo;
        this.seira = seira;
    }
    
    profil_typos_new = 0;
    $(".extra").on("click", ".typos", function() {
		$('.modal_times .typos_katw_1_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
      
      if(profil_typos_new === $(this).attr('id')){
        profil_typos_new = $(this).attr('id');
        META_YES_TYPOS = false;
      }else{
        //Diagrafw ton patimenw apo prin
        if ( profil_typos_new !== 0 ){
          META_YES_TYPOS = false;
          $('#myModal_t').modal('show');
        }
        profil_typos_new = $(this).attr('id');
        //META_YES_TYPOS = true;
        //$('#myModal_t').modal('show');
        //$( this ).css("background-color","#CA3333");
        $( this ).css("background-color","#d9eaed");
        $( this ).css("color","black");
        epilogi_t = $( this );
        height_typos_k = Number(epilogi_t.next().attr('id'));
        META_YES_TYPOS = true;
      }

    });

    $('#myModal_t').on('shown.bs.modal', function (e) {
      //alert("OK");
        if ( YES_TYPOS == true ){
          //alert("OK");
         $( "input[value='1'][name='optradio_t']" ).trigger('click');
         $( ".arithmos_typos" ).trigger('click');
          YES_TYPOS_COL = true;
          YES_TYPOS = false;
        }//else{
          //$( "input[value='0'][name='optradio_t']" ).trigger('click');
          //$( ".arithmos_typos" ).trigger('click');
        //}
        if ( META_YES_TYPOS == true ){
          //alert("OK");
         $( "input[value='1'][name='optradio_t']" ).trigger('click');
         $( ".arithmos_typos" ).trigger('click');
          META_YES_TYPOS_COL = true;
          META_YES_TYPOS = false;
        }else{
          $( "input[value='0'][name='optradio_t']" ).trigger('click');
          $( ".arithmos_typos" ).trigger('click');
          $(".profil_typos_xrwma_show_hide").hide();
        }
    });

    $(".modal_t").on("click", ".arithmos_typos", function() {
          //ti_epeleksa_a = $("input:checked").val();
          ti_epeleksa_t = $('input[name=optradio_t]:checked', '#myForm_t').val();
          $('.modal_t').modal('hide');
          $('.modal_t').modal('hide');
          $('.modal-backdrop').remove();
          //alert(typeof(ti_epeleksa));
          //typos_hide_modal = true;

          // Αν πατησω πανω απο 0 πρωφιλ τα προσθετω στον πινακα.
          if (ti_epeleksa_t !== "0"){
            //Βρησκω αν αυτο που πατησα το εχω ειδη επιλεξει. (Αν κανω αλλαγη απο 2 σε 1 πχ)
            //Το διαγραφω και μετα παλι απο την αρχη
            var result = $.grep(profil_typos_array, function(e){ return e.id == profil_typos_new; });
            if (result.length == 0) {
              // not found
            } else if (result.length == 1) {
              sunolika_profil_katw = sunolika_profil_katw - parseInt(result[0].arithmo);
              profil_typos_counter = profil_typos_counter - 1;
              height_new = height_new + (height_typos_k * result[0].arithmo);
              $(".diastaseis_extra").text(width_new +"X"+height_new);
              $(".diastaseis_table_extra_tm").empty();
              $(".diastaseis_table_extra_tm").append( ( (parseFloat(width_new)*parseFloat(height_new))/1000000 ).toFixed(2)+" <p>m"+"2".sup()+"</p>" );
              var index = functiontofindIndexByKeyValue(profil_typos_array, "id", profil_typos_new);
              if (index > -1) {
                  profil_typos_array.splice(index, 1);
                  if ( index == 0 ){
                  //profil_deksia_1_id = 0;
                  //profil_deksia_1_json_arithmos = 0;
                  profil_typos_1_id = profil_typos_2_id;
                  profil_typos_1_json_arithmos = profil_typos_2_json_arithmos;
                  profil_typos_2_id = profil_typos_3_id;
                  profil_typos_2_json_arithmos = profil_typos_3_json_arithmos;
                  profil_typos_3_id = 0;
                  profil_typos_3_json_arithmos = 0;
                }else if( index == 1 ){
                  //profil_deksia_2_id = 0;
                  //profil_deksia_2_json_arithmos = 0;
                  profil_typos_2_id = profil_typos_3_id;
                  profil_typos_2_json_arithmos = profil_typos_3_json_arithmos;
                  profil_typos_3_id = 0;
                  profil_typos_3_json_arithmos = 0;
                }else if( index == 2 ){
                  profil_typos_3_id = 0;
                  profil_typos_3_json_arithmos = 0;
                }
              }
            } else {
              // multiple items found
            }

            height_typos_k = Number(epilogi_t.next().attr('id'));
            
            $.ajax({
              
                type:'GET',
                url:'/etic/upologismos_upsos_profil',
                dataType: "json",
                data: { profil: epilogi_t.attr('id'), anoigma: tipos_name_gia_xrwma, height_new: height_new, input: ti_epeleksa_t },
                success: function(data) {
                 if ( data ) {
      
                  height_new = height_new - (height_typos_k * parseInt(ti_epeleksa_t));
                  $(".diastaseis_extra").text(width_new +"X"+height_new);
                  $(".diastaseis_table_extra_tm").empty();
                  $(".diastaseis_table_extra_tm").append( ( (parseFloat(width_new)*parseFloat(height_new))/1000000 ).toFixed(2)+" <p>m"+"2".sup()+"</p>" );
                  height_k = height_k + (height_typos_k * parseInt(ti_epeleksa_t));

                  //////////////////////////////////////////////////////////////////////////////
                  profil_typos_counter = profil_typos_counter + 1;
                  sunolika_profil_katw = sunolika_profil_katw + parseInt(ti_epeleksa_t);
                  
                  if (sunolika_profil_katw <= 3 && profil_typos_counter <= 1){
                  if(profil_typos_counter == 1){
                      profil_typos_1 = new typos_profil(profil_typos_new, ti_epeleksa_t, profil_typos_counter);
                      //sunolika_profil_deksia = sunolika_profil_deksia + ti_epeleksa;
                      //
                      profil_typos_1_id = profil_typos_new;
                      profil_typos_1_json_arithmos = ti_epeleksa_t;
                      //
                      profil_typos_array.push(profil_typos_1);
                  }else if( profil_typos_counter == 2){
                    profil_typos_2 = new typos_profil(profil_typos_new, ti_epeleksa_t, profil_typos_counter);
                    //sunolika_profil_deksia = sunolika_profil_deksia + ti_epeleksa;
                    //
                    profil_typos_2_id = profil_typos_new;
                    profil_typos_2_json_arithmos = ti_epeleksa_t;
                    //
                    profil_typos_array.push(profil_typos_2);
                  }else if( profil_typos_counter == 3){
                    profil_typos_3 = new typos_profil(profil_typos_new, ti_epeleksa_t, profil_typos_counter);
                    //sunolika_profil_deksia = sunolika_profil_deksia + ti_epeleksa;
                    //
                    profil_typos_3_id = profil_typos_new;
                    profil_typos_3_json_arithmos = ti_epeleksa_t;
                    //
                    profil_typos_array.push(profil_typos_3);
                  }
          
                  }//end if ελεγχου <= 3
                  else{
                      profil_typos_counter = profil_typos_counter - 1;
                      sunolika_profil_katw = sunolika_profil_katw - parseInt(ti_epeleksa_t);

                      height_new = height_new + (height_typos_k * parseInt(ti_epeleksa_t));
                      $(".diastaseis_extra").text(width_new +"X"+height_new);
                      $(".diastaseis_table_extra_tm").empty();
                      $(".diastaseis_table_extra_tm").append( ( (parseFloat(width_new)*parseFloat(height_new))/1000000 ).toFixed(2)+" <p>m"+"2".sup()+"</p>" );
                      //width_d = (width_profil * parseInt(ti_epeleksa));

                      $( epilogi_t ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
                      $( epilogi_t ).css("color","");
                  }

                  if (sunolika_profil_katw > 0 && profil_typos_counter > 0){
                  //Αν μπει κανονικα το προφιλ, τοτε το ζογραφιζω
                  $(".color_typos").show();
                  $("#"+color_profil_katw+".color_typos_katw").click();

                  //next_insert();

                  if ( YES_TYPOS_COL == true ){
                     if (typeof "<%= @typos_id %>" !== "undefined") {
                            $(".color_typos_katw").each(function( index ) {
                            if( $( this ).attr("id") == "<%= @color_typos %>" ){
                              $( this ).trigger('click');
                            }
                          });
                        YES_TYPOS_COL = false;
                      }
                  }

                  if ( META_YES_TYPOS_COL == true ){
                     if (typeof color_typos !== "undefined") {
                            $(".color_typos_katw").each(function( index ) {
                            if( $( this ).attr("id") == color_typos ){
                              $( this ).trigger('click');
                            }
                          });
                        META_YES_TYPOS_COL = false;
                      }
                  }

                  pro_k = "1";
                  var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
                  var decimal = parseInt(b, 2);
                  //zwgrafia(decimal,epikathimeno_rolo,eksoteriko_rolo,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);

                  sxedio_p_k = true;
                  
                  ok_click();

                  times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

                    
                          $(".warning_times").empty();
                          $(".warning_times").append($(".table_typos_katw_1").text()+" -- <%= t('append_price.Price') %> : "+$(".timi_typos_katw_1").text());
                          $(".warning_times").show();
                          clearTimeout(timeout);
                    timeout = setTimeout(function()
                      {
                      $(".warning_times").fadeOut('slow');
                    }, 6000);


                }//end megalitera apo 0
                else if (sunolika_profil_katw > 0 && profil_typos_counter == 0){//Εχω προφιλ κατω απο πριν
                  //color_profil_katw = "white";
                  $(".color_typos").hide();
                  $(".alert_mikro_parathiro_typ").show();
                  $('.alert_mikro_parathiro_typ').delay(3000).fadeOut('slow');
                  //pro_k = "0";
                  //var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
                  //var decimal = parseInt(b, 2);
                  //zwgrafia(decimal,epikathimeno_rolo,eksoteriko_rolo,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);

                  times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);


                }
                else {
                  $(".alert_mikro_parathiro_typ").show();
                  $('.alert_mikro_parathiro_typ').delay(3000).fadeOut('slow');
                  color_profil_katw = "white";
                  $(".color_typos").hide();
                  pro_k = "0";
                  var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
                  var decimal = parseInt(b, 2);
                  //zwgrafia(decimal,epikathimeno_rolo,eksoteriko_rolo,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);

                  sxedio_p_k = false;
                  
                  ok_click();

                  times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

                }


                  
                          
                  }else{
                    $(".alert_mikro_parathiro_typ").show();
                    $('.alert_mikro_parathiro_typ').delay(3000).fadeOut('slow');
                    //alert("Παραθυρο μικρό!");
                    color_profil_katw = "white";
                  $(".color_typos").hide();
                  pro_k = "0";
                  var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
                  var decimal = parseInt(b, 2);
                  //zwgrafia(decimal,epikathimeno_rolo,eksoteriko_rolo,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);

                  sxedio_p_k = false;
                  
                  ok_click();

                  times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);
                    $( epilogi_t ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
                    $( epilogi_t ).css("color","");

                  }
                  },
              error: function(data) { 
              }
            });//end ejax
      
            
          }else{// Διαγράφω το αντικειμενο, -1 counter και -1 γενικο counter


            var result = $.grep(profil_typos_array, function(e){ return e.id == profil_typos_new; });
            if (result.length == 0) {
              // not found
            } else if (result.length == 1) {
              sunolika_profil_katw = sunolika_profil_katw - parseInt(result[0].arithmo);
              height_new = height_new + (height_typos_k * result[0].arithmo);
              $(".diastaseis_extra").text(width_new +"X"+height_new);
              $(".diastaseis_table_extra_tm").empty();
              $(".diastaseis_table_extra_tm").append( ( (parseFloat(width_new)*parseFloat(height_new))/1000000 ).toFixed(2)+" <p>m"+"2".sup()+"</p>" );
              //width_d = (width_profil * parseInt(ti_epeleksa));
              height_k = height_k - (height_typos_k * result[0].arithmo);
                  
            } else {
              // multiple items found
            }
            var index = functiontofindIndexByKeyValue(profil_typos_array, "id", profil_typos_new);
            profil_typos_new = 0;
            if (index > -1) {
                profil_typos_array.splice(index, 1);

                if ( index == 0 ){
                  //profil_deksia_1_id = 0;
                  //profil_deksia_1_json_arithmos = 0;
                  profil_typos_1_id = profil_typos_2_id;
                  profil_typos_1_json_arithmos = profil_typos_2_json_arithmos;
                  profil_typos_2_id = profil_typos_3_id;
                  profil_typos_2_json_arithmos = profil_typos_3_json_arithmos;
                  profil_typos_3_id = 0;
                  profil_typos_3_json_arithmos = 0;
                }else if( index == 1 ){
                  //profil_deksia_2_id = 0;
                  //profil_deksia_2_json_arithmos = 0;
                  profil_typos_2_id = profil_typos_3_id;
                  profil_typos_2_json_arithmos = profil_typos_3_json_arithmos;
                  profil_typos_3_id = 0;
                  profil_typos_3_json_arithmos = 0;
                }else if( index == 2 ){
                  profil_typos_3_id = 0;
                  profil_typos_3_json_arithmos = 0;
                }
            }
            if ( index != null ){
              profil_typos_counter = profil_typos_counter - 1;
            }
            $( epilogi_t ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
            $( epilogi_t ).css("color","");

            if (sunolika_profil_katw > 0 && profil_typos_counter > 0){
            //Αν μπει κανονικα το προφιλ, τοτε το ζογραφιζω
            $(".color_typos").show();

            pro_k = "1";
            var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
            var decimal = parseInt(b, 2);
            //zwgrafia(decimal,epikathimeno_rolo,eksoteriko_rolo,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);

            sxedio_p_k = true;
            
            ok_click();

            times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

                  $(".warning_times").empty();
                  $(".warning_times").append($(".table_typos_katw_1").text()+" -- <%= t('append_price.Price') %> : "+$(".timi_typos_katw_1").text());
                  $(".warning_times").show();
                  clearTimeout(timeout);
                    timeout = setTimeout(function()
                      {
                      $(".warning_times").fadeOut('slow');
                    }, 6000);



          }//end megalitera apo 0
          else if (sunolika_profil_katw > 0 && profil_typos_counter == 0){//Εχω προφιλ κατω απο πριν
            //color_profil_katw = "white";
            $(".color_typos").hide();
            //$(".alert_mikro_parathiro_typ").show();
            //pro_k = "0";
            //var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
            //var decimal = parseInt(b, 2);
            //zwgrafia(decimal,epikathimeno_rolo,eksoteriko_rolo,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);

            times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);


          }
          else{
            //$(".alert_mikro_parathiro_typ").show();
            color_profil_katw = "white";
            $(".color_typos").hide();
            pro_k = "0";
            var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
            var decimal = parseInt(b, 2);
            //zwgrafia(decimal,epikathimeno_rolo,eksoteriko_rolo,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);

            sxedio_p_k = false;
            
            ok_click();

            times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

          }//end ζωγραφικη
          }//end else apo 0 ti dialeksa,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos


  
      });

   $(".color_typos").on("click", ".color_typos_katw", function() {
      color_profil_katw = $(this).attr('id');
      $(".xr_profil_katw").text(color_profil_katw);
      $(".xr_typos").text(color_profil_katw);

      //Σβηνω αυτα που ειχα πατησει
      $(".color_typos_katw").css('border-style', '');
      //$(".tipos_name").css('display', '');
      //Κανω να φενετε με border αυτο που πατησα!!
      $(this).css('border-style', 'solid');
      $(this).css('border-width', '5px');
      $(this).css('border-color', '#007389');
      $(this).prev().children().css('display', 'block');

      times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

      color_ty = $(this).next().attr('id');
      color_k = color_ty;
      pro_k = "1";
      var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
      var decimal = parseInt(b, 2);
      //zwgrafia(decimal,epikathimeno_rolo,eksoteriko_rolo,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);

      sxedio_p_k = true;
      sxedio_color_p_k = color_k;
      
      ok_click();

    });

    ///// LASTIXO ///////
    lastixo = 0; //Den exw patisei lastixo
    epilogi = true;
    lastixo_epilogh = 0;
    
    $(".extra").on("click", ".lastixo", function() {
		$('.modal_times .lastixo_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
  
    if (epilogi){  
      //alert("!11!!!1!!"); && ( lastixo_epilogh == "mauro_lastixo")
      lastixo = 1;
      lastixo_epilogh = $(this).attr('id');
      //$( this ).css("background-color","#CA3333");
      $( this ).css("background-color","#D9EAED");
      $( this ).css("color","black");
      epilogi = false;
      times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

    }
    else if (!epilogi && ( $(this).attr('id') == lastixo_epilogh ) ){
      lastixo = 0;
      //Αλλαγη χρωματος
      $( ".lastixo" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
      $( ".lastixo" ).css("color","");
      epilogi = true;
      lastixo_epilogh = 0;
     
      times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);


    }
    else if (!epilogi && ( $(this).attr('id') != lastixo_epilogh ) ){
      $( ".lastixo" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
      $( ".lastixo" ).css("color","");

      lastixo = 1;
      lastixo_epilogh = $(this).attr('id');
      //$( this ).css("background-color","#CA3333");
      $( this ).css("background-color","#D9EAED");
      $( this ).css("color","black");
      epilogi = false;
      times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);



    }



  }); 
  
  //// Window still
  $(".extra").on("click", ".window_still", function() {
	$('.modal_times .window_still_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
	  
    epilogi_ws = true;

    if (typeof(window_still_single) !== "undefined"){
      if (window_still_single == $(this).attr('id')){

          window_still_single = 0;
          $( ".window_still" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
          $( ".window_still" ).css("color","");
          epilogi_ws = false;
		  
          /*$(".pl_win_st").remove();
          $(".metafraw").remove();
          $(".br_input").remove();
          $(".kanoniko_platos_window_still").remove();*/
          
          times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4, window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);
        }
      }

      if (epilogi_ws) {
          /*$(".pl_win_st").remove();
          $(".metafraw").remove();
          $(".kanoniko_platos_window_still").remove();
		  
	      var input0_0 = "<div class=metafraw ><p class=metafraw><%= t 'translate.Width' %>:</p> <p class=kanoniko_platos_window_still></p><br></div>"
	      var input = "<div class=metafraw ><p class=metafraw><%= t 'translate.Change_width' %>:</p> <p><input type=text name=pl_win_st class=pl_win_st placeholder=<%= t 'translate.Width' %>></p><p class=br_input></p><br></div>"
	      $(input0_0).appendTo(".window_still_wrapper");
	      $(input).appendTo(".window_still_wrapper");*/
		  
              //Αλλαγη χρωματος
              $( ".window_still" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
              $( ".window_still" ).css("color","");
              //
              //$( this ).css("background-color","#CA3333");
              $( this ).css("background-color","#d9eaed");
              $( this ).css("color","black");

              window_still_single = $(this).attr('id'); //Global variable για να την περασω στην αλλη σελιδα

       times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

       /*$(".warning_times").empty();
        $(".warning_times").append($(".table_odoigos").text()+" -- <%= t('append_price.Price') %> : "+$(".timi_odoigos").text());
        $(".warning_times").show();
        clearTimeout(timeout);
                  timeout = setTimeout(function()
                    {
                    $(".warning_times").fadeOut('slow');
                  }, 6000);*/
}
});

  //// Place //
  $(".extra").on("click", ".place", function() {
  $('.modal_times .place_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
    
    epilogi_place = true;

    if (typeof(place) !== "undefined"){
      if (place == $(this).attr('id')){

          place = 0;
          $( ".place" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
          $( ".place" ).css("color","");
          epilogi_place = false;
          
          times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4, window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);
        }
      }

      if (epilogi_place) {
      
              //Αλλαγη χρωματος
              $( ".place" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
              $( ".place" ).css("color","");
              //
              //$( this ).css("background-color","#CA3333");
              $( this ).css("background-color","#d9eaed");
              $( this ).css("color","black");

              place = $(this).attr('id'); //Global variable για να την περασω στην αλλη σελιδα

       times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

       /*$(".warning_times").empty();
        $(".warning_times").append($(".table_odoigos").text()+" -- <%= t('append_price.Price') %> : "+$(".timi_odoigos").text());
        $(".warning_times").show();
        clearTimeout(timeout);
                  timeout = setTimeout(function()
                    {
                    $(".warning_times").fadeOut('slow');
                  }, 6000);*/
}
});

  //// Roll rat ////
  $(".extra").on("click", ".rolls_rat", function() {
  	$('.modal_times .roll_rat_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
	  
    epilogi_rat = true;
    if (typeof(roll_rat) !== "undefined"){
      if (roll_rat == $(this).attr('id')){
          roll_rat = 0;
          $( ".rolls_rat" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
          $( ".rolls_rat" ).css("color","");
          epilogi_rat = false;
          
          times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4, window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);
        }
      }
      if (epilogi_rat) {
		  $( ".rolls_rat" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
              $( ".rolls_rat" ).css("color","");

              $( this ).css("background-color","#d9eaed");
              $( this ).css("color","black");

              roll_rat = $(this).attr('id'); //Global variable για να την περασω στην αλλη σελιδα

       times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);
}
});

  //// Roll rlt ////
  $(".extra").on("click", ".rolls_rlt", function() {
    	$('.modal_times .roll_rlt_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
	  
    epilogi_rlt = true;
    if (typeof(roll_rlt) !== "undefined"){
      if (roll_rlt == $(this).attr('id')){
          roll_rlt = 0;
          $( ".rolls_rlt" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
          $( ".rolls_rlt" ).css("color","");
          epilogi_rlt = false;
          
          times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4, window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);
        }
      }
      if (epilogi_rlt) {
		  $( ".rolls_rlt" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
          $( ".rolls_rlt" ).css("color","");

              $( this ).css("background-color","#d9eaed");
              $( this ).css("color","black");

              roll_rlt = $(this).attr('id'); //Global variable για να την περασω στην αλλη σελιδα

       times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);
}
});

  //// Roll rdm ////
  $(".extra").on("click", ".rolls_rdm", function() {
  	$('.modal_times .roll_rdm_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
	  
    epilogi_rdm = true;
    if (typeof(roll_rdm) !== "undefined"){
      if (roll_rdm == $(this).attr('id')){
          roll_rdm = 0;
          $( ".rolls_rdm" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
          $( ".rolls_rdm" ).css("color","");
          epilogi_rdm = false;
          
          times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4, window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);
        }
      }
      if (epilogi_rdm) {
		  $( ".rolls_rdm" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
          $( ".rolls_rdm" ).css("color","");

              $( this ).css("background-color","#d9eaed");
              $( this ).css("color","black");

              roll_rdm = $(this).attr('id'); //Global variable για να την περασω στην αλλη σελιδα

       times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);
}
});

  //// Roll pss ////
  $(".extra").on("click", ".rolls_pss", function() {
	$('.modal_times .roll_pss_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
    epilogi_pss = true;
    if (typeof(roll_pss) !== "undefined"){
      if (roll_pss == $(this).attr('id')){
          roll_pss = 0;
          $( ".rolls_pss" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
          $( ".rolls_pss" ).css("color","");
          epilogi_pss = false;
          
          times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4, window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);
        }
      }
      if (epilogi_pss) {
		  $( ".rolls_pss" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
          $( ".rolls_pss" ).css("color","");

              $( this ).css("background-color","#d9eaed");
              $( this ).css("color","black");

              roll_pss = $(this).attr('id'); //Global variable για να την περασω στην αλλη σελιδα

       times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);
}
});

  //// Roll pfm ////
  $(".extra").on("click", ".rolls_pfm", function() {
    	$('.modal_times .roll_pfm_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
	  
    epilogi_pfm = true;
    if (typeof(roll_pfm) !== "undefined"){
      if (roll_pfm == $(this).attr('id')){
          roll_pfm = 0;
          $( ".rolls_pfm" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
          $( ".rolls_pfm" ).css("color","");
          epilogi_pfm = false;
          
          times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4, window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);
        }
      }
      if (epilogi_pfm) {
		  $( ".rolls_pfm" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
          $( ".rolls_pfm" ).css("color","");

              $( this ).css("background-color","#d9eaed");
              $( this ).css("color","black");

              roll_pfm = $(this).attr('id'); //Global variable για να την περασω στην αλλη σελιδα

       times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);
}
});

  ///// PROSTASIA ///////
    prostasia = 0; //Den exw patisei lastixo
    epilogi_pr = true;
    
	
    
    $(".extra").on("click", ".prostasia", function() {
		$('.modal_times .prostasia_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
  
    if (epilogi_pr){  
     
      prostasia = 1;
      //lastixo_epilogh = $(this).attr('id');
      //$( this ).css("background-color","#CA3333");
      $( this ).css("background-color","#d9eaed");
      $( this ).css("color","black");
      epilogi_pr = false;
      times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

      $(".warning_times").empty();
      $(".warning_times").append($(".table_prostasia").text()+" -- <%= t('append_price.Price') %> : "+$(".timi_prostasia").text());
      $(".warning_times").show();
      clearTimeout(timeout);
                    timeout = setTimeout(function()
                      {
                      $(".warning_times").fadeOut('slow');
                    }, 6000);

    }
    else{
      $( ".prostasia" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
      $( ".prostasia" ).css("color","");

      prostasia = 0;
      //lastixo_epilogh = $(this).attr('id');
      //$( this ).css("background-color","#CA3333");
      //$( this ).css("background-color","#666666");
      //$( this ).css("color","white");
      epilogi_pr = true;
      times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);



    }



  });

    ///////////////// ΟΔΟΙΓΟΙ NA BAΛΩ TIMI/////////////////////

    $(".extra").on("click", ".odoigoi", function() {
		$('.modal_times .odoigos_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
      epilogi_ksana_odoigou = true;

      if (typeof(odoigos) !== "undefined"){
        if (odoigos == $(this).attr('id')){
            //alert("!11!!!1!!");
            $(".diorth_odoi").empty();
            
            //up_odoigou = 0;
            odoigos = 0;
            color_odoigos = 0;
            $( ".odoigoi" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
            $( ".odoigoi" ).css("color","");
            $( ".color_odoigou" ).empty();
            epilogi_ksana_odoigou = false;
            
            times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

          }
        }

        if (epilogi_ksana_odoigou) {

          //up_odoigou = 0;
          $(".diorth_odoi").empty();

          var input1 = "<p><%= t 'translate.Height' %>: </p> <p class=kanonika_metra_odoigou ></p><br>"
          var input = "<p><%= t 'translate.Change_height' %>: </p> <p><input type=text name=up_odoigou class=up_odoigou maxlength=4 placeholder=<%= t 'translate.Height' %>></p>"
          $(input1).appendTo(".diorth_odoi");
          $(input).appendTo(".diorth_odoi");


            //$(".up_odoigou").val(up_odoigou );
            //$(".up_odoigou").trigger('blur');
          
          

          //$(".up_odoigou").focus();
          
                if (color_odoigou !== 0){
                  color_odoigou = color_odoigou;
                }else{
                  color_odoigou = "white"//To color που εχω επιλεξει για παραθυρο
                }
                
                //Αδιαζω ολα τα κάτω
                //$( ".epikathimena_rola" ).empty(); //Αδιαζω το div για να μπει το νεο κλικ
                //$( ".eksoterika_rola" ).empty();
                //$( ".color_epikathimenou" ).empty();
                //$( ".color_eksoterikou" ).empty();
                $( ".color_odoigou" ).empty();
                //$( ".button" ).empty();
                //Αλλαγη χρωματος
                $( ".odoigoi" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
                $( ".odoigoi" ).css("color","");
                //
                //$( this ).css("background-color","#CA3333");
                $( this ).css("background-color","#d9eaed");
                $( this ).css("color","black");

                odoigos = $(this).attr('id'); //Global variable για να την περασω στην αλλη σελιδα
                $.ajax({
                  
                  type:'GET',
                  url:'/etic/color_odoigou',
                  dataType: "json",
                  //data: { material_id: $(this).attr('id') },
                  success: function(data) {
                    var h2 = "<label><%= t 'translate.Color' %>: </label>"
                    $(h2).appendTo(".color_odoigou");
                    var xrwma = "<label class='xr_od'>"+color_odoigou+"</label><br>"
                    $(xrwma).appendTo(".color_odoigou");
                    var div = "<div class='div_col_od'></div>"
                    $(div).appendTo(".color_odoigou");
                    $.each(data, function(i, item) { //Για κάθε data που παίρνω κανω τα παρακάτο 
                        //alert(item.name);
                        //return $(".kataskevastes").html(item.name);
                        //$( "<p>item.name</p>" ).appendTo( ".kataskevastes" );
                        var div_data = "<div class='xrwma xrwma2'><h5 class='tipos_name'> "+item.name+" </h5><img src='/assets/"+item.image+"' class='color_odoig color' id="+item.name+"><span id="+item.code+"></span></div>";
                        $(div_data).appendTo(".div_col_od");
                      })
                    $("#"+color_odoigou+".color_odoig").click();
                    if ( YES_ODOIGOI ){
                      $(".up_odoigou").val(up_odoigou);
                       $(".up_odoigou").trigger('blur');
                       if (typeof "<%= @odoigos_id %>" !== "undefined") {
                        $(".color_odoig").each(function( index ) {
                        if( $( this ).attr("id") == "<%= @color_odoigou %>" ){
                          $( this ).trigger('click');
                        }
                      });
                      }
                      YES_ODOIGOI = false;
                    }

                    if ( META_YES_ODOIGOI ){
                      $(".up_odoigou").val(up_odoigou_meta);
                       $(".up_odoigou").trigger('blur');
                       if (typeof odoigos_id !== "undefined") {
                        $(".color_odoig").each(function( index ) {
                        if( $( this ).attr("id") == color_odoigou_meta ){
                          $( this ).trigger('click');
                        }
                      });
                      }
                      META_YES_ODOIGOI = false;
                    }

                  },
                  error: function(data) { 
                  }
                });//end ejax

         times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

         $(".warning_times").empty();
          $(".warning_times").append($(".table_odoigos").text()+" -- <%= t('append_price.Price') %> : "+$(".timi_odoigos").text());
          $(".warning_times").show();
          clearTimeout(timeout);
                    timeout = setTimeout(function()
                      {
                      $(".warning_times").fadeOut('slow');
                    }, 6000);

  }
  });

    // Απλα επιλεγω χρωμα και το αποθυκεύω σε global
    $(".color_odoigou").on("click", ".color_odoig", function() {
      color_odoigou = $(this).attr('id');
      $(".xr_od").text(color_odoigou);

      //Σβηνω αυτα που ειχα πατησει
      $(".color_odoig").css('border-style', '');
      //$(".tipos_name").css('display', '');
      //Κανω να φενετε με border αυτο που πατησα!!
      $(this).css('border-style', 'solid');
      $(this).css('border-width', '5px');
      $(this).css('border-color', '#007389');
      $(this).prev().children().css('display', 'block');

      times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);
    
    });

    /////////////////   ΤΖΑΜΙΑ ////////////////////////////////////
    $(".extra").on("click", ".cat_tzamia0", function() { 

      epilogi_ksana_0 = true; //Οταν δεν εχω επιλεξει επικαθιμενα μπαινω στο ΚΑΤΩ if

      //Οταν παταω ξανα την ιδια κατηγορια τζαμιου 
      //1. tzamia = 0;
      if (typeof(cat_tzamia0) !== "undefined"){
        if (cat_tzamia0 == $(this).attr('id')){
            //alert("!11!!!1!!");
            cat_tzamia0 = 0;
            tzamia0 = 0;
            $( ".cat_tzamia0" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
            $( ".cat_tzamia0" ).css("color","");
            $( ".tzamia0" ).empty();
            epilogi_ksana_0 = false;
            times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

          }
        }
        //Παλι το height_epik = 0 γιατι τωρα θα επιλεξω νεο επικαθημενο 
      if ( epilogi_ksana_0 )  {  /////Αν δεν ειναι ξανα επιλεγμενο
        cat_tzamia0 = 0;
        tzamia0 = 0;
        times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

              //Αλλαγη χρωματος
              $( ".cat_tzamia0" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
              $( ".cat_tzamia0" ).css("color","");
              $( ".cat_tzamia0" ).css("border-color","");
              $( ".tzamia0" ).empty();

              $(".rola_marg").css("margin-top","200px");
              //
              //$( this ).css("background-color","#CA3333");
              $( this ).css("background-color","#d9eaed");
              $( this ).css("color","black");
              $( this ).css("border-color","#007389");

              cat_tzamia0 = $(this).attr('id'); //Global variable για να την περασω στην αλλη σελιδα
              cat_tzamia0_text = $(this).text();
              $.ajax({
                
                type:'GET',
                url:'/etic/tzamia',
                dataType: "json",
                data: { id: $(this).attr('id'), cat: "0" },
                success: function(data) {
                  var header2 = "<h5 style=''><%= t 'translate.Inside_Outside_glass' %>: "+cat_tzamia0_text+"</h5>" 
                  $(header2).appendTo(".tzamia0");
                        $.each(data, function(i, item) { //Για κάθε data που παίρνω κανω τα παρακάτο 
                            //alert(item.name);
                            //return $(".kataskevastes").html(item.name);
                            //$( "<p>item.name</p>" ).appendTo( ".kataskevastes" );
                            var div_data = "<label class=tzamia_polla0 id="+item.id+">"+item.name+"</label>";
                            $(div_data).appendTo(".tzamia0");
                          })
						  if ( YES_TZAMIA0 ){
                          $(".tzamia_polla0").each(function( index ) {
                            if( $( this ).attr("id") == "<%= @tzami0_id %>" ){
                              $( this ).trigger('click');
                            }
                          }); 
                          YES_TZAMIA0 = false; //do_tzamia_cat();
                        }

                        if ( META_YES_TZAMIA0 ){
                          $(".tzamia_polla0").each(function( index ) {
                              if( $( this ).attr("id") == tzami0_id ){
                                $( this ).trigger('click');
                              }
                            }); 
                          META_YES_TZAMIA0 = false;
                        }

                      },
                      error: function(data) { 
                      }
                    });//end ejax
          } //end if epilogi ksana
        });

    ///////////////// ΤΖΑΜΙΑ ΠΟΛΛΑ ////////////////////////
    $(".tzamia0").on("click", ".tzamia_polla0", function() {

      //Αλλαγη χρωματος
      $( ".tzamia_polla0" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
      $( ".tzamia_polla0" ).css("color","");
      $( ".tzamia_polla0" ).css("border-color","");
      //
      //$( this ).css("background-color","#CA3333");
      $( this ).css("background-color","#d9eaed");
      $( this ).css("color","black");
      $( this ).css("border-color","#007389");
      //

      tzamia0 = $(this).attr('id'); //Global variable για να την περασω στην αλλη σελιδα
      times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);


    });


    $(".rola_marg").css("margin-top","300px");
    /////////////////   ΤΖΑΜΙΑ ////////////////////////////////////
    $(".extra").on("click", ".cat_tzamia", function() { 

      $(".rola_marg").css("margin-top","300px");

      epilogi_ksana_3 = true; //Οταν δεν εχω επιλεξει επικαθιμενα μπαινω στο ΚΑΤΩ if

      //Οταν παταω ξανα την ιδια κατηγορια τζαμιου 
      //1. tzamia = 0;
      if (typeof(cat_tzamia) !== "undefined"){
        if (cat_tzamia == $(this).attr('id')){
            //alert("!11!!!1!!");
            cat_tzamia = 0;
            tzamia = 0;
            $( ".cat_tzamia" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
            $( ".cat_tzamia" ).css("color","");
            $( ".tzamia" ).empty();
            epilogi_ksana_3 = false;
            times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

          }
        }
        //Παλι το height_epik = 0 γιατι τωρα θα επιλεξω νεο επικαθημενο 
      if ( epilogi_ksana_3 )  {  /////Αν δεν ειναι ξανα επιλεγμενο
        cat_tzamia = 0;
        tzamia = 0;
        times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

              //Αλλαγη χρωματος
              $( ".cat_tzamia" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
              $( ".cat_tzamia" ).css("color","");
              $( ".cat_tzamia" ).css("border-color","");
              $( ".tzamia" ).empty();

              $(".rola_marg").css("margin-top","200px");
              //
              //$( this ).css("background-color","#CA3333");
              $( this ).css("background-color","#d9eaed");
              $( this ).css("color","black");
              $( this ).css("border-color","#007389");

              cat_tzamia = $(this).attr('id'); //Global variable για να την περασω στην αλλη σελιδα
              cat_tzamia_text = $(this).text();
              $.ajax({
                
                type:'GET',
                url:'/etic/tzamia',
                dataType: "json",
                data: { id: $(this).attr('id'), cat: "2" },
                success: function(data) {
                  var header2 = "<h5 style=''><%= t 'translate.Outside_glass' %>: "+cat_tzamia_text+"</h5>" 
                  $(header2).appendTo(".tzamia");
                        $.each(data, function(i, item) { //Για κάθε data που παίρνω κανω τα παρακάτο 
                            //alert(item.name);
                            //return $(".kataskevastes").html(item.name);
                            //$( "<p>item.name</p>" ).appendTo( ".kataskevastes" );
                            var div_data = "<label class=tzamia_polla id="+item.id+">"+item.name+"</label>";
                            $(div_data).appendTo(".tzamia");
                          })
						  if ( YES_TZAMIA ){
                          $(".tzamia_polla").each(function( index ) {
                            if( $( this ).attr("id") == "<%= @tzami_id %>" ){
                              $( this ).trigger('click');
                            }
                          }); 
                          YES_TZAMIA = false; //do_tzamia_cat();
                        }

                        if ( META_YES_TZAMIA ){
                          $(".tzamia_polla").each(function( index ) {
                              if( $( this ).attr("id") == tzami_id ){
                                $( this ).trigger('click');
                              }
                            }); 
                          META_YES_TZAMIA = false;
                        }

                      },
                      error: function(data) { 
                      }
                    });//end ejax
          } //end if epilogi ksana
        });


    ///////////////// ΤΖΑΜΙΑ ΠΟΛΛΑ ////////////////////////
    $(".tzamia").on("click", ".tzamia_polla", function() {

      //Αλλαγη χρωματος
      $( ".tzamia_polla" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
      $( ".tzamia_polla" ).css("color","");
      $( ".tzamia_polla" ).css("border-color","");
      //
      //$( this ).css("background-color","#CA3333");
      $( this ).css("background-color","#d9eaed");
      $( this ).css("color","black");
      $( this ).css("border-color","#007389");
      //

      tzamia = $(this).attr('id'); //Global variable για να την περασω στην αλλη σελιδα
      times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);


    });


    $(".tzamia_marg").css("margin-top","300px");
/////////////////   ΤΖΑΜΙΑ ////////////////////////////////////
    $(".extra").on("click", ".cat_tzamia2", function() { 

      $(".tzamia_marg").css("margin-top","300px");

      epilogi_ksana_8 = true; //Οταν δεν εχω επιλεξει επικαθιμενα μπαινω στο ΚΑΤΩ if

      //Οταν παταω ξανα την ιδια κατηγορια τζαμιου 
      //1. tzamia = 0;
      if (typeof(cat_tzamia2) !== "undefined"){
        if (cat_tzamia2 == $(this).attr('id')){
            //alert("!11!!!1!!");
            cat_tzamia2 = 0;
            tzamia2 = 0;
            $( ".cat_tzamia2" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
            $( ".cat_tzamia2" ).css("color","");
            $( ".tzamia2" ).empty();
            epilogi_ksana_8 = false;
            times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

          }
        }
        //Παλι το height_epik = 0 γιατι τωρα θα επιλεξω νεο επικαθημενο 
      if ( epilogi_ksana_8 )  {  /////Αν δεν ειναι ξανα επιλεγμενο
        cat_tzamia2 = 0;
        tzamia2 = 0;
        times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

              //Αλλαγη χρωματος
              $( ".cat_tzamia2" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
              $( ".cat_tzamia2" ).css("color","");
              $( ".cat_tzamia2" ).css("border-color","");
              $( ".tzamia2" ).empty();

              $(".tzamia_marg").css("margin-top","200px");
              //
              //$( this ).css("background-color","#CA3333");
              $( this ).css("background-color","#d9eaed");
              $( this ).css("color","black");
              $( this ).css("border-color","#007389");

              cat_tzamia2 = $(this).attr('id'); //Global variable για να την περασω στην αλλη σελιδα
              cat_tzamia2_text = $(this).text();
              $.ajax({
                
                type:'GET',
                url:'/etic/tzamia',
                dataType: "json",
                data: { id: $(this).attr('id'), cat: "1" },
                success: function(data) {
                  var header2 = "<h5 style=''><%= t 'translate.Inside_glass' %>: "+cat_tzamia2_text+"</h5>" 
                  $(header2).appendTo(".tzamia2");
                        $.each(data, function(i, item) { //Για κάθε data που παίρνω κανω τα παρακάτο 
                            //alert(item.name);
                            //return $(".kataskevastes").html(item.name);
                            //$( "<p>item.name</p>" ).appendTo( ".kataskevastes" );
                            var div_data = "<label class=tzamia_polla2 id="+item.id+">"+item.name+"</label>";
                            $(div_data).appendTo(".tzamia2");
                          })
						  if ( YES_TZAMIA2 ){
                          $(".tzamia_polla2").each(function( index ) {
                            if( $( this ).attr("id") == "<%= @tzami2_id %>" ){
                              $( this ).trigger('click');
                            }
                          });
                          YES_TZAMIA2 = false; //do_tzamia_cat();
                        }

                        if ( META_YES_TZAMIA2 ){
                          $(".tzamia_polla2").each(function( index ) {
                              if( $( this ).attr("id") == tzami2_id ){
                                $( this ).trigger('click');
                              }
                            });
                          META_YES_TZAMIA2 = false; //do_tzamia_cat();
                        }

                      },
                      error: function(data) { 
                      }
                    });//end ejax
          } //end if epilogi ksana
        });


    ///////////////// ΤΖΑΜΙΑ ΠΟΛΛΑ ////////////////////////
    $(".tzamia2").on("click", ".tzamia_polla2", function() {

      //Αλλαγη χρωματος
      $( ".tzamia_polla2" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
      $( ".tzamia_polla2" ).css("color","");
      $( ".tzamia_polla2" ).css("border-color","");
      
      //$( this ).css("background-color","#CA3333");
      $( this ).css("background-color","#d9eaed");
      $( this ).css("color","black");
      $( this ).css("border-color","#007389");

      tzamia2 = $(this).attr('id'); //Global variable για να την περασω στην αλλη σελιδα
      times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);


    });
	
	//Panels click
    $(".supplier_panels").on("click", ".sup_panels", function() {

      //Αλλαγη χρωματος
      $( ".sup_panels" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
      $( ".sup_panels" ).css("color","");
      $( ".sup_panels" ).css("border-color","");
      $( ".cat_panels" ).empty();
	  
      $( this ).css("background-color","#d9eaed");
      $( this ).css("color","black");
      $( this ).css("border-color","#007389");
     
      sup_panel = $(this).attr('id'); //Global variable για να την περασω στην αλλη σελιδα
	  
      $.ajax({

        type:'GET',
        url:'/etic/cat_panels',
        dataType: "json",
        data: { id: sup_panel},
        success: function(data) {
                $.each(data, function(i, item) { //Για κάθε data που παίρνω κανω τα παρακάτο  
                    var div_data = "<a style='text-decoration: none; color:black;'><label class='cat_panel' id="+item.id+">"+item.name+"</label></a>";
                    $(div_data).appendTo(".cat_panels");
				});
				$(".cat_panels a:first-child .cat_panel").trigger("click");
              },
              error: function(data) { 
              }
        });//end ejax
		
    });
	
    $(".cat_panels").on("click", ".cat_panel", function() {

      //Αλλαγη χρωματος
      $( ".cat_panel" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
      $( ".cat_panel" ).css("color","");
      $( ".cat_panel" ).css("border-color","");
      $( ".panels" ).empty();
	  
      $( this ).css("background-color","#d9eaed");
      $( this ).css("color","black");
      $( this ).css("border-color","#007389");
     
      cat_panel = $(this).attr('id'); //Global variable για να την περασω στην αλλη σελιδα
	  
      $.ajax({

        type:'GET',
        url:'/etic/panels',
        dataType: "json",
        data: { id: cat_panel},
        success: function(data) {
          //var header2 = "<h5 style=''><%= t 'translate.Inside_Outside_glass' %>: "+cat_tzamia0_text+"</h5>" 
         // $(header2).appendTo(".tzamia0");
                $.each(data, function(i, item) { //Για κάθε data που παίρνω κανω τα παρακάτο									
                    var div_data = "<div class='panel img-responsive' id='"+item.id+"'><img class='img-responsive' id="+item.id+" src='/assets/doors/"+item.image+"'></label></div>";
                    $(div_data).appendTo(".panels");
				});
				$(".panels .panel:first-child").trigger("click");
              },
              error: function(data) { 
              }
        });//end ejax
    });
	
    $(".panels_wrapper").on("click", ".panel", function() {

      //Αλλαγη χρωματος
      $( ".panel" ).css("border","");//Ετσι αφαιρω την ιδιοτητα!!!
      $( ".panel" ).css("border-width","");
      $( ".panel" ).css("border-color","");
	  $( ".panel img" ).attr("panel_selected","no");
	  
      $( this ).css("border","solid");
      $( this ).css("border-color","#007389");
      $( this ).css("border-width","4px");
	  $(this).find("img").attr("panel_selected","yes");
     
      panel = $(this).attr('id'); //Global variable για να την περασω στην αλλη σελιδα
	  panel_img = $(this).attr('src');
      //times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);
    });

    $("#roll_top_m").click(function(){
      
    });   

    $("#roll_front_m").click(function(){
      
    }); 


    /////////////////   ΕΠΙΚΑΘΗΜΕΝΑ ///////////////////////////////

    // ΚΛΙΚ σε επικαθημενο κρηβω τα παντα απο ρολλα (2). Αλλαζω χρωματα σε label και εμφανιζω τις υποκατηγοριες για τα επικαθημενα

    $(".extra").on("click", ".epikathimena", function() { 

      $('.popover').popover('hide');
      epilogi_ksana = true; //Οταν δεν εχω επιλεξει επικαθιμενα μπαινω στο ΚΑΤΩ if

      //Οταν παταω ξανα την ιδια κατηγορια επικαθημενου 
      //1. height_epik = 0;
      //2. Η νεα διασταση του κουφωματος ειναι η αρχικη που εδωσα - τα προφιλ αν υπαρχουν
      if (typeof(epikathimeno_cat) !== "undefined"){
        if (epikathimeno_cat == $(this).attr('id') || patima_eksoterikou){
            patima_eksoterikou = false;

            //alert("!11!!!1!!");
            epikathimeno_cat = 0;
            epikathimeno_rolo = 0;
            color_epikathimenou = 0;
            $( ".epikathimena" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
            $( ".epikathimena" ).css("color","");
            $( ".eksoterika" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
            $( ".eksoterika" ).css("color","");
            $( ".epikathimena_rola" ).empty(); //Αδιαζω το div για να μπει το νεο κλικ
            $( ".eksoterika_rola" ).empty();
            $( ".color_epikathimenou" ).empty();
            $( ".color_eksoterikou" ).empty();
            $(".ekso_none").css("display","block");

            $(".pl_rol_ep").remove();
            $(".up_rol_ep").remove();
            $(".metafra").remove();
            $(".br_input").remove();
            $(".kanoniko_platos_epikathimenou").remove();
            $(".kanoniko_upsos_epikathimenou").remove();
            $( "input[name='kin_ep']" ).remove();
            $( "input[name='kin_ep']" ).remove();
            $(".kin_ep_ar").remove();
            $(".kin_ep_de").remove();

            height_epik = 0;
            height_new = Number(height) - height_p - height_k;
            $(".diastaseis_extra").text(width_new +" X "+height_new);
            $(".diastaseis_table_extra_tm").empty();
              $(".diastaseis_table_extra_tm").append( ( (parseFloat(width_new)*parseFloat(height_new))/1000000 ).toFixed(2)+" <p>m"+"2".sup()+"</p>" );
            epilogi_ksana = false;
            geniko_rolo = "0"; //Κανω 0 το στοιχειο που
            var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
            var decimal = parseInt(b, 2);
            //zwgrafia(decimal,0,0,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);

            sxedio_epik = false;
            
            ok_click();
            //Για να διαγραφει απο πινακακι
            times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

          }
        }
        //Παλι το height_epik = 0 γιατι τωρα θα επιλεξω νεο επικαθημενο 
      if ( epilogi_ksana )  {  /////Αν δεν ειναι ξανα επιλεγμενο
        //$(".ekso_none").css("display","none");
        if (typeof(eksoteriko_cat) !== "undefined"){
          //$("#roll_front_m").click();
         
          //$.when(ajaxEksoterika()).done(function(a1){
              // the code here will be executed when all four ajax requests resolve.
              // a1, a2, a3 and a4 are lists of length 3 containing the response text,
              // status, and jqXHR object for each of the four ajax calls respectively.
              patima_epikathimenou = true;
              $('.extra').find("#"+eksoteriko_cat+".eksoterika").trigger('click');
              //$("#"+eksoteriko_cat+".eksoterika").trigger( "click" );
              //$("#roll_top_m").click();
          //});
        }
        //sunexeia
        eksoteriko_rolo = 0;
        color_eksoterikou = 0;
        epikathimeno_rolo = 0;
        color_epikathimenou = 0;
        height_epik = 0;
        height_new = Number(height) - height_p - height_k;
        $(".diastaseis_extra").text(width_new +"X"+height_new);
        $(".diastaseis_table_extra_tm").empty();
              $(".diastaseis_table_extra_tm").append( ( (parseFloat(width_new)*parseFloat(height_new))/1000000 ).toFixed(2)+" <p>m"+"2".sup()+"</p>" );
              //Αδιαζω ολα τα κάτω
              $( ".epikathimena_rola" ).empty(); //Αδιαζω το div για να μπει το νεο κλικ
              $( ".eksoterika_rola" ).empty();
              $( ".color_epikathimenou" ).empty();
              $( ".color_eksoterikou" ).empty();

              $(".pl_rol_ep").remove();
              $(".up_rol_ep").remove();
              $(".metafra").remove();
              $(".br_input").remove();
              $(".kanoniko_platos_epikathimenou").remove();
              $(".kanoniko_upsos_epikathimenou").remove();
              $( "input[name='kin_ep']" ).remove();
              $( "input[name='kin_ep']" ).remove();
              $(".kin_ep_ar").remove();
              $(".kin_ep_de").remove();
              //$( ".button" ).empty();
              //Αλλαγη χρωματος
              $( ".epikathimena" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
              $( ".epikathimena" ).css("color","");
              $( ".eksoterika" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
              $( ".eksoterika" ).css("color","");
              //
              //$( this ).css("background-color","#CA3333");
              $( this ).css("background-color","#d9eaed");
              $( this ).css("color","black");

              epikathimeno_cat = $(this).attr('id'); //Global variable για να την περασω στην αλλη σελιδα
              epikathimeno_cat_text = $(this).text();

              $.ajax({
                
                type:'GET',
                url:'/etic/epikathimena',
                dataType: "json",
                data: { epikathimeno_cat: $(this).attr('id') },
                success: function(data) {
                  var header2 = "<h5><%= t 'translate.Top_mounted' %>: "+epikathimeno_cat_text+"</h5>" 
                  $(header2).appendTo(".epikathimena_rola");
                  var glwssa = data.glwssa
                        $.each(data.epikathimena, function(i, item) { //Για κάθε data που παίρνω κανω τα παρακάτο 
                            //alert(item.name);
                            //return $(".kataskevastes").html(item.name);
                            //$( "<p>item.name</p>" ).appendTo( ".kataskevastes" );
                            var div_data = "<label class=epikathimena_rola_polla id="+item.id+">"+item[glwssa]+"</label><span class=span_none id="+item.height+"><span><br>";
                            $(div_data).appendTo(".epikathimena_rola");
                          })
                        
                        if ( YES_ROLLA_EP == true ){
                          $(".epikathimena_rola_polla").each(function( index ) {
                            if( $( this ).attr("id") == "<%= @rolo_id %>" ){
                              $( this ).trigger('click');
                            }
                          });
                          YES_ROLLA_EP_YPO = true;
                          YES_ROLLA_EP = false;
                        }

                        if ( META_YES_ROLLA_EP == true ){
                          $(".epikathimena_rola_polla").each(function( index ) {
                            if( $( this ).attr("id") == rolo_id ){
                              $( this ).trigger('click');
                            }
                          });
                          META_YES_ROLLA_EP_YPO = true;
                          META_YES_ROLLA_EP = false;
                        }

                      },
                      error: function(data) { 
                      }
                    });//end ejax
          } //end if epilogi ksana
        });
	
	
	/////////// window still cats ///////////////////////////
	    $(".extra").on("click", ".window_still_cat", function() { 

	      $('.popover').popover('hide');
	      epilogi_ksana = true; //Οταν δεν εχω επιλεξει επικαθιμενα μπαινω στο ΚΑΤΩ if

	      //Οταν παταω ξανα την ιδια κατηγορια επικαθημενου 
	      if (typeof(window_still_cat) !== "undefined"){
	        if (window_still_cat == $(this).attr('id')){
	            patima_window_still = false;
				
	            window_still_cat = 0;
	            window_still_sub_cat = 0;
				window_still_single = 0;
	            $( ".window_still_cat" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
	            $( ".window_still_cat" ).css("color","");
	            $( ".window_still_wrapper" ).empty(); //Αδιαζω το div για να μπει το νεο κλικ
				$( ".window_still_wrapper_big" ).empty();
	            $(".ekso_none").css("display","block");
            	epilogi_ksana = false;
	            ok_click();
				
	            //Για να διαγραφει απο πινακακι
	            times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);
	          }
	        }
	       
	      if ( epilogi_ksana )  {  /////Αν δεν ειναι ξανα επιλεγμενο
	       
	        if (typeof(window_still_cat) !== "undefined"){
	              patima_window_still = true;
	              $('.extra').find("#"+window_still_cat+".window_still_cat").trigger('click');
	        }
	        //sunexeia
	        window_still_sub_cat = 0;
	         
	              //Αδιαζω ολα τα κάτω
	              $( ".window_still_wrapper" ).empty(); //Αδιαζω το div για να μπει το νεο κλικ	              

	              //Αλλαγη χρωματος
	              $( ".window_still_cat" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
	              $( ".window_still_cat" ).css("color","");
	              //
	              //$( this ).css("background-color","#CA3333");
	              $( this ).css("background-color","#d9eaed");
	              $( this ).css("color","black");

	              window_still_cat = $(this).attr('id'); //Global variable για να την περασω στην αλλη σελιδα
	              window_still_cat_text = $(this).text();

	              $.ajax({
                
	                type:'GET',
	                url:'/etic/window_still_sub_cats',
	                dataType: "json",
	                data: { window_still_cat_id: $(this).attr('id') },
	                success: function(data) {
	                  var header2 = "<h5><%= t 'translate.WindowStill' %>: "+window_still_cat_text+"</h5>" 
	                  $(header2).appendTo(".window_still_wrapper");
	                        $.each(data, function(i, item) { //Για κάθε data που παίρνω κανω τα παρακάτο 
	                            
	                            var div_data = "<label class=window_still_sub_cat id="+item.id+">"+item.name+"</label>";
	                            $(div_data).appendTo(".window_still_wrapper");
	                          })
                        
	                        /*if ( YES_ROLLA_EP == true ){
	                          $(".epikathimena_rola_polla").each(function( index ) {
	                            if( $( this ).attr("id") == "<%= @rolo_id %>" ){
	                              $( this ).trigger('click');
	                            }
	                          });
	                          YES_ROLLA_EP_YPO = true;
	                          YES_ROLLA_EP = false;
	                        }

	                        if ( META_YES_ROLLA_EP == true ){
	                          $(".epikathimena_rola_polla").each(function( index ) {
	                            if( $( this ).attr("id") == rolo_id ){
	                              $( this ).trigger('click');
	                            }
	                          });
	                          META_YES_ROLLA_EP_YPO = true;
	                          META_YES_ROLLA_EP = false;
	                        }*/

	                      },
	                      error: function(data) { 
	                      }
	                    });//end ejax
	          } //end if epilogi ksana
	        });
	
		/////////// window still sub cats ///////////////////////////
		    $(".extra").on("click", ".window_still_sub_cat", function() { 

		      $('.popover').popover('hide');
		      epilogi_ksana = true; //Οταν δεν εχω επιλεξει επικαθιμενα μπαινω στο ΚΑΤΩ if

		      //Οταν παταω ξανα την ιδια κατηγορια επικαθημενου 
		      if (typeof(window_still_subcat) !== "undefined"){
		        if (window_still_subcat == $(this).attr('id')){
		            patima_window_stillsub = false;
				
		            window_still_subcat = 0;
		            window_still = 0;
					window_still_single = 0;
		            $( ".window_still_sub_cat" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
		            $( ".window_still_sub_cat" ).css("color","");
		            $( ".window_still_wrapper_big" ).empty(); //Αδιαζω το div για να μπει το νεο κλικ
		            $(".window_still_wrapper").css("display","block");
	            	epilogi_ksana = false;
		            ok_click();
		            //Για να διαγραφει απο πινακακι
		            times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

		          }
		        }
	       
		      if ( epilogi_ksana )  {  /////Αν δεν ειναι ξανα επιλεγμενο
	       
		        if (typeof(window_still_subcat) !== "undefined"){
		              patima_window_stillsub = true;
		              $('.extra').find("#"+window_still_subcat+".window_still_sub_cat").trigger('click');
		        }
		        //sunexeia
		        window_still = 0;
	         
		              //Αδιαζω ολα τα κάτω
		              $( ".window_still_wrapper_big" ).empty(); //Αδιαζω το div για να μπει το νεο κλικ	              

		              //Αλλαγη χρωματος
		              $( ".window_still_sub_cat" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
		              $( ".window_still_sub_cat" ).css("color","");
		              //
		              //$( this ).css("background-color","#CA3333");
		              $( this ).css("background-color","#d9eaed");
		              $( this ).css("color","black");

		              window_still_subcat = $(this).attr('id'); //Global variable για να την περασω στην αλλη σελιδα
		              window_still_subcat_text = $(this).text();

		              $.ajax({
                
		                type:'GET',
		                url:'/etic/window_stills',
		                dataType: "json",
		                data: { window_still_subcat_id: $(this).attr('id') },
		                success: function(data) {
		                  var header2 = "<h5><%= t 'translate.WindowStill' %>: "+window_still_subcat_text+"</h5>" 
		                  $(header2).appendTo(".window_still_wrapper_big");
		                        $.each(data, function(i, item) { //Για κάθε data που παίρνω κανω τα παρακάτο 
	                            
		                            var div_data = "<label class=window_still id="+item.id+">"+item.name+"</label>";
		                            $(div_data).appendTo(".window_still_wrapper_big");
		                          })
                        
		                        /*if ( YES_ROLLA_EP == true ){
		                          $(".epikathimena_rola_polla").each(function( index ) {
		                            if( $( this ).attr("id") == "<%= @rolo_id %>" ){
		                              $( this ).trigger('click');
		                            }
		                          });
		                          YES_ROLLA_EP_YPO = true;
		                          YES_ROLLA_EP = false;
		                        }

		                        if ( META_YES_ROLLA_EP == true ){
		                          $(".epikathimena_rola_polla").each(function( index ) {
		                            if( $( this ).attr("id") == rolo_id ){
		                              $( this ).trigger('click');
		                            }
		                          });
		                          META_YES_ROLLA_EP_YPO = true;
		                          META_YES_ROLLA_EP = false;
		                        }*/

		                      },
		                      error: function(data) { 
		                      }
		                    });//end ejax
		          } //end if epilogi ksana
		        });
				
    /////////////////   ΕΞΩΤΕΡΙΚΑ ///////////////////////////////
    
    // ΚΛΙΚ σε εξωτερικο κρηβω τα παντα απο ρολλα (2). Αλλαζω χρωματα σε label και εμφανιζω τις υποκατηγοριες για τα εξωτερικα

    $(".extra").on("click", ".eksoterika", function() {

      $('.popover').popover('hide');
      epilogi_ksana2 = true;

      if (typeof(eksoteriko_cat) !== "undefined"){
        if (eksoteriko_cat == $(this).attr('id') || patima_epikathimenou){
            patima_epikathimenou = false;
            //alert("!11!!!1!!");
            eksoteriko_cat = 0;
            eksoteriko_rolo = 0;
            color_eksoterikou = 0;
            $( ".epikathimena" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
            $( ".epikathimena" ).css("color","");
            $( ".eksoterika" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
            $( ".eksoterika" ).css("color","");
            $( ".epikathimena_rola" ).empty(); //Αδιαζω το div για να μπει το νεο κλικ
            $( ".eksoterika_rola" ).empty();
            $( ".color_epikathimenou" ).empty();
            $( ".color_eksoterikou" ).empty();
            $( ".epik_none" ).css("display","block");

            $(".pl_rol_ek").remove();
            $(".up_rol_ek").remove();
            $(".metafra").remove();
            $(".kanoniko_platos_eksoterikou").remove();
            $(".kanoniko_upsos_eksoterikou").remove();
            $( "input[name='kin_ek']" ).remove();
            $( "input[name='kin_ek']" ).remove();
            $(".kin_ek_ar").remove();
            $(".kin_ek_de").remove();
            epilogi_ksana2 = false;
            geniko_rolo = "0"; //Κανω 0 το στοιχειο που
            var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
            var decimal = parseInt(b, 2);
            //zwgrafia(decimal,0,0,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);

            sxedio_ekso = false;
            
            ok_click();
            //pinakaki
            times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

          }
        }

        if (epilogi_ksana2) {
          //$(".epik_none").css("display","none");
          if (typeof(epikathimeno_cat) !== "undefined"){
            //$("#roll_front_m").click();
            //$.when(ajaxEksoterika()).done(function(a1){
                // the code here will be executed when all four ajax requests resolve.
                // a1, a2, a3 and a4 are lists of length 3 containing the response text,
                // status, and jqXHR object for each of the four ajax calls respectively.
                patima_eksoterikou = true;
                $('.extra').find("#"+epikathimeno_cat+".epikathimena").trigger('click');
                //$("#"+eksoteriko_cat+".eksoterika").trigger( "click" );
                //$("#roll_top_m").click();
            //});
          }
        
        //sunexeia
         eksoteriko_rolo = 0;
         color_eksoterikou = 0;
         epikathimeno_rolo = 0;
         color_epikathimenou = 0;
              //Αδιαζω ολα τα κάτω
              $( ".epikathimena_rola" ).empty(); //Αδιαζω το div για να μπει το νεο κλικ
              $( ".eksoterika_rola" ).empty();
              $( ".color_epikathimenou" ).empty();
              $( ".color_eksoterikou" ).empty();

              $(".pl_rol_ek").remove();
              $(".up_rol_ek").remove();
              $(".metafra").remove();
              $(".kanoniko_platos_eksoterikou").remove();
              $(".kanoniko_upsos_eksoterikou").remove();
              $( "input[name='kin_ek']" ).remove();
              $( "input[name='kin_ek']" ).remove();
              $(".kin_ek_ar").remove();
              $(".kin_ek_de").remove();
              //$( ".button" ).empty();
              //Αλλαγη χρωματος
              $( ".epikathimena" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
              $( ".epikathimena" ).css("color","");
              $( ".eksoterika" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
              $( ".eksoterika" ).css("color","");
              //
              //$( this ).css("background-color","#CA3333");
              $( this ).css("background-color","#d9eaed");
              $( this ).css("color","black");

              eksoteriko_cat = $(this).attr('id'); //Global variable για να την περασω στην αλλη σελιδα
              eksoteriko_cat_text = $(this).text();

              $.ajax({
                
                  type:'GET',
                  url:'/etic/eksoterika',
                  dataType: "json",
                  data: { eksoteriko_cat: eksoteriko_cat },
                  success: function(data) {
                    var header2 = "<h5><%= t 'translate.Front_mounted' %>: "+eksoteriko_cat_text+"</h5>" 
                    $(header2).appendTo(".eksoterika_rola");
                          $.each(data, function(i, item) { //Για κάθε data που παίρνω κανω τα παρακάτο 
                              //alert(item.name);
                              //return $(".kataskevastes").html(item.name);
                              //$( "<p>item.name</p>" ).appendTo( ".kataskevastes" );
                              var div_data = "<label class=eksoterika_rola_polla id="+item.id+">"+item.name+"</label>";
                              $(div_data).appendTo(".eksoterika_rola");
                            })
							if ( YES_ROLLA_EK == true ){
                            $(".eksoterika_rola_polla").each(function( index ) {
                              if( $( this ).attr("id") == "<%= @rolo_id %>" ){
                                $( this ).trigger('click');
                              }
                            });
                            YES_ROLLA_EK_YPO = true;
                            YES_ROLLA_EK = false;
                          }

                          if ( META_YES_ROLLA_EK == true ){
                             $(".eksoterika_rola_polla").each(function( index ) {
                                if( $( this ).attr("id") == rolo_id ){
                                  $( this ).trigger('click');
                                }
                              });
                            META_YES_ROLLA_EK_YPO = true;
                            META_YES_ROLLA_EK = false;
                          }
                        },
                        error: function(data) { 
                        }
                      });//end ejax
              
            }
          });

    //////////////////  ΥΠΟΚΑΤΗΓΟΡΙΕΣ /////////////////////

    // Κλικ σε επικαθυμενο.
    // Αρχικοποιω χρωμα επικαθημενου, κρηβω χρωματα για να μην ξαναεμφανιζονται, αλλαζω χρωμα σε label επιλεγμενο, και εμφανιζω χρωματα για το συγκεκριμενο κουφωμα + button για συνεχεια.

    $(".epikathimena_rola").on("click", ".epikathimena_rola_polla", function() {
		$('.modal_times .epik_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
      epilogi_ksana_rola_polla = true;
      height_new = Number(height) - height_p - height_k;

      if (typeof(epikathimeno_rolo) !== "undefined"){
        if (epikathimeno_rolo == $(this).attr('id')){
            //alert("!11!!!1!!");

            epikathimeno_rolo = 0;
            $( ".epikathimena_rola_polla" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
            $( ".epikathimena_rola_polla" ).css("color","");
            $( ".color_epikathimenou" ).empty();
            epilogi_ksana_rola_polla = false;
            height_epik = 0;

            $(".pl_rol_ep").remove();
            $(".up_rol_ep").remove();
            $(".metafra").remove();
            $(".br_input").remove();
            $(".kanoniko_platos_epikathimenou").remove();
            $(".kanoniko_upsos_epikathimenou").remove();
            $( "input[name='kin_ep']" ).remove();
            $( "input[name='kin_ep']" ).remove();
            $(".kin_ep_ar").remove();
            $(".kin_ep_de").remove();
            //pl_rol_ep = 0;
            //up_rol_ep = 0;

            //height_new = Number(height) - height_p - height_k;
            $(".diastaseis_extra").text(width_new +"X"+height_new);
            $(".diastaseis_table_extra_tm").empty();
              $(".diastaseis_table_extra_tm").append( ( (parseFloat(width_new)*parseFloat(height_new))/1000000 ).toFixed(2)+" <p>m"+"2".sup()+"</p>" );
            geniko_rolo = "0"; //Κανω 0 το στοιχειο που
            var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
            var decimal = parseInt(b, 2);
            //zwgrafia(decimal,0,0,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);

            sxedio_epik = false;
            
            ok_click();

            //Για να διαγραφει απο πινακακι
            times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

          }
        }

        if (epilogi_ksana_rola_polla) {

            $(".pl_rol_ep").remove();
            $(".up_rol_ep").remove();
            $(".metafra").remove();
            $(".kanoniko_platos_epikathimenou").remove();
            $(".kanoniko_upsos_epikathimenou ").remove();
            $( "input[name='kin_ep']" ).remove();
            $( "input[name='kin_ep']" ).remove();
            $(".kin_ep_ar").remove();
            $(".kin_ep_de").remove();
            //pl_rol_ep = 0;
            //up_rol_ep = 0;

            if (color_epikathimenou !== 0){
              color_epikathimenou = color_epikathimenou;
              sxedio_color_epik = "white";
            }else{
              color_epikathimenou = "white";//To color που εχω επιλεξει για παραθυρο
              sxedio_color_epik = "white";
            }
            
            height_epik = Number($(this).next().attr('id'));

      var input0_0 = "<div class=metafra ><p class=metafra><%= t 'translate.Width' %>:</p> <p class=kanoniko_platos_epikathimenou></p><br></div>"
      var input0_1 = "<div class=metafra ><p class=metafra><%= t 'translate.Height' %>:</p> <p class=kanoniko_upsos_epikathimenou><br></p><p class=br_input></p><br></div>"
      var input = "<div class=metafra ><p class=metafra><%= t 'translate.Change_width' %>:</p> <p><input type=text name=pl_rol_ep class=pl_rol_ep placeholder=<%= t 'translate.Width' %>></p><p class=br_input></p><br></div>"
      $(input0_0).appendTo(".epik_none");
      $(input).appendTo(".epik_none");
      var input2 = "<p class=metafra><%= t 'translate.Change_height' %>:</p> <p><input type=text name=up_rol_ep class=up_rol_ep placeholder=<%= t 'translate.Height' %>></p>"
      $(input0_1).appendTo(".epik_none");
      $(input2).appendTo(".epik_none");

      var inputwarning = "<div class='alert_kipri metafra alert_mesa alert-warning alert-dismissible' role=alert><strong><%= t 'translate.Please select Movement/Connector' %></div>"
      $(inputwarning).appendTo(".epikathimena_rola");

      var input3 = "<label class='radio kin_ep_ar'><input class=radio type=radio name=kin_ep value=l><%= t 'translate.Rolls_Left' %></label>" //checked
      var input4 = "<label class='radio kin_ep_de'><input class=radio type=radio name=kin_ep value=r><%= t 'translate.Rolls_Right' %></label>"
      $(input3).appendTo(".epikathimena_rola");
      $(input4).appendTo(".epikathimena_rola");

      var input5 = "<hr class=metafra>"
      $(input5).appendTo(".epikathimena_rola");

      var input6 = "<label class='radio klapA metafra'><input class=radio type=radio name=klap_ep value=a checked><%= t 'translate.Revisionsklappe_A' %></label>"
      var input7 = "<label class='radio klapB metafra'><input class=radio type=radio name=klap_ep value=b><%= t 'translate.Revisionsklappe_B' %></label>"

      $(input6).appendTo(".epikathimena_rola");
      $(input7).appendTo(".epikathimena_rola");
     
      //$(".pl_rol_ep").val(pl_rol_ep);//"<%= @pl_rolou_ep %>"
      //$(".up_rol_ep").val(up_rol_ep);//"<%= @up_rolou_ep %>"
      //$(".pl_rol_ep").trigger('blur');
      //$(".up_rol_ep").trigger('blur');


      //$(".pl_rol_ep").focus();
     
      //$( ".button" ).empty();
      $( ".color_epikathimenou" ).empty();
      $( ".color_eksoterikou" ).empty();

      //Αλλαγη χρωματος
      $( ".epikathimena_rola_polla" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
      $( ".epikathimena_rola_polla" ).css("color","");
      //
      //$( this ).css("background-color","#CA3333");
      $( this ).css("background-color","#d9eaed");
      $( this ).css("color","black");

      epikathimeno_rolo = $(this).attr('id'); //Global variable για να την περασω στην αλλη σελιδα
      $.ajax({
        
        type:'GET',
        url:'/etic/upologismos',
        dataType: "json",
        data: { epikathimeno_rolo: $(this).attr('id'), anoigma: tipos_name_gia_xrwma, height_new: height_new },
        success: function(data) {
          var header2 = "<h5><%= t 'translate.Color' %></h5>" 
          $(header2).appendTo(".color_epikathimenou");

          $(".alert_kipri").show();
          $('.alert_kipri').delay(3000).fadeOut('slow');
            
          if ( data ) {

            height_new = height_new - height_epik;
            $(".diastaseis_extra").text(width_new +"X"+height_new);
            $(".diastaseis_table_extra_tm").empty();
              $(".diastaseis_table_extra_tm").append( ( (parseFloat(width_new)*parseFloat(height_new))/1000000 ).toFixed(2)+" <p>m"+"2".sup()+"</p>" );
            //alert("height_epik"+height_epik);
                      //alert("SWSTO ROLO");
                      //var button = "<button type='button' class='btn btn-default order'>Υποβολή παραγγελίας</button>";
                      //$(button).appendTo(".button");
                      //AJAX για να παρω τα χρωματα
                      $.ajax({
                        
                        type:'GET',
                        url:'/etic/color_epikathimenou',
                        dataType: "json",
                        //data: { material_id: $(this).attr('id') },
                        success: function(data) {
                          var h2 = "<h5 class='inline_h5'><%= t 'translate.Color' %>:</h5>"
                          $(h2).appendTo(".color_epikathimenou");
                          var xrwma = "<h5 class='xr_ep inline_h5'>"+color_epikathimenou+"</h5><br>"
                          $(xrwma).appendTo(".color_epikathimenou");
                          var div = "<div class='div_col_ep'></div>"
                          $(div).appendTo(".color_epikathimenou");
                          $.each(data, function(i, item) { //Για κάθε data που παίρνω κανω τα παρακάτο 
                              //return $(".kataskevastes").html(item.name);
                              //$( "<p>item.name</p>" ).appendTo( ".kataskevastes" );
                              var div_data = "<div class='xrwma xrwma2'><h5 class='tipos_name'> "+item.name+" </h5><img src='/assets/"+item.image+"' class=color_epik id="+item.name+"><span id="+item.code+"></span></div>";
                              $(div_data).appendTo(".div_col_ep");
                            })
                          $("#"+color_epikathimenou+".color_epik").click();
                          if ( YES_ROLLA_EP_YPO == true ){
                            $(".pl_rol_ep").val(pl_rol_ep);//"<%= @pl_rolou_ep %>"
                              $(".up_rol_ep").val(up_rol_ep);//"<%= @up_rolou_ep %>"
                              $(".pl_rol_ep").trigger('blur');
                              $(".up_rol_ep").trigger('blur');
                                  //$(".pl_rol_ep").val(width);
                                  //$(".up_rol_ep").val(height);
                                  //pl_rol_ep = width;
                                  //up_rol_ep = height;
                                  //pl_rol_ep = width;
                                  //up_rol_ep = height;
                              if( "<%= @kinisi_deksia_aristera %>" == "l" ){
                                $(".kin_ep_ar").trigger('click');
                                kinisi = "l"
                                $("input[name=kin_ep][value=" + kinisi + "]").attr('checked', 'checked');
                              }
                              if( "<%= @kinisi_deksia_aristera %>" == "r" ){
                                $(".kin_ep_de").trigger('click');
                                kinisi = "r"
                                $("input[name=kin_ep][value=" + kinisi + "]").attr('checked', 'checked');
                              }
                              if( "<%= @klap_ep %>" == "a" ){
                                $(".klapA").trigger('click');
                                klap_ep = "a";
                                $("input[name=klap_ep][value=" + klap_ep + "]").prop('checked', true);
                              }
                              if( "<%= @klap_ep %>" == "b" ){
                                $(".klapB").trigger('click');
                                klap_ep = "b";  
                                $("input[name=klap_ep][value=" + klap_ep + "]").prop('checked', true);
                              }
                              $(".color_epik").each(function( index ) {
                              if( $( this ).attr("id") == "<%= @color_rolo %>" ){
                                $( this ).trigger('click');
                              }
                            });
                            YES_ROLLA_EP_YPO = false;
                          }

                          if ( META_YES_ROLLA_EP_YPO == true ){
                             $(".pl_rol_ep").val(pl_rol_ep);
                              $(".up_rol_ep").val(up_rol_ep);
                              $(".pl_rol_ep").trigger('blur');
                              $(".up_rol_ep").trigger('blur');
                                  //$(".pl_rol_ep").val(width);
                                  //$(".up_rol_ep").val(height);
                                  //pl_rol_ep = width;
                                  //up_rol_ep = height;
                                  //pl_rol_ep = width;
                                  //up_rol_ep = height;
                              //if( kinisi_deksia_aristera == "l" ){
                              //  $(".kin_ep_ar").trigger('click');
                              //}else{
                              //  $(".kin_ep_de").trigger('click');
                              //}
                              if( kinisi == "l" ){
                                $(".kin_ep_ar").trigger('click');
                                kinisi = "l"
                                $("input[name=kin_ep][value=" + kinisi + "]").attr('checked', 'checked');
                              }
                              if( kinisi == "r" ){
                                $(".kin_ep_de").trigger('click');
                                kinisi = "r"
                                $("input[name=kin_ep][value=" + kinisi + "]").attr('checked', 'checked');
                              }
                              if( klap_ep == "a" ){
                                $(".klapA").trigger('click');
                                klap_ep = "a";
                                $("input[name=klap_ep][value=" + klap_ep + "]").prop('checked', true);
                              }
                              if( klap_ep == "b" ){
                                $(".klapB").trigger('click');
                                klap_ep = "b";  
                                $("input[name=klap_ep][value=" + klap_ep + "]").prop('checked', true);
                              }
                              $(".color_epik").each(function( index ) {
                              if( $( this ).attr("id") == color_rolo ){
                                $( this ).trigger('click');
                              }
                            });
                            
                            META_YES_ROLLA_EP_YPO = false;
                          }
                        },
                        error: function(data) { 
                          $(".alert_mikro_parathiro_roll").show();
                          $('.alert_mikro_parathiro_roll').delay(3000).fadeOut('slow');
                        }
                      });//end ejax
          ok_click();
          //Για πινακι και νεες τιμες
          times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

          $(".warning_times").empty();
          $(".warning_times").append($(".table_epikathimeno").text()+" -- <%= t('append_price.Price') %> : "+$(".timi_epikathimenou").text());
          $(".warning_times").show();
          clearTimeout(timeout);
                    timeout = setTimeout(function()
                      {
                      $(".warning_times").fadeOut('slow');
                    }, 6000);


          //Και ασπρο ζωγραφικη
          geniko_rolo = "1";
          var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
          var decimal = parseInt(b, 2);
          //zwgrafia(decimal,1,0,"white",color_pers,color_p,color_k,color_d,color_a,leaf);
          sxedio_epik = true;

          ok_click();
          

  }
  else{
    $(".alert_mikro_parathiro_roll").show();
    $('.alert_mikro_parathiro_roll').delay(3000).fadeOut('slow');
   //alert("Επιλέξτε πιο μικρό ρολό ή αλλάξτε τις διαστάσεις του κουφώματος. Δεν υπάρχει τιμή για τοσο μικρό κούφωμα.");
   $( ".color_epikathimenou" ).empty();
   $( ".color_eksoterikou" ).empty();
                       //Αλλαγη χρωματος
                       $( ".epikathimena_rola_polla" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
                       $( ".epikathimena_rola_polla" ).css("color","");
                       epikathimeno_rolo = 0;
                       color_epikathimenou = 0;
                     }

              },
              error: function(data) { 
                $(".alert_mikro_parathiro_roll").show();
                $('.alert_mikro_parathiro_roll').delay(3000).fadeOut('slow');
              }
              });//end ejax
        }

      

  });

    ///////////// EPILOGI XRWMATOS EPIKATHIMENOU ROLOU //////////////
    // Απλα επιλεγω χρωμα και το αποθυκεύω σε global
    $(".color_epikathimenou").on("click", ".color_epik", function() {
      color_epikathimenou = $(this).attr('id');
      $(".xr_ep").text(color_epikathimenou);

      //Σβηνω αυτα που ειχα πατησει
      $(".color_epik").css('border-style', '');
      //$(".tipos_name").css('display', '');
      //Κανω να φενετε με border αυτο που πατησα!!
      $(this).css('border-style', 'solid');
      $(this).css('border-width', '5px');
      $(this).css('border-color', '#007389');
      $(this).prev().children().css('display', 'block');

      times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

      color = $(this).next().attr('id');
      color_rolou = color;
      geniko_rolo = "1";
      var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
      var decimal = parseInt(b, 2);
      //zwgrafia(decimal,1,0,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);
      sxedio_epik = true;
      sxedio_color_epik = color;
      
      ok_click();

    });


    $(".eksoterika_rola").on("click", ".eksoterika_rola_polla", function() {
		$('.modal_times .ekso_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
      epilogi_ksana_rola_polla2 = true;
      //height_new = Number(height) - height_p - height_k;

      if (typeof(eksoteriko_rolo) !== "undefined"){
        if (eksoteriko_rolo == $(this).attr('id')){
            //alert("!11!!!1!!");
            eksoteriko_rolo = 0;
            $( ".eksoterika_rola_polla" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
            $( ".eksoterika_rola_polla" ).css("color","");
            $( ".color_eksoterikou" ).empty();
            epilogi_ksana_rola_polla2 = false;
            //height_epik = 0;

            $(".pl_rol_ek").remove();
            $(".up_rol_ek").remove();
            $(".metafra").remove();
            $(".kanoniko_platos_eksoterikou").remove();
            $(".kanoniko_upsos_eksoterikou").remove();
            $( "input[name='kin_ek']" ).remove();
            $( "input[name='kin_ek']" ).remove();
            $(".kin_ek_ar").remove();
            $(".kin_ek_de").remove();
            //pl_rol_ek = 0;
            //up_rol_ek = 0;

            //height_new = Number(height) - height_p - height_k;
            //$(".diastaseis_extra").text(width_new +"X"+height_new);
            geniko_rolo = "0"; //Κανω 0 το στοιχειο που
            var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
            var decimal = parseInt(b, 2);
            //zwgrafia(decimal,0,0,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);
            sxedio_ekso = false;
            
            ok_click();
            //Για να διαγραφει απο πινακακι
            times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

          }
        }

        if (epilogi_ksana_rola_polla2) {

          $(".pl_rol_ek").remove();
          $(".up_rol_ek").remove();
          $(".metafra").remove();
          $(".kanoniko_platos_eksoterikou").remove();
          $(".kanoniko_upsos_eksoterikou").remove();
          $( "input[name='kin_ek']" ).remove();
          $( "input[name='kin_ek']" ).remove();
          $(".kin_ek_ar").remove();
          $(".kin_ek_de").remove();
          //pl_rol_ek = 0;
          //up_rol_ek = 0;

          if (color_eksoterikou !== 0){
              color_eksoterikou = color_eksoterikou;
              sxedio_color_ekso = "white";
            }else{
              color_eksoterikou = "white";//To color που εχω επιλεξει για παραθυρο
              sxedio_color_ekso = "white";
            }
          //height_epik = Number($(this).next().attr('id'));

          var input0_0 = "<div class=metafra> <p class=metafra><%= t 'translate.Width' %>:</p> <p class=kanoniko_platos_eksoterikou></p><br></div>"
          var input0_1 = "<div class=metafra> <p class=metafra><%= t 'translate.Height' %>:</p> <p class=kanoniko_upsos_eksoterikou><br></p><br></div>"
          var input = "<div class=metafra><p class=metafra><%= t 'translate.Change_width' %>:</p> <p><input type=text name=pl_rol_ek class=pl_rol_ek placeholder=<%= t 'translate.Width' %>></p><br></div>"
          $(input0_0).appendTo(".ekso_none");
          $(input).appendTo(".ekso_none");
          var input2 = "<p class=metafra><%= t 'translate.Change_height' %>:</p> <p><input type=text name=up_rol_ek class=up_rol_ek placeholder=<%= t 'translate.Height' %>></p>"
          $(input0_1).appendTo(".ekso_none");
          $(input2).appendTo(".ekso_none");

          var inputwarning = "<div class='alert_kipri metafra alert_mesa alert-warning alert-dismissible' role=alert><strong><%= t 'translate.Please select Movement/Connector' %></div>"
          $(inputwarning).appendTo(".eksoterika_rola");

          var input3 = "<label class='radio kin_ek_ar'><input class=radio type=radio name=kin_ek value=l><%= t 'translate.Rolls_Left' %></label>" //checked
          var input4 = "<label class='radio kin_ek_de'><input class=radio type=radio name=kin_ek value=r><%= t 'translate.Rolls_Right' %></label>"
          $(input3).appendTo(".eksoterika_rola");
          $(input4).appendTo(".eksoterika_rola");

          var input5 = "<hr class=metafra>"
          $(input5).appendTo(".eksoterika_rola");

          var input6 = "<label class='radio derollA metafra'><input class=radio type=radio name=deroll value=a checked><%= t 'translate.Typ_des_Rollladens_A' %></label>"
          var input7 = "<label class='radio derollB metafra'><input class=radio type=radio name=deroll value=b><%= t 'translate.Typ_des_Rollladens_B' %></label>"
          var input8 = "<label class='radio derollC metafra'><input class=radio type=radio name=deroll value=c><%= t 'translate.Typ_des_Rollladens_C' %></label>"

          $(input6).appendTo(".eksoterika_rola");
          $(input7).appendTo(".eksoterika_rola");
          $(input8).appendTo(".eksoterika_rola");

          //$(".pl_rol_ek").val(pl_rol_ek);//"<%= @pl_rolou_ep %>"
          //$(".up_rol_ek").val(up_rol_ek);//"<%= @up_rolou_ep %>"
          //$(".pl_rol_ek").trigger('blur');
         //(".up_rol_ek").trigger('blur');

          //$(".pl_rol_ek").focus();


      //$( ".button" ).empty();
      $( ".color_epikathimenou" ).empty();
      $( ".color_eksoterikou" ).empty();

      //Αλλαγη χρωματος
      $( ".eksoterika_rola_polla" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
      $( ".eksoterika_rola_polla" ).css("color","");
      //
      //$( this ).css("background-color","#CA3333");
      $( this ).css("background-color","#d9eaed");
      $( this ).css("color","black");

      eksoteriko_rolo = $(this).attr('id'); //Global variable για να την περασω στην αλλη σελιδα
      
          var header2 = "<h5><%= t 'translate.Color' %></h5>" 
          $(header2).appendTo(".color_eksoterikou");
          
        $.ajax({
          
        type:'GET',
        url:'/etic/color_eksoterikou',
        dataType: "json",
        //data: { material_id: $(this).attr('id') },
        success: function(data) {
          var h2 = "<h5 class='inline_h5'><%= t 'translate.Color' %>: </h5>"
          $(h2).appendTo(".color_eksoterikou");
          var xrwma = "<h5 class='xr_ek inline_h5'>"+color_eksoterikou+"</h5><br>"
          $(xrwma).appendTo(".color_eksoterikou");
          var div = "<div class='div_col_ek'></div>"
          $(div).appendTo(".color_eksoterikou");

          $(".alert_kipri").show();
          $('.alert_kipri').delay(3000).fadeOut('slow');
          
          $.each(data, function(i, item) { //Για κάθε data που παίρνω κανω τα παρακάτο 
              //alert(item.name);
              //return $(".kataskevastes").html(item.name);
              //$( "<p>item.name</p>" ).appendTo( ".kataskevastes" );
              var div_data = "<div class='xrwma xrwma2'><h5 class='tipos_name'> "+item.name+" </h5><img src='/assets/"+item.image+"' class=color_ekso id="+item.name+"><span id="+item.code+"></span></div>";
              $(div_data).appendTo(".div_col_ek");
            })
          $("#"+color_eksoterikou+".color_ekso").click();
          if ( YES_ROLLA_EK_YPO == true ){
            $(".pl_rol_ek").val("<%= @pl_rolou_ek %>");
              $(".up_rol_ek").val("<%= @up_rolou_ek %>");
              $(".pl_rol_ek").trigger('blur');
              $(".up_rol_ek").trigger('blur');
                  //$(".pl_rol_ek").val(width);
                  //$(".up_rol_ek").val(height);
                  //pl_rol_ek = width;
                  //up_rol_ek = height;
                  //pl_rol_ek = width;
                  //up_rol_ek = height;
              if( "<%= @kinisi_deksia_aristera %>" == "l" ){
                $(".kin_ek_ar").trigger('click');
                kinisi = "l"
                $("input[name=kin_ek][value=" + kinisi + "]").attr('checked', 'checked');
              }
              if( "<%= @kinisi_deksia_aristera %>" == "r" ){
                $(".kin_ek_de").trigger('click');
                kinisi = "r"
                $("input[name=kin_ek][value=" + kinisi + "]").attr('checked', 'checked');
              }
              if( "<%= @deroll %>" == "a" ){
                $(".derollA").trigger('click');
                deroll = "a";
                $("input[name=deroll][value=" + deroll + "]").prop('checked', true);
              }if( "<%= @deroll %>" == "b" ){
                $(".derollB").trigger('click');
                deroll = "b";  
                $("input[name=deroll][value=" + deroll + "]").prop('checked', true);
              }
              if( "<%= @deroll %>" == "c" ){
                $(".derollC").trigger('click');
                deroll = "c";  
                $("input[name=deroll][value=" + deroll + "]").prop('checked', true);
              }
              $(".color_ekso").each(function( index ) {
              if( $( this ).attr("id") == "<%= @color_rolo %>" ){
                $( this ).trigger('click');
              }
            });
            YES_ROLLA_EK_YPO = false;
          }
          if ( META_YES_ROLLA_EK_YPO == true ){
             $(".pl_rol_ek").val(pl_rolou_ek);
              $(".up_rol_ek").val(up_rolou_ek);
              $(".pl_rol_ek").trigger('blur');
              $(".up_rol_ek").trigger('blur');
                  //$(".pl_rol_ek").val(width);
                  //$(".up_rol_ek").val(height);
                  //pl_rol_ek = width;
                  //up_rol_ek = height;
                  //pl_rol_ek = width;
                  //up_rol_ek = height;
              //if( kinisi_deksia_aristera == "l" ){
              //  $(".kin_ek_ar").trigger('click');
              //}else{
              //  $(".kin_ek_de").trigger('click');
             //}
             if( kinisi  == "l" ){
                $(".kin_ek_ar").trigger('click');
                kinisi = "l"
                $("input[name=kin_ek][value=" + kinisi + "]").attr('checked', 'checked');
              }
              if( kinisi  == "r" ){
                $(".kin_ek_de").trigger('click');
                kinisi = "r"
                $("input[name=kin_ek][value=" + kinisi + "]").attr('checked', 'checked');
              }
              if( deroll == "a" ){
                $(".derollA").trigger('click');
                deroll = "a";
                $("input[name=deroll][value=" + deroll + "]").prop('checked', true);
              }if( deroll == "b" ){
                $(".derollB").trigger('click');
                deroll = "b";  
                $("input[name=deroll][value=" + deroll + "]").prop('checked', true);
              }
              if( deroll == "c" ){
                $(".derollC").trigger('click');
                deroll = "c";  
                $("input[name=deroll][value=" + deroll + "]").prop('checked', true);
              }
              $(".color_ekso").each(function( index ) {
              if( $( this ).attr("id") == color_rolo ){
                $( this ).trigger('click');
              }
            });
            META_YES_ROLLA_EK_YPO = false;
          }
        },
        error: function(data) { 
        }
      });//end ejax

          //Για πινακι και νεες τιμες
          times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

          $(".warning_times").empty();
          $(".warning_times").append($(".table_eksoteriko").text()+" -- <%= t('append_price.Price') %> : "+$(".timi_eksoterikou").text());
          $(".warning_times").show();
          clearTimeout(timeout);
                    timeout = setTimeout(function()
                      {
                      $(".warning_times").fadeOut('slow');
                    }, 6000);


          //Και ασπρο ζωγραφικη
          geniko_rolo = "1";
          var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
          var decimal = parseInt(b, 2);
          //zwgrafia(decimal,0,1,"white",color_pers,color_p,color_k,color_d,color_a,leaf);

          sxedio_ekso = true;
          
          ok_click();

  }

        /*

      color_eksoterikou = '<%= @color.name %>';//To color που εχω επιλεξει για παραθυρο
      epikathimeno_rolo = 0;

      //$( ".button" ).empty();
      $( ".color_epikathimenou" ).empty();
      $( ".color_eksoterikou" ).empty();

      //Αλλαγη χρωματος
      $( ".eksoterika_rola_polla" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
      $( ".eksoterika_rola_polla" ).css("color","");
      //
      //$( this ).css("background-color","#CA3333");
      $( this ).css("background-color","#666666");
      $( this ).css("color","white");
      //

      eksoteriko_rolo = $(this).attr('id'); //Global variable για να την περασω στην αλλη σελιδα

      var input = "<p><input type=text name=pl_rol_ek class=pl_rol_ek placeholder=<%= t 'diastaseis.platos' %>></p>"
      $(input).appendTo(".eksoterika_rola");
      var input2 = "<p><input type=text name=up_rol_ek class=up_rol_ek placeholder=<%= t 'diastaseis.upsos' %>></p>"
      $(input2).appendTo(".eksoterika_rola");
      var input3 = "<label class=radio><input class=radio type=radio name=kin_ek value=1 checked><%= t 'color.aristera' %></label>"
      var input4 = "<label class=radio><input class=radio type=radio name=kin_ek value=1><%= t 'color.deksia' %></label>"
      $(input3).appendTo(".eksoterika_rola");
      $(input4).appendTo(".eksoterika_rola");
      
      //var button = "<button type='button' class='btn btn-default order_ekso'>Υποβολή παραγγελίας</button>";
      //$(button).appendTo(".button");

      var header2 = "<h4><%= t 'extra.color_ekso' %></h4>" 
      $(header2).appendTo(".color_eksoterikou");

      $.ajax({
        type:'GET',
        url:'/etic/color_eksoterikou',
        dataType: "json",
        //data: { material_id: $(this).attr('id') },
        success: function(data) {
          var h2 = "<p><%= t 'extra.color_ekso_katw' %>: </p>"
          $(h2).appendTo(".color_eksoterikou");
          var xrwma = "<p class='xr_ek'>"+color_eksoterikou+"</p><br>"
          $(xrwma).appendTo(".color_eksoterikou");
          var div = "<div class='div_col_ek'></div>"
          $(div).appendTo(".color_eksoterikou");
          $.each(data, function(i, item) { //Για κάθε data που παίρνω κανω τα παρακάτο 
              //alert(item.name);
              //return $(".kataskevastes").html(item.name);
              //$( "<p>item.name</p>" ).appendTo( ".kataskevastes" );
              var div_data = "<div class='xrwma xrwma2'><h5 class='tipos_name'> "+item.name+" </h5><img src='/assets/"+item.image+"' class=color_ekso id="+item.name+"><span id="+item.code+"></span></div>";
              $(div_data).appendTo(".div_col_ek");
            })
        },
        error: function(data) { 
        }
      });//end ejax


      times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);


      geniko_rolo = "1";
      var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
      var decimal = parseInt(b, 2);
      zwgrafia(decimal,0,1,"white",color_pers,color_p,color_k,color_d,color_a,leaf);

      */

    });

    // Απλα επιλεγω χρωμα και το αποθυκεύω σε global
    $(".color_eksoterikou").on("click", ".color_ekso", function() {
      color_eksoterikou = $(this).attr('id');
      $(".xr_ek").text(color_eksoterikou);

      //Σβηνω αυτα που ειχα πατησει
      $(".color_ekso").css('border-style', '');
      //$(".tipos_name").css('display', '');
      //Κανω να φενετε με border αυτο που πατησα!!
      $(this).css('border-style', 'solid');
      $(this).css('border-width', '5px');
      $(this).css('border-color', '#007389');
      $(this).prev().children().css('display', 'block');

      times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

      color = $(this).next().attr('id');
      color_rolou = color;
      geniko_rolo = "1";
      var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
      var decimal = parseInt(b, 2);
      //zwgrafia(decimal,0,1,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);
      sxedio_ekso = true;
      sxedio_color_ekso = color;
      
      ok_click();
    });


    ///////////////// ΠΕΡΣΙΔΕΣ NA BAΛΩ TIMI/////////////////////

    $(".extra").on("click", ".perisdes", function() {
		$('.modal_times .persida_show_hide').insertAfter('.modal_times .neess_diastaseis_first');
      epilogi_ksana_persides = true;

      if (typeof(persida) !== "undefined"){
        if (persida == $(this).attr('id')){
            //alert("!11!!!1!!");
            $(".diorth_per").empty();
            //pl_persidas = 0;
            //up_persidas = 0;
            persida = 0;
            color_persidas = 0;
            $( ".perisdes" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
            $( ".perisdes" ).css("color","");
            $( ".color_persidas" ).empty();
            epilogi_ksana_persides = false;
            geniko_persida = "0";
            var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
            var decimal = parseInt(b, 2);
            //zwgrafia(decimal,epikathimeno_rolo,eksoteriko_rolo,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);

            sxedio_persida = false;
            
            ok_click();

            times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

          }
        }

        if (epilogi_ksana_persides) {

          //pl_persidas = 0;
          //up_persidas = 0;
          $(".diorth_per").empty();

          var input0_0 = "<div class=metafra1> <p class=metafra1><%= t 'translate.Width' %>:</p> <p class=kanoniko_platos_persidas></p><br></div>"
          var input0_1 = "<div class=metafra1> <p class=metafra1><%= t 'translate.Height' %>:</p> <p class=kanoniko_upsos_persidas><br></p><br></div>"
          var input = "<div class=metafra1><p class=metafra1><%= t 'translate.Change_width' %>:</p> <p><input type=text name=pl_rol_ek class=pl_rol_ek placeholder=<%= t 'translate.Width' %>></p><br></div>"

          $(input0_0).appendTo(".diorth_per");
          var input = "<div class=metafra1><p class=metafra1><%= t 'translate.Change_width' %>:</p> <p><input type=text name=pl_persidas class=pl_persidas placeholder=<%= t 'translate.Width' %>></p>"
          $(input).appendTo(".diorth_per");
          $(input0_1).appendTo(".diorth_per");
          var input2 = "<div class=metafra1><p class=metafra1><%= t 'translate.Change_height' %>:</p> <p><input type=text name=up_persidas class=up_persidas placeholder=<%= t 'translate.Height' %>></p>"
          $(input2).appendTo(".diorth_per");

          //$(".up_persidas").val(pl_persidas);
          //$(".pl_persidas").val(up_persidas);
          //$(".pl_persidas").trigger('blur');
          //$(".up_persidas").trigger('blur');

          //$(".pl_persidas").focus();

                if (color_persidas !== 0){
                  color_persidas = color_persidas;
                }else{
                  color_persidas = "white";//To color που εχω επιλεξει για παραθυρο
                }
                
                //Αδιαζω ολα τα κάτω
                //$( ".epikathimena_rola" ).empty(); //Αδιαζω το div για να μπει το νεο κλικ
                //$( ".eksoterika_rola" ).empty();
                //$( ".color_epikathimenou" ).empty();
                //$( ".color_eksoterikou" ).empty();
                $( ".color_persidas" ).empty();
                //$( ".button" ).empty();
                //Αλλαγη χρωματος
                $( ".perisdes" ).css("background-color","");//Ετσι αφαιρω την ιδιοτητα!!!
                $( ".perisdes" ).css("color","");
                //
                //$( this ).css("background-color","#CA3333");
                $( this ).css("background-color","#d9eaed");
                $( this ).css("color","black");

                persida = $(this).attr('id'); //Global variable για να την περασω στην αλλη σελιδα
                $.ajax({
                  
                  type:'GET',
                  url:'/etic/color_persidas',
                  dataType: "json",
                  //data: { material_id: $(this).attr('id') },
                  success: function(data) {
                    var h2 = "<label><%= t 'translate.Color' %>: </label>"
                    $(h2).appendTo(".color_persidas");
                    var xrwma = "<label class='xr_pe'>"+color_persidas+"</label><br>"
                    $(xrwma).appendTo(".color_persidas");
                    var div = "<div class='div_col_pe'></div>"
                    $(div).appendTo(".color_persidas");
                    $.each(data, function(i, item) { //Για κάθε data που παίρνω κανω τα παρακάτο 
                        //alert(item.name);
                        //return $(".kataskevastes").html(item.name);
                        //$( "<p>item.name</p>" ).appendTo( ".kataskevastes" );
                        var div_data = "<div class='xrwma xrwma2'><h5 class='tipos_name'> "+item.name+" </h5><img src='/assets/"+item.image+"' class=color_pers id="+item.name+"><span id="+item.code+"></span></div>";
                        $(div_data).appendTo(".div_col_pe");
                      })
                    $("#"+color_persidas+".color_pers").click();
                    if ( YES_PERSIDES == true ){
                      $(".up_persidas").val(pl_persidas);
                      $(".pl_persidas").val(up_persidas);
                          $(".pl_persidas").trigger('blur');
                          $(".up_persidas").trigger('blur');
                        if (typeof "<%= @persida_id %>" !== "undefined") {
                        $(".color_pers").each(function( index ) {
                        if( $( this ).attr("id") == "<%= @color_persida %>" ){
                          $( this ).trigger('click');
                        }
                      });
                      }
                      YES_PERSIDES = false;
                    }

                    if ( META_YES_PERSIDES == true ){
                      $(".pl_persidas").val(pl_persidas_meta);
                          $(".up_persidas").val(up_persidas_meta);
                          $(".pl_persidas").trigger('blur');
                          $(".up_persidas").trigger('blur');
                        if (typeof persida_id !== "undefined") {
                        $(".color_pers").each(function( index ) {
                        if( $( this ).attr("id") == color_persidas_meta ){
                          $( this ).trigger('click');
                        }
                      });
                      }
                      META_YES_PERSIDES = false;
                    }
                  },
                  error: function(data) { 
                  }
                });//end ejax

        geniko_persida = "1";
        var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
        var decimal = parseInt(b, 2);
        //zwgrafia(decimal,epikathimeno_rolo,eksoteriko_rolo,color_rolou,"white",color_p,color_k,color_d,color_a,leaf);

        sxedio_persida = true;
        
        ok_click();

         times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

         $(".warning_times").empty();
          $(".warning_times").append($(".table_persida").text()+" -- <%= t('append_price.Price') %> : "+$(".timi_persida").text());
          $(".warning_times").show();
          clearTimeout(timeout);
                    timeout = setTimeout(function()
                      {
                      $(".warning_times").fadeOut('slow');
                    }, 6000);

  }
  });

    // Απλα επιλεγω χρωμα και το αποθυκεύω σε global
    $(".color_persidas").on("click", ".color_pers", function() {
      color_persidas = $(this).attr('id');
      $(".xr_pe").text(color_persidas);

      //Σβηνω αυτα που ειχα πατησει
      $(".color_pers").css('border-style', '');
      //$(".tipos_name").css('display', '');
      //Κανω να φενετε με border αυτο που πατησα!!
      $(this).css('border-style', 'solid');
      $(this).css('border-width', '5px');
      $(this).css('border-color', '#007389');
      $(this).prev().children().css('display', 'block');

      times_json(tipos_name_gia_xrwma, $(".width").text(), $(".height").text(), line_id_name, mesa_eksw, color_aplo, width_new ,height_new, epikathimeno_rolo,eksoteriko_rolo,persida,tzamia,profil_deksia,profil_aristera,profil_panw,profil_katw,$(".input_deksia").val(),$(".input_panw").val(),$(".input_katw").val(),$(".input_aristera").val(),typos,color_typos,odoigos,$(".color_deksia").text(),$(".color_aristera").text(),$(".color_panw").text(),$(".color_katw").text(),$(".color_fullou").text(),0,profil_deksia_1_id,profil_deksia_1_json_arithmos,profil_deksia_2_id,profil_deksia_2_json_arithmos,profil_deksia_3_id,profil_deksia_3_json_arithmos,profil_aristera_1_id,profil_aristera_1_json_arithmos,profil_aristera_2_id,profil_aristera_2_json_arithmos,profil_aristera_3_id,profil_aristera_3_json_arithmos,profil_panw_1_id,profil_panw_1_json_arithmos,profil_panw_2_id,profil_panw_2_json_arithmos,profil_panw_3_id,profil_panw_3_json_arithmos,profil_katw_1_id,profil_katw_1_json_arithmos,profil_katw_2_id,profil_katw_2_json_arithmos,profil_katw_3_id,profil_katw_3_json_arithmos,profil_typos_1_id,profil_typos_1_json_arithmos,profil_typos_2_id,profil_typos_2_json_arithmos,profil_typos_3_id,profil_typos_3_json_arithmos,prostasia,tzamia2,lastixo_epilogh,pl_rol_ep,up_rol_ep,pl_rol_ek,up_rol_ek,pl_persidas,up_persidas,up_odoigou,color_epikathimenou,color_eksoterikou,color_persidas,color_odoigou,color_profil_katw,color_profil_deksia,color_profil_aristera,color_profil_panw,elegxos_gia_parapanw_diastaseis_w,elegxos_gia_parapanw_diastaseis_h,xwrisma1,xwrisma2,xwrisma_y_1,xwrisma_y_2,xwrisma3_1,xwrisma3_2,xwrisma3_3,color_aplo_eksw,tzamia0,xwrisma4_1,xwrisma4_2,xwrisma4_3,xwrisma4_4,window_still_single,roll_rat,roll_rlt,roll_rdm,roll_pss,roll_pfm, place);

      color = $(this).next().attr('id'); 
      color_pers = color;
      geniko_persida = "1";
      var b = pro_a+pro_d+pro_k+pro_p+geniko_persida+geniko_rolo;
      var decimal = parseInt(b, 2);
      //zwgrafia(decimal,epikathimeno_rolo,eksoteriko_rolo,color_rolou,color_pers,color_p,color_k,color_d,color_a,leaf);

      sxedio_persida = true;
      sxedio_color_persida = color_pers;
      
      ok_click();
      
      
    });

    

  
    ///////    ΑΝΑΛΟΓΑ ΜΕ ΤΙ ΡΟΛΟ ΕΧΩ ΕΠΙΛΕΞΕΙ, ΕΧΩ ΔΙΑΦΟΡΕΤΙΚΟ BUTTON /////////////
    ///////    ΣΕ ΑΥΤΟ ΘΑ ΠΕΡΝΑΩ ΚΑΙ ΤΑ ΥΠΟΛΙΠΑ EXTRA ΙΣΩΣ ΜΕ IF ΑΝ ΕΧΟΥΝ ΕΠΙΛΕΧΘΕΙ ///////////////
    //code = 1;
    
    //xwrisma_y_1 = "<%= @xwrisma_y_1 %>";
    //xwrisma_y_2 = "<%= @xwrisma_y_2 %>";
    //xwrisma1 = "<%= @xwrisma1 %>";
    //xwrisma2 = "<%= @xwrisma2 %>"
    //xwrisma3_1 = "<%= @xwrisma3_1 %>";
    //xwrisma3_2 = "<%= @xwrisma3_2 %>";
    //xwrisma3_3 = "<%= @xwrisma3_3 %>";
    $(".modal_da").hide();
    $(".modal_dam").hide();
    $(".modal_pk").hide();

    $( ".confirm" ).click(function() {
      $(".close_add_to_card").click();
      //$('#myModal_xwrisma').hide();
      //$('.modal-backdrop').remove();
      //$('#myModal_xwrisma').hide();
      $('#myModal_confirm').appendTo("body").modal('show');
    });

    
    $( ".order_price" ).click(function() {
      $('#myModal_times').show();
    });


    $( ".order_prin" ).click(function() {
        $('#myModal_xwrisma').appendTo("body").modal('show');
        $("#modal_new_width").html("<b><%= t('translate.New_width') %></b>: "+width_new+" mm");
        $("#modal_new_height").html("<b><%= t('translate.new_height') %></b>: "+height_new+" mm");

        $(".xwrismata_sxedio_orizontia").find($( "input:enabled" )).css({'background-color' : 'rgba(92, 184, 92, 0.5)'});
        $(".xwrismata_sxedio_katheta").find($( "input:enabled" )).css({'background-color' : 'rgba(92, 184, 92, 0.5)'});

        $(".modal_da").hide();
        $(".modal_dam").hide();
        $(".modal_pk").hide();

        $( "#sxedio_new2" ).empty();

        var cloneSVG = $('#svg').clone();
        cloneSVG.appendTo('#sxedio_new2');

        var code = parseFloat(tipos_code);

        /*if ( tipos_code === '1122' ){
              width_dua_duo_new = ( width_new / 2 );
              
                $("input[name='deksia_xwrisma']").val(Math.floor(width_dua_duo_new));
                $("input[name='aristera_xwrisma']").val(Math.ceil(width_dua_duo_new));

                $(".modal_da").show();

                xwrisma1 = Math.ceil(width_dua_duo_new);
                xwrisma2 = Math.floor(width_dua_duo_new);
                xwrisma3_1 = 0;
                xwrisma3_2 = 0;
                xwrisma3_3 = 0;
                xwrisma_y_1 = 0;
                xwrisma_y_2 = 0;
        }*/


        if (leaf == "1fullo" && ( (parseFloat(tipos_code)  === 14) || ( parseFloat(tipos_code)  === 14.1) || ( parseFloat(tipos_code)  === 15) || (parseFloat(tipos_code)  === 16) || (parseFloat(tipos_code)  === 16.1) || (parseFloat(tipos_code)  === 17) || (parseFloat(tipos_code)  === 18) || (parseFloat(tipos_code)  === 21) ) ){
                
                height_dua_duo_new = ( height_new / 2 );
        
                $("input[name='panw_xwrisma']").val("380");
                ypsos_katw = height_new - 380;
                $("input[name='katw_xwrisma']").val(ypsos_katw);
                $(".modal_pk").show();

                xwrisma1 = 0;
                xwrisma2 = 0;
                xwrisma3_1 = 0;
                xwrisma3_2 = 0;
                xwrisma3_3 = 0;
                xwrisma_y_1 = 380;
                xwrisma_y_2 = ypsos_katw;

        }

        if ( leaf == "2fullo" && (parseFloat(tipos_code) === 16 || parseFloat(tipos_code) === 16.1 || parseFloat(tipos_code) === 17 || parseFloat(tipos_code) === 18)){

                height_dua_duo_new = ( height_new / 2 );
          
                $("input[name='katw_xwrisma']").val(Math.floor(height_dua_duo_new));
                $("input[name='panw_xwrisma']").val(Math.ceil(height_dua_duo_new));
              
                width_dua_duo_new = ( width_new / 2 );
              
                $("input[name='deksia_xwrisma']").val(Math.floor(width_dua_duo_new));
                $("input[name='aristera_xwrisma']").val(Math.ceil(width_dua_duo_new));


                $(".modal_da").show();
                $(".modal_pk").show();

                xwrisma1 = Math.ceil(width_dua_duo_new);
                xwrisma2 = Math.floor(width_dua_duo_new);
                xwrisma3_1 = 0;
                xwrisma3_2 = 0;
                xwrisma3_3 = 0;
                xwrisma_y_1 = Math.ceil(height_dua_duo_new);
                xwrisma_y_2 = Math.floor(height_dua_duo_new);

        }else if ( leaf == "2fullo" && (parseFloat(tipos_code) !== 16 || parseFloat(tipos_code) !== 16.1 || parseFloat(tipos_code) !== 17 || parseFloat(tipos_code) !== 18)){
           
              width_dua_duo_new = ( width_new / 2 );
              
                $("input[name='deksia_xwrisma']").val(Math.floor(width_dua_duo_new));
                $("input[name='aristera_xwrisma']").val(Math.ceil(width_dua_duo_new));

                $(".modal_da").show();

                xwrisma1 = Math.ceil(width_dua_duo_new);
                xwrisma2 = Math.floor(width_dua_duo_new);
                xwrisma3_1 = 0;
                xwrisma3_2 = 0;
                xwrisma3_3 = 0;
                xwrisma_y_1 = 0;
                xwrisma_y_2 = 0;
                
        }else if ( leaf == "3fullo" ) {
           
              width_dua_tria_new = ( width_new / 3 );
              
                if ( ( width_new % 3 ) == 1 ){
                  $("input[name='aristera_xwrisma_3']").val(Math.floor(width_dua_tria_new));
                  $("input[name='mesi_xwrisma']").val(Math.floor(width_dua_tria_new));
                  $("input[name='deksia_xwrisma_3']").val(Math.ceil(width_dua_tria_new));
                  xwrisma1 = 0;
                  xwrisma2 = 0;
                  xwrisma3_1 = Math.floor(width_dua_tria_new);
                  xwrisma3_2 = Math.floor(width_dua_tria_new);
                  xwrisma3_3 = Math.ceil(width_dua_tria_new);
                  xwrisma_y_1 = 0;
                  xwrisma_y_2 = 0;
                }
                else{
                  $("input[name='aristera_xwrisma_3']").val(Math.floor(width_dua_tria_new));
                  $("input[name='mesi_xwrisma']").val(Math.ceil(width_dua_tria_new));
                  $("input[name='deksia_xwrisma_3']").val(Math.ceil(width_dua_tria_new));
                  xwrisma1 = 0;
                  xwrisma2 = 0;
                  xwrisma3_1 = Math.floor(width_dua_tria_new);
                  xwrisma3_2 = Math.ceil(width_dua_tria_new);
                  xwrisma3_3 = Math.ceil(width_dua_tria_new);
                  xwrisma_y_1 = 0;
                  xwrisma_y_2 = 0;
                }
               
                $(".modal_dam").show();
                
        }
              
    });

    $(".modal").on("click", ".update", function() {

         if (leaf == "1fullo" && (parseFloat(tipos_code) === 14 || parseFloat(tipos_code) === 14.1 || parseFloat(tipos_code) === 15 || parseFloat(tipos_code) === 16 || parseFloat(tipos_code) === 16.1 || parseFloat(tipos_code) === 17 || parseFloat(tipos_code) === 18 || parseFloat(tipos_code) === 21)){

           xwrisma_y_1 = $("input[name='panw_xwrisma']").val();
           xwrisma_y_2 = $("input[name='katw_xwrisma']").val();
           athrisma = Number(xwrisma_y_1) + Number(xwrisma_y_2);

          if ( ( Number(xwrisma_y_1) <= height_new ) && ( Number(xwrisma_y_2) <= height_new ) && ( Number(xwrisma_y_1) >= 0 ) && ( Number(xwrisma_y_2) >= 0 )){
            xwrisma_y_2 = height_new - xwrisma_y_1;
            $("input[name='katw_xwrisma']").val(xwrisma_y_2);
            var athrisma = Number(xwrisma_y_1) + Number(xwrisma_y_2);
          }
            if ( (athrisma == height_new) && !(isNaN(Number(xwrisma_y_1))) && !(isNaN(Number(xwrisma_y_2))) && Number(xwrisma_y_1) >= 380 && Number(xwrisma_y_2) >= 400 ){
              ok = true;
            }
            else {
              alert("Λαθος όρια. Πατηστε αριθμους και οχι γραμματα. Ακόμη το min πλατος σε κάθε φύλλο είναι 300mm");
               ok = false;
            }
          
          if ( ok ){
            $(".order").show();
          }else{
            $(".order").hide();
          }


         }
         if ( leaf == "2fullo" && (parseFloat(tipos_code) === 16 || parseFloat(tipos_code) === 16.1 || parseFloat(tipos_code) === 17 || parseFloat(tipos_code) === 18)){

             xwrisma_y_1 = $("input[name='panw_xwrisma']").val();
             xwrisma_y_2 = $("input[name='katw_xwrisma']").val();
             xwrisma1 = $("input[name='aristera_xwrisma']").val();
             xwrisma2 = $("input[name='deksia_xwrisma']").val();
             
             athrisma_y = Number(xwrisma_y_1) + Number(xwrisma_y_2);
             athrisma = Number(xwrisma1) + Number(xwrisma2);
            if ( ( Number(xwrisma_y_1) <= height_new ) && ( Number(xwrisma_y_2) <= height_new ) && ( Number(xwrisma_y_1) >= 0 ) && ( Number(xwrisma_y_2) >= 0 ) && ( Number(xwrisma1) <= width_new ) && ( Number(xwrisma2) <= width_new ) && ( Number(xwrisma1) >= 0 ) && ( Number(xwrisma2) >= 0 )){
              xwrisma_y_2 = height_new - xwrisma_y_1;
              $("input[name='katw_xwrisma']").val(xwrisma_y_2);
              var athrisma_y = Number(xwrisma_y_1) + Number(xwrisma_y_2);
              xwrisma2 = width_new - xwrisma1;
              $("input[name='deksia_xwrisma']").val(xwrisma2);
              var athrisma = Number(xwrisma1) + Number(xwrisma2);
            }
              if ( (athrisma_y == height_new) && !(isNaN(Number(xwrisma_y_1))) && !(isNaN(Number(xwrisma_y_2))) && Number(xwrisma_y_1) >= 380 && Number(xwrisma_y_2) >= 400 && (athrisma == width_new) && !(isNaN(Number(xwrisma1))) && !(isNaN(Number(xwrisma2))) && Number(xwrisma1) >= 300 && Number(xwrisma2) >= 300){
                ok = true;
              }
              else {
                alert("Λαθος όρια. Πατηστε αριθμους και οχι γραμματα. Ακόμη το min πλατος σε κάθε φύλλο είναι 300mm");
                 ok = false;
              }
            
            if ( ok ){
              $(".order").show();
            }else{
              $(".order").hide();
            }

         }else if ( leaf == "2fullo" && (parseFloat(tipos_code) !== 16 || parseFloat(tipos_code) !== 16.1 || parseFloat(tipos_code) !== 17 || parseFloat(tipos_code) !== 18)){

           xwrisma1 = $("input[name='aristera_xwrisma']").val();
           xwrisma2 = $("input[name='deksia_xwrisma']").val();
           athrisma = Number(xwrisma1) + Number(xwrisma2);
          if ( ( Number(xwrisma1) <= width_new ) && ( Number(xwrisma2) <= width_new ) && ( Number(xwrisma1) >= 0 ) && ( Number(xwrisma2) >= 0 )){
            xwrisma2 = width_new - xwrisma1;
            $("input[name='deksia_xwrisma']").val(xwrisma2);
            var athrisma = Number(xwrisma1) + Number(xwrisma2);
          }
            if ( (athrisma == width_new) && !(isNaN(Number(xwrisma1))) && !(isNaN(Number(xwrisma2))) && Number(xwrisma1) >= 300 && Number(xwrisma2) >= 300 ){
              ok = true;
            }
            else {
              alert("Λαθος όρια. Πατηστε αριθμους και οχι γραμματα. Ακόμη το min πλατος σε κάθε φύλλο είναι 300mm");
               ok = false;
            }

            if ( ok ){
              $(".order").show();
            }else{
              $(".order").hide();
            }
             
         }else if ( leaf == "3fullo" ) {

          xwrisma3_1 = $("input[name='aristera_xwrisma_3']").val();
          xwrisma3_2 = $("input[name='mesi_xwrisma']").val();
          xwrisma3_3 = $("input[name='deksia_xwrisma_3']").val();
          athrisma = Number(xwrisma3_1) + Number(xwrisma3_2) + Number(xwrisma3_3);
          
          if ( (athrisma == width_new) && !(isNaN(Number(xwrisma3_1))) && !(isNaN(Number(xwrisma3_2))) && !(isNaN(Number(xwrisma3_3))) && Number(xwrisma3_1) >= 300 && Number(xwrisma3_2) >= 300 && Number(xwrisma3_3) >= 300 ){
            ok = true;
          }
          else {
            alert("Λαθος όρια. Πατηστε αριθμους και οχι γραμματα");
             ok = false;
             $("#xwrisma_platous_1").val('');
             $("#xwrisma_platous_2").val('');
             $("#xwrisma_platous_3").val('');
          }
          
          if ( ok ){
            $(".order").show();
          }else{
            $(".order").hide();
          }

         }//end 3fullo

    });

    $(".row_mat").on("click", ".epanal", function() {

      var body = $('body');
      //bodycontent = body.html();

      //localStorage["myKey"] = JSON.stringify($("#wrap").html());
      //$('#wrap').data('store', $('#wrap').html());

      //a = $('body').clone();

      $('body').html(body.html());

      //document.innerHTML = "<div></div>";
      //var contentsOfOldDiv = JSON.parse(localStorage["myKey"]);    
      //$("#wrap").html(contentsOfOldDiv);

    });
    
    //Περναω ολες τις τιμες και ας εχει καποιες null
    $(".modal").on("click", ".order", function() {

      $('#loading').show();

      if ( geniko_ok && ( width_new <= Number($("#maxw").text()) ) ){

        var svgText = document.getElementById("svg").outerHTML;
        var myCanvas = document.getElementById("canvas2");
        var ctxt = myCanvas.getContext("2d");

        function drawInlineSVG(ctx, rawSVG, callback) {

            var svg = new Blob([rawSVG], {type:'image/svg+xml'}),
                domURL = self.URL || self.webkitURL || self,
                url = domURL.createObjectURL(svg),
                img = new Image();
            
            img.addEventListener('load', function () {
            //img.onload = function(){
                ctx.drawImage(this, 0, 0);     
                domURL.revokeObjectURL(url);
                callback(this);

                c = document.getElementById("canvas2");
                var dataURL = c.toDataURL('image/png');
                var file = dataURLtoBlob(dataURL);
                var fd = new FormData();
                // Append our Canvas image file to the form data
                fd.append("image", file); //file

                $.ajax({
                  
                  type:'POST',
                  url:'/etic/save_image',
                  dataType: "json",
                  data: fd,
                  processData: false,
                  contentType: false,
                  success: function(data) {
                    //window.location.href = str1+str2+str3+str4+str5+str6+str7+str8+str9+str10+str11+str12+str13+str14+str15+str16+str17+str18+str19+str20+str21+str22+str23+str24+str25+str26+str27+str28+str29+str30+str31+str32+str33+str34+str35+str36+str37+str38+str39+str40+str41+str42+str43+str44+str45+str46+str47+str48+str49+str50+str51+str52+str53+str54+str55+str56+str57+str58+str59+str60+str61+str62+str63+str64+str65+str66+str67+str68+str69+str70+str71+str72+str73+str74+str75+str76+str77+str78+str79+str80+str81+str82+str83+str84+str85+str86+str87+str88+str89+str90+str91+str92+str93+str94+str95+str96+str97+str98+str99+str100+str101+str102+str103+str104+str105+str106+str107+str108+str109+str110+str111+str112+str113+str114+str115+str116+str117+str118+str119+str120+str121+str122+str123+str124+str125+str126+str127+str128+str129+str130+str131+str132+str133+str134+str135+str136+str137+str138+str139+str140+str141+str142+str143+str144+str145+str146+str147+str148+str149+str150+str151+str152+str153+str154+str155+str156+str157+str158+str159+str160+str161+str162+str163+str164+str165+str166+str167+str168+str169+str170+str171+str172+str173+str174+str175+str176+str177+str178+str179+str180+str181+str182+str183+str184+str185+str186+str187+str188+str189+str190+str191+str192+str193+str194+str195+str196+str197+str198+str199+str200+str201+str202+str203+stra+strb+str204+str205+str206+str207+str208+str209+str210+str211+str212+str213+str214+str215;
                    url = str1+str2+str3+str4+str5+str6+str7+str8+str9+str10+str11+str12+str13+str14+str15+str16+str17+str18+str19+str20+str21+str22+str23+str24+str25+str26+str27+str28+str29+str30+str31+str32+str33+str34+str35+str36+str37+str38+str39+str40+str41+str42+str43+str44+str45+str46+str47+str48+str49+str50+str51+str52+str53+str54+str55+str56+str57+str58+str59+str60+str61+str62+str63+str64+str65+str66+str67+str68+str69+str70+str71+str72+str73+str74+str75+str76+str77+str78+str79+str80+str81+str82+str83+str84+str85+str86+str87+str88+str89+str90+str91+str92+str93+str94+str95+str96+str97+str98+str99+str100+str101+str102+str103+str104+str105+str106+str107+str108+str109+str110+str111+str112+str113+str114+str115+str116+str117+str118+str119+str120+str121+str122+str123+str124+str125+str126+str127+str128+str129+str130+str131+str132+str133+str134+str135+str136+str137+str138+str139+str140+str141+str142+str143+str144+str145+str146+str147+str148+str149+str150+str151+str152+str153+str154+str155+str156+str157+str158+str159+str160+str161+str162+str163+str164+str165+str166+str167+str168+str169+str170+str171+str172+str173+str174+str175+str176+str177+str178+str179+str180+str181+str182+str183+str184+str185+str186+str187+str188+str189+str190+str191+str192+str193+str194+str195+str196+str197+str198+str199+str200+str201+str202+str203+stra+strb+str204+str205+str206+str207+str208+str209+str210+str211+str212+str213+str214+str215;

                    $.ajax({ 
                      type:'GET',
                      url: url,
                      dataType: "html",
                      success: function(data) {
                        
                        $.ajax({ 
                          type:'POST',
                          url:'/etic/save_imagebase64',
                          dataType: "json",
                          data: {dataURL: dataURL},
                          success: function(data) {
                            window.location.href = data;
                          },
                          error: function(data) { 
                          }
                        });//end ejax
                      },
                      error: function(data) { 
                      }
                    });//end ejax

                  },
                  error: function(data) { 
                  }
                });//end ejax

                
            })
            img.onerror = function(){
                alert("Wrong argument...");
            }
            
            img.src = url;  

        }

        // usage:
        drawInlineSVG(ctxt, svgText, function() {
        });


      // Convert dataURL to Blob object
      function dataURLtoBlob(dataURL) {
        // Decode the dataURL    
        var binary = atob(dataURL.split(',')[1]);
        // Create 8-bit unsigned array
        var array = [];
        for(var i = 0; i < binary.length; i++) {
            array.push(binary.charCodeAt(i));
        }
        // Return our Blob object
        return new Blob([new Uint8Array(array)], {type: 'image/png'});
      }

      profil_deksia_1 = 0;
      profil_deksia_1_arithmos = 0;
      profil_deksia_2 = 0;
      profil_deksia_2_arithmos = 0;
      profil_deksia_3 = 0;
      profil_deksia_3_arithmos = 0;
      profil_aristera_1 = 0;
      profil_aristera_1_arithmos = 0;
      profil_aristera_2 = 0;
      profil_aristera_2_arithmos = 0;
      profil_aristera_3 = 0;
      profil_aristera_3_arithmos = 0;
      profil_panw_1 = 0;
      profil_panw_1_arithmos = 0;
      profil_panw_2 = 0;
      profil_panw_2_arithmos = 0;
      profil_panw_3 = 0;
      profil_panw_3_arithmos = 0;
      profil_katw_1 = 0;
      profil_katw_1_arithmos = 0;
      profil_katw_2 = 0;
      profil_katw_2_arithmos = 0;
      profil_katw_3 = 0;
      profil_katw_3_arithmos = 0;
      typos_katw_1 = 0;
      typos_katw_1_arithmos = 0;
      typos_katw_2 = 0;
      typos_katw_2_arithmos = 0;
      typos_katw_3 = 0;
      typos_katw_3_arithmos = 0;

      for(var i = 0; i < profil_deksia_array.length; i++) {
        if( i === 0){
          profil_deksia_1 = profil_deksia_array[i].id;
          profil_deksia_1_arithmos = profil_deksia_array[i].arithmo;
        }else if( i === 1){
          profil_deksia_2 = profil_deksia_array[i].id;
          profil_deksia_2_arithmos = profil_deksia_array[i].arithmo;
        }else if( i === 2){
          profil_deksia_3 = profil_deksia_array[i].id;
          profil_deksia_3_arithmos = profil_deksia_array[i].arithmo;
        }
          
      }

      for(var i = 0; i < profil_aristera_array.length; i++) {
        if( i === 0){
          profil_aristera_1 = profil_aristera_array[i].id;
          profil_aristera_1_arithmos = profil_aristera_array[i].arithmo;
        }else if( i === 1){
          profil_aristera_2 = profil_aristera_array[i].id;
          profil_aristera_2_arithmos = profil_aristera_array[i].arithmo;
        }else if( i === 2){
          profil_aristera_3 = profil_aristera_array[i].id;
          profil_aristera_3_arithmos = profil_aristera_array[i].arithmo;
        }
          
      }

      for(var i = 0; i < profil_panw_array.length; i++) {
        if( i === 0){
          profil_panw_1 = profil_panw_array[i].id;
          profil_panw_1_arithmos = profil_panw_array[i].arithmo;
        }else if( i === 1){
          profil_panw_2 = profil_panw_array[i].id;
          profil_panw_2_arithmos = profil_panw_array[i].arithmo;
        }else if( i === 2){
          profil_panw_3 = profil_panw_array[i].id;
          profil_panw_3_arithmos = profil_panw_array[i].arithmo;
        }
          
      }

      for(var i = 0; i < profil_katw_array.length; i++) {
        if( i === 0){
          profil_katw_1 = profil_katw_array[i].id;
          profil_katw_1_arithmos = profil_katw_array[i].arithmo;
        }else if( i === 1){
          profil_katw_2 = profil_katw_array[i].id;
          profil_katw_2_arithmos = profil_katw_array[i].arithmo;
        }else if( i === 2){
          profil_katw_3 = profil_katw_array[i].id;
          profil_katw_3_arithmos = profil_katw_array[i].arithmo;
        }
          
      }

      for(var i = 0; i < profil_typos_array.length; i++) {
        if( i === 0){
          typos_katw_1 = profil_typos_array[i].id;
          typos_katw_1_arithmos = profil_typos_array[i].arithmo;
        }else if( i === 1){
          typos_katw_2 = profil_typos_array[i].id;
          typos_katw_2_arithmos = profil_typos_array[i].arithmo;
        }else if( i === 2){
          typos_katw_3 = profil_typos_array[i].id;
          typos_katw_3_arithmos = profil_typos_array[i].arithmo;
        }
          
      }

      kinisi_ep = "";
      kinisi_ep = $('input[name=kin_ep]:checked').val();
      kinisi_ek = "";
      kinisi_ek = $('input[name=kin_ek]:checked').val();
      klap_ep = "";
      klap_ep = $('input[name=klap_ep]:checked').val();
      deroll = "";
      deroll = $('input[name=deroll]:checked').val();

      aukson_id = $( "#aukson_id" ).val();

      if ( $( ".orizontia" ).length == 1 ){

      }
      if ( $( ".orizontia" ).length == 2 ){
        xwrisma1 = $("#xwrisma_orizontio0").val();
        xwrisma2 = $("#xwrisma_orizontio1").val();
      }
      if ( $( ".orizontia" ).length == 3 ){
        xwrisma3_1 = $("#xwrisma_orizontio0").val();
        xwrisma3_2 = $("#xwrisma_orizontio1").val();
        xwrisma3_3 = $("#xwrisma_orizontio2").val();
      }
	  
      if ( $( ".orizontia" ).length == 4 ){
        xwrisma4_1 = $("#xwrisma_orizontio0").val();
        xwrisma4_2 = $("#xwrisma_orizontio1").val();
        xwrisma4_3 = $("#xwrisma_orizontio2").val();
		xwrisma4_4 = $("#xwrisma_orizontio3").val();
      }
	  
      if ( $( ".katheta" ).length == 1 ){
        
      }
      if ( $( ".katheta" ).length == 2 ){
        xwrisma_y_1 = $("#xwrisma_katheto0").val();
        xwrisma_y_2 = $("#xwrisma_katheto1").val();
      }


      str1 = "<%= etic_price_path %>"
      str2 = "?open_categorie_name="
      str3 = $('input[name=cat_an]:checked', '#myForm').attr('id');
      str4 = "&material_name="
      str5 = material_name_gia_diastaseis;
      str6 = "&constructor_name="
      str7 = $('input[name=cat_kata]:checked', '#myForm').attr('id');
      str8 = "&system_name="
      str9 = $('input[name=cat_syst]:checked', '#myForm').attr('id');
      str10 = "&line_name="
      str11 = line_id_name;
      str12 = "&leaf_name="
      str13 = leaf_name;
      str14 = "&open_type_name="
      str15 = tipos_name_gia_xrwma;
      str16 = "&color_name="
      str17 = color_aplo;
      str18 = "&color_deksia="
      str19 = $(".color_deksia").text();
      str20 = "&color_aristera="
      str21 = $(".color_aristera").text();
      str22 = "&color_panw="
      str23 = $(".color_panw").text();
      str24 = "&color_katw="
      str25 = $(".color_katw").text();
      str26 = "&color_fulou="
      str27 = $(".color_fullou").text();
      str28 = "&posotita="
      str29 = $(".posotita").text();
      str30 = "&width="
      str31 = $("#width").val();
      str32 = "&height="
      str33 = $("#height").val();
      str34 = "&new_width="
      str35 = width_new;
      str36 = "&new_height="
      str37 = height_new;
      str38 = "&epik_rolo="
      str39 = epikathimeno_rolo;
      str40 = "&xrwma_epikathimenou="
      str41 = color_epikathimenou;
      str42 = "&ekso_rolo="
      str43 = eksoteriko_rolo;
      stra  = "&xrwma_eksoterikou="
      strb  = color_eksoterikou; 
      str44 = "&persida="
      str45 = persida;
      str46 = "&color_persidas="
      str47 = color_persidas;
      str48 = "&lastixo="
      str49 = <%= @lastixo %>
      str50 = "&mesa_eksw="
      str51 = <%= @mesa_eksw %>
      str52 = "&profil_deksia="
      str53 = profil_deksia;
      str54 = "&profil_aristera="
      str55 = profil_aristera;
      str56 = "&profil_panw="
      str57 = profil_panw;
      str58 = "&profil_katw="
      str59 = profil_katw;
      str60 = "&color_profil_deksia="
      str61 = color_profil_deksia;
      str62 = "&color_profil_panw="
      str63 = color_profil_panw;
      str64 = "&color_profil_aristera="
      str65 = color_profil_aristera;
      str66 = "&color_profil_katw="
      str67 = color_profil_katw;
      str68 = "&posotita_deksia_profil="
      str69 = $(".input_deksia").val();
      str70 = "&posotita_aristera_profil="
      str71 = $(".input_aristera").val();
      str72 = "&posotita_panw_profil="
      str73 = $(".input_panw").val();
      str74 = "&posotita_katw_profil="
      str75 = $(".input_katw").val();
      str76 = "&tzamia="
      str77 = tzamia;
      str78 = "&typos="
      str79 = typos;
      str80 = "&color_typos="
      str81 = color_typos;
      str82 = "&xwrisma1="
      str83 = xwrisma1;
      str84 = "&xwrisma2="
      str85 = xwrisma2;
      str86 = "&xwrisma3_1="
      str87 = xwrisma3_1;
      str88 = "&xwrisma3_2="
      str89 = xwrisma3_2;
      str90 = "&xwrisma3_3="
      str91 = xwrisma3_3;
      str92 = "&odoigos_rolou="
      str93 = odoigos;
      str94 = "&color_odoigou="
      str95 = color_odoigou;
      str96 = "&lastixo="
      str97 = lastixo_epilogh;
      str98 = "&xwrisma_y_1="
      str99 = xwrisma_y_1;
      str100 = "&xwrisma_y_2=" 
      str101 = xwrisma_y_2;
      str102 = "&profil_deksia_1="
      str103 = profil_deksia_1;
      str104 = "&profil_deksia_1_arithmos="
      str105 = profil_deksia_1_arithmos;
      str106 = "&profil_deksia_2="
      str107 = profil_deksia_2;
      str108 = "&profil_deksia_2_arithmos="
      str109 = profil_deksia_2_arithmos;
      str110 = "&profil_deksia_3="
      str111 = profil_deksia_3;
      str112 = "&profil_deksia_3_arithmos="
      str113 = profil_deksia_3_arithmos;
      str114 = "&profil_aristera_1="
      str115 = profil_aristera_1;
      str116 = "&profil_aristera_1_arithmos="
      str117 = profil_aristera_1_arithmos;
      str118 = "&profil_aristera_2="
      str119 = profil_aristera_2;
      str120 = "&profil_aristera_2_arithmos="
      str121 = profil_aristera_2_arithmos;
      str122 = "&profil_aristera_3="
      str123 = profil_aristera_3;
      str124 = "&profil_aristera_3_arithmos="
      str125 = profil_aristera_3_arithmos;
      str126 = "&profil_panw_1="
      str127 = profil_panw_1;
      str128 = "&profil_panw_1_arithmos="
      str129 = profil_panw_1_arithmos;
      str130 = "&profil_panw_2="
      str131 = profil_panw_2;
      str132 = "&profil_panw_2_arithmos="
      str133 = profil_panw_2_arithmos;
      str134 = "&profil_panw_3="
      str135 = profil_panw_3;
      str136 = "&profil_panw_3_arithmos="
      str137 = profil_panw_3_arithmos;
      str138 = "&profil_katw_1="
      str139 = profil_katw_1;
      str140 = "&profil_katw_1_arithmos="
      str141 = profil_katw_1_arithmos;
      str142 = "&profil_katw_2="
      str143 = profil_katw_2;
      str144 = "&profil_katw_2_arithmos="
      str145 = profil_katw_2_arithmos;
      str146 = "&profil_katw_3="
      str147 = profil_katw_3;
      str148 = "&profil_katw_3_arithmos="
      str149 = profil_katw_3_arithmos;
      str150 = "&typos_katw_1="
      str151 = typos_katw_1;
      str152 = "&typos_katw_1_arithmos="
      str153 = typos_katw_1_arithmos;
      str154 = "&typos_katw_2="
      str155 = typos_katw_2;
      str156 = "&typos_katw_2_arithmos="
      str157 = typos_katw_2_arithmos;
      str158 = "&typos_katw_3="
      str159 = typos_katw_3;
      str160 = "&typos_katw_3_arithmos="
      str161 = typos_katw_3_arithmos;
      str162 = "&prostasia="
      str163 = prostasia;
      str164 = "&tzamia2="
      str165 = tzamia2;
      str166 = "&pl_rol_ep="
      str167 = pl_rol_ep;
      str168 = "&up_rol_ep="
      str169 = up_rol_ep;
      str170 = "&kinisi_ep="
      str171 = kinisi_ep;
      str172 = "&pl_rol_ek="
      str173 = pl_rol_ek;
      str174 = "&up_rol_ek="
      str175 = up_rol_ek;
      str176 = "&kinisi_ek="
      str177 = kinisi_ek;
      str178 = "&pl_persidas="
      str179 = pl_persidas;
      str180 = "&up_persidas="
      str181 = up_persidas;
      str182 = "&up_odoigou="
      str183 = up_odoigou;
      str184 = "&aukson_id="
      str185 = aukson_id;
      str186 = "&elegxos_w="
      str187 = elegxos_gia_parapanw_diastaseis_w;
      str188 = "&elegxos_h="
      str189 = elegxos_gia_parapanw_diastaseis_h;
      str190 = "&color_eksw_name="
      str191 = color_aplo_eksw;
      str192 = "&tzamia0="
      str193 = tzamia0;
      str194 = "&tzami0_cat="
      str195 = cat_tzamia0;
      str196 = "&tzami1_cat="
      str197 = cat_tzamia;
      str198 = "&tzami2_cat="
      str199 = cat_tzamia2;
      str200 = "&klap_ep="
      str201 = klap_ep;
      str202 = "&deroll="
      str203 = deroll;
      str204 = "&xwrisma4_1="
      str205 = xwrisma4_1;
      str206 = "&xwrisma4_2="
      str207 = xwrisma4_2;
      str208 = "&xwrisma4_3="
      str209 = xwrisma4_3;
      str210 = "&xwrisma4_4="
      str211 = xwrisma4_4;
      str212 = "&window_still_single="
      str213 = window_still_single;
      str214 = "&place="
      str215 = place;
      str216 = "&imagebase64="

      
      }//geniko_ok = true;
      else{
        $('#loading').fadeOut(1000);
        $("#myModal_xwrisma").modal('hide');
        $("#tab_dimensions").click();
        $(".alert_geniko_ok").show();
        $('.alert_geniko_ok').delay(3000).fadeOut('slow');
        $("#myForm").show();
        $(".hide_extra").hide();
        //$("#myForm").scrollTo("#pane_diastaseis", 1000); //custom animation speed
        //geniko_ok = false;
      }


      //alert(str1+str2+str3);

      //window.location.href = str1+str2+str3+str4+str5+str6+str7+str8+str9+str10+str11+str12+str13+str14+str15+str16+str17+str18+str19+str20+str21+str22+str23+str24+str25+str26+str27+str28+str29+str30+str31+str32+str33+str34+str35+str36+str37+str38+str39+str40+str41+str42+str43+str44+str45+str46+str47+str48+str49+str50+str51+str52+str53+str54+str55+str56+str57+str58+str59+str60+str61+str62+str63+str64+str65+str66+str67+str68+str69+str70+str71+str72+str73+str74+str75+str76+str77+str78+str79+str80+str81+str82+str83+str84+str85+str86+str87+str88+str89+str90+str91+str92+str93+str94+str95+str96+str97+str98+str99+str100+str101+str102+str103+str104+str105+str106+str107+str108+str109+str110+str111+str112+str113+str114+str115+str116+str117+str118+str119+str120+str121+str122+str123+str124+str125+str126+str127+str128+str129+str130+str131+str132+str133+str134+str135+str136+str137+str138+str139+str140+str141+str142+str143+str144+str145+str146+str147+str148+str149+str150+str151+str152+str153+str154+str155+str156+str157+str158+str159+str160+str161+stra+strb;
     /*
     if ( epikathimeno_rolo != 0){

      window.location.href = +epikathimeno_rolo+"&xrwma_rolou="+color_epikathimenou+"&persida="+persida+"&color_persidas="+color_persidas+"&lastixo="+<%= @lastixo %>+"&mesa_eksw="+<%= @mesa_eksw %>+"";

    }
    if ( eksoteriko_rolo != 0){

      window.location.href = "<%= etic_price_path %>?open_categorie_name="+$(".open_categorie").text()+"&material_name="+$(".material").text()+"&constructor_name="+$(".constructor").text()+"&system_name="+$(".system").text()+"&line_name="+$(".line").text()+"&leaf_name="+$(".leaf").text()+"&open_type_name="+$(".open_type").text()+"&color_name="+$(".color").text()+"&color_deksia="+$(".color_deksia").text()+"&color_aristera="+$(".color_aristera").text()+"&color_panw="+$(".color_panw").text()+"&color_katw="+$(".color_katw").text()+"&color_fulou="+$(".color_fullou").text()+"&posotita="+$(".posotita").text()+"&width="+$(".width").text()+"&height="+$(".height").text()+"&ekso_rolo="+eksoteriko_rolo+"&xrwma_rolou="+color_eksoterikou+"&persida="+persida+"&color_persidas="+color_persidas+"&lastixo="+<%= @lastixo %>+"&mesa_eksw="+<%= @mesa_eksw %>+"";

    }
     /////// ΔΕΝ ΕΧΩ ΡΟΛΛΑ /////////////
     if ( epikathimeno_rolo == 0 && eksoteriko_rolo == 0){
      window.location.href = "<%= etic_price_path %>?open_categorie_name="+$(".open_categorie").text()+"&material_name="+$(".material").text()+"&constructor_name="+$(".constructor").text()+"&system_name="+$(".system").text()+"&line_name="+$(".line").text()+"&leaf_name="+$(".leaf").text()+"&open_type_name="+$(".open_type").text()+"&color_name="+$(".color").text()+"&color_deksia="+$(".color_deksia").text()+"&color_aristera="+$(".color_aristera").text()+"&color_panw="+$(".color_panw").text()+"&color_katw="+$(".color_katw").text()+"&color_fulou="+$(".color_fullou").text()+"&posotita="+$(".posotita").text()+"&width="+$(".width").text()+"&height="+$(".height").text()+"&persida="+persida+"&color_persidas="+color_persidas+"&lastixo="+<%= @lastixo %>+"&mesa_eksw="+<%= @mesa_eksw %>+"";
    }
    */

  });

  //setTimeout(function(){
      //ksana();
  //   },3000);

  });



  $(document).ready(function(){
  /*
  var firstPhoto = $("#canvas_image");
  if (firstPhoto[0].complete) {
      // Already loaded, call the handler directly
      handler();
  }
  else {
      // Not loaded yet, register the handler
      firstPhoto.load(handler);
  }
  */

  


  });


  function meta_next_insert(){
        META_PINAKAS_ARXIKO_FOR[META_counter_pinakas_arxikos](META_PINAKAS_ARXIKO_FOR_METAVLITES[META_counter_pinakas_arxikos_metavlites], META_PINAKAS_ARXIKO_FOR_METAVLITES[META_counter_pinakas_arxikos_metavlites + 1], META_PINAKAS_ARXIKO_FOR_METAVLITES[META_counter_pinakas_arxikos_metavlites + 1]);
        META_counter_pinakas_arxikos = META_counter_pinakas_arxikos + 1; 
        META_counter_pinakas_arxikos_metavlites =  META_counter_pinakas_arxikos_metavlites + 3;
        if ( META_counter_pinakas_arxikos == META_PINAKAS_ARXIKO_FOR.length ){
          META_ARXIKO_FOR = false;
          $('#loading').fadeOut(100);
          geniko_ok = true;
          setTimeout(function(){
          $(".warning_times").empty();
            $(".warning_times").show();
            $(".warning_times").append("<%= t('append_price.Price') %> : "+$(".teliki_timi").text());
            clearTimeout(timeout);
                    timeout = setTimeout(function()
                      {
                      $(".warning_times").fadeOut('slow');
                    }, 6000);
          },timeout_profil);
          
          //$('html,body').animate({
          //  scrollTop: $(".navbar").offset().top},
          //  'slow');
          }
    } 


  function nea_extra(lastixa ,tzami0_id, tzami0_cat, tzami_id ,tzami_cat ,tzami2_id ,tzami2_cat,cat_rolo, rolo_id, ti_rolo , color_rolo ,pl_rolou_ek , up_rolou_ek, pl_rolou_ep, up_rolou_ep , kinisi_deksia_aristera , persida_id, color_persidas , pl_persidas , up_persidas, odoigos_id , color_odoigou , up_odoigou , prostasia_id , typos_id , color_typos , typos_arithmos, col_ar, epilogi_ar_1, pr_ar_1_ar, pr_ar_1_id, epilogi_ar_2, pr_ar_2_ar, pr_ar_2_id, epilogi_ar_3, pr_ar_3_ar, pr_ar_3_id, col_de,  epilogi_de_1, pr_de_1_de, pr_de_1_id, epilogi_de_2, pr_de_2_de, pr_de_2_id, epilogi_de_3, pr_de_3_de, pr_de_3_id, col_pa, epilogi_pa_1, pr_pa_1_pa, pr_pa_1_id, epilogi_pa_2, pr_pa_2_pa, pr_pa_2_id, epilogi_pa_3, pr_pa_3_pa, pr_pa_3_id, col_ka , epilogi_ka_1, pr_ka_1_ka, pr_ka_1_id, epilogi_ka_2, pr_ka_2_ka, pr_ka_2_id, epilogi_ka_3, pr_ka_3_ka, pr_ka_3_id ) {

    height_p = 0;
    height_k = 0;

    META_YES_TZAMIA0 = false;
    META_YES_TZAMIA = false;
    META_YES_TZAMIA2 = false;
    META_YES_ROLLA_EK = false;
    META_YES_ROLLA_EP = false;
    META_YES_ROLLA_EK_YPO = false;
    META_YES_ROLLA_EP_YPO = false;
    META_YES_PERSIDES = false;
    META_YES_ODOIGOI = false;
    META_YES_TYPOS = false;
    META_YES_TYPOS_COL = false;
    META_YES_TYP_AR = false;
    META_YES_TYP_AR2 = false;
    META_YES_TYP_AR3 = false;
    META_YES_TYP_AR_COL = false;
    META_YES_TYP_DE = false;
    META_YES_TYP_DE2 = false;
    META_YES_TYP_DE3 = false;
    META_YES_TYP_DE_COL = false;
    META_YES_TYP_PA = false;
    META_YES_TYP_PA2 = false;
    META_YES_TYP_PA3 = false;
    META_YES_TYP_PA_COL = false;
    META_YES_TYP_KA = false;
    META_YES_TYP_KA2 = false;
    META_YES_TYP_KA3 = false;
    META_YES_TYP_KA_COL = false;

    META_EXW_PROFIL = false;
    META_PINAKAS_ARXIKO_FOR = [];
    META_PINAKAS_ARXIKO_FOR_METAVLITES = [];
    META_counter_pinakas_arxikos = 0;
    META_counter_pinakas_arxikos_metavlites = 0;


    $('#loading').show();

    setTimeout(function(){

      $('#loading').show();
      if (lastixa !== "0") {
      
      $("#"+lastixa).click();
      $("#"+lastixa).click();
      //alert("Lastixo");
      }

      if (prostasia_id !== "") {
        
        //$(".prostasia").click();
        //$(".prostasia").click();
      }else{
        $(".prostasia").click();
      }

      do_tzamia0();
      do_tzamia();
      do_tzamia2();
      do_rolla();
      do_persides();
      do_odoigous();
      //setTimeout(do_tzamia, 100);
      //setTimeout(do_tzamia2, 200);
      //setTimeout(do_rolla, 300);
      //setTimeout(do_persides, 400);
      //setTimeout(do_odoigous, 500);

      timeout_profil = 1000;

      if ( pr_ar_1_id != null) {
        //timeout_profil = timeout_profil + 1500;
         //setTimeout(function() { do_pr_ar(pr_ar_1_id,pr_ar_1_ar) }, timeout_profil);
         META_PINAKAS_ARXIKO_FOR.push(do_pr_ar);
         META_PINAKAS_ARXIKO_FOR_METAVLITES.push(pr_ar_1_id,pr_ar_1_ar,1);
         META_EXW_PROFIL = true;
      }
      if ( pr_ar_2_id != null) {
        // = timeout_profil + 1500;
        //setTimeout(function() { do_pr_ar(pr_ar_2_id,pr_ar_2_ar) }, timeout_profil);
        META_PINAKAS_ARXIKO_FOR.push(do_pr_ar);
         META_PINAKAS_ARXIKO_FOR_METAVLITES.push(pr_ar_2_id,pr_ar_2_ar,1);
         META_EXW_PROFIL = true;
      }
      if ( pr_ar_3_id != null) {
        //timeout_profil = timeout_profil + 1500;
        //setTimeout(function() { do_pr_ar(pr_ar_3_id,pr_ar_3_ar) }, timeout_profil);
        META_PINAKAS_ARXIKO_FOR.push(do_pr_ar);
         META_PINAKAS_ARXIKO_FOR_METAVLITES.push(pr_ar_3_id,pr_ar_3_ar,1);
         META_EXW_PROFIL = true;
      }
      if ( pr_de_1_id != null) {
        //timeout_profil = timeout_profil + 1500;
         //setTimeout(function() { do_pr_de(pr_de_1_id,pr_de_1_de) }, timeout_profil);
         META_PINAKAS_ARXIKO_FOR.push(do_pr_de);
         META_PINAKAS_ARXIKO_FOR_METAVLITES.push(pr_de_1_id,pr_de_1_de,1);
         META_EXW_PROFIL = true;
      }
       if ( pr_de_2_id != null) {
        //timeout_profil = timeout_profil + 1500;
         //setTimeout(function() { do_pr_de(pr_de_2_id,pr_de_2_de) }, timeout_profil);
         META_PINAKAS_ARXIKO_FOR.push(do_pr_de);
         META_PINAKAS_ARXIKO_FOR_METAVLITES.push(pr_de_2_id,pr_de_2_de,1);
         META_EXW_PROFIL = true;
      }
       if ( pr_de_3_id != null) {
        //timeout_profil = timeout_profil + 1500;
         //setTimeout(function() { do_pr_de(pr_de_3_id,pr_de_3_de) }, timeout_profil);
         META_PINAKAS_ARXIKO_FOR.push(do_pr_de);
         META_PINAKAS_ARXIKO_FOR_METAVLITES.push(pr_de_3_id,pr_de_3_de,1);
         META_EXW_PROFIL = true;
      }
      if ( pr_pa_1_id != null) {
        //timeout_profil = timeout_profil + 1500;
         //setTimeout(function() { do_pr_pa(pr_pa_1_id,pr_pa_1_pa) }, timeout_profil);
          META_PINAKAS_ARXIKO_FOR.push(do_pr_pa);
         META_PINAKAS_ARXIKO_FOR_METAVLITES.push(pr_pa_1_id,pr_pa_1_pa,1);
         META_EXW_PROFIL = true;
      }
      if ( pr_pa_2_id != null) {
        //timeout_profil = timeout_profil + 1500;
         //setTimeout(function() { do_pr_pa(pr_pa_2_id,pr_pa_2_pa) }, timeout_profil);
         META_PINAKAS_ARXIKO_FOR.push(do_pr_pa);
         META_PINAKAS_ARXIKO_FOR_METAVLITES.push(pr_pa_2_id,pr_pa_2_pa,1);
         META_EXW_PROFIL = true;
      }
      if ( pr_pa_3_id != null) {
        //timeout_profil = timeout_profil + 1500;
         //setTimeout(function() { do_pr_pa(pr_pa_3_id,pr_pa_3_pa) }, timeout_profil);
         META_PINAKAS_ARXIKO_FOR.push(do_pr_pa);
         META_PINAKAS_ARXIKO_FOR_METAVLITES.push(pr_pa_3_id,pr_pa_3_pa,1);
         META_EXW_PROFIL = true;

      }
      if ( pr_ka_1_id != null) {
        //timeout_profil = timeout_profil + 1500;
         //setTimeout(function() { do_pr_ka(pr_ka_1_id,pr_ka_1_ka) }, timeout_profil);
         META_PINAKAS_ARXIKO_FOR.push(do_pr_ka);
         META_PINAKAS_ARXIKO_FOR_METAVLITES.push(pr_ka_1_id,pr_ka_1_ka,1);
         META_EXW_PROFIL = true;
      }
      if ( pr_ka_2_id != null) {
        //timeout_profil = timeout_profil + 1500;
         //setTimeout(function() { do_pr_ka(pr_ka_2_id,pr_ka_2_ka) }, timeout_profil);
         META_PINAKAS_ARXIKO_FOR.push(do_pr_ka);
         META_PINAKAS_ARXIKO_FOR_METAVLITES.push(pr_ka_2_id,pr_ka_2_ka,1);
         META_EXW_PROFIL = true;
      }
      if ( pr_ka_3_id != null) {
        //timeout_profil = timeout_profil + 1500;
         //setTimeout(function() { do_pr_ka(pr_ka_3_id,pr_ka_3_ka) }, timeout_profil);
         META_PINAKAS_ARXIKO_FOR.push(do_pr_ka);
         META_PINAKAS_ARXIKO_FOR_METAVLITES.push(pr_ka_3_id,pr_ka_3_ka,1);
         META_EXW_PROFIL = true;
      }
      if ( typos_id != null) {
        //timeout_profil = timeout_profil + 1500;
        //setTimeout(do_typos, timeout_profil);
        META_PINAKAS_ARXIKO_FOR.push(do_typos);
        META_PINAKAS_ARXIKO_FOR_METAVLITES.push("","","");
        META_EXW_PROFIL = true;
      }

      setTimeout(function(){
        //timeout_profil = timeout_profil + 1500;
       
        if ( META_EXW_PROFIL ){
            META_ARXIKO_FOR = true;
            meta_next_insert();
        }
        if ( !META_EXW_PROFIL ){
            $('#loading').fadeOut(300);
            geniko_ok = true;
            $(".warning_times").empty();
            $(".warning_times").show();
            $(".warning_times").append("<%= t('append_price.Price') %> : "+$(".teliki_timi").text());
            clearTimeout(timeout);
                    timeout = setTimeout(function()
                      {
                      $(".warning_times").fadeOut('slow');
                    }, 6000);
            //$('html,body').animate({
          //  scrollTop: $(".navbar").offset().top},
          //  'slow');
        }
      },timeout_profil);

    },200);

    function do_tzamia0() {
        if (typeof tzami0_cat !== "undefined") {
         
          $(".cat_tzamia0").each(function( index ) {
            if( $( this ).attr("id") == tzami0_cat ){
              window.tzami0_id = tzami0_id;
              META_YES_TZAMIA0 = true;
              $( this ).trigger('click');
              $( this ).trigger('click');
            }
          });
          //$("#<%= @tzami_cat %>.cat_tzamia").trigger('click');
          //$("#"+"<%= @lastixa %>").click();
        }
        //setTimeout(do_tzamia_cat, 1000);
    }

    function do_tzamia0_cat() {
        $(".tzamia_polla0").each(function( index ) {
            if( $( this ).attr("id") == tzami0_id ){
              $( this ).trigger('click');
            }
          });
        
    }

    function do_tzamia() {
        if (typeof tzami_cat !== "undefined") {
         
          $(".cat_tzamia").each(function( index ) {
            if( $( this ).attr("id") == tzami_cat ){
              window.tzami_id = tzami_id;
              META_YES_TZAMIA = true;
              $( this ).trigger('click');
              $( this ).trigger('click');
            }
          });
          //$("#<%= @tzami_cat %>.cat_tzamia").trigger('click');
          //$("#"+"<%= @lastixa %>").click();
        }
        //setTimeout(do_tzamia_cat, 1000);
    }

    function do_tzamia_cat() {
        $(".tzamia_polla").each(function( index ) {
            if( $( this ).attr("id") == tzami_id ){
              $( this ).trigger('click');
            }
          }); 
        
    }

    function do_tzamia2() {
        if (typeof tzami2_cat !== "undefined") {
          
          $(".cat_tzamia2").each(function( index ) {
            if( $( this ).attr("id") == tzami2_cat ){
              META_YES_TZAMIA2 = true;
              window.tzami2_id = tzami2_id;
              $( this ).trigger('click');
              $( this ).trigger('click');
            }
          });
          //$("#<%= @tzami_cat %>.cat_tzamia").trigger('click');
          //$("#"+"<%= @lastixa %>").click();
        }
        //setTimeout(do_tzamia2_cat, 1000);
    }

    function do_tzamia2_cat() {
        $(".tzamia_polla2").each(function( index ) {
            if( $( this ).attr("id") == tzami2_id ){
              $( this ).trigger('click');
            }
          });
        
    }

    function do_rolla() {
        if (typeof cat_rolo !== "undefined") {
          if ( ti_rolo == "ekso" ){
            $(".eksoterika").each(function( index ) {
            if( $( this ).attr("id") == cat_rolo ){
              META_YES_ROLLA_EK = true;
              window.rolo_id = rolo_id;
              window.pl_rolou_ek = pl_rolou_ek;
              window.up_rolou_ek = up_rolou_ek;
              window.color_rolo = color_rolo;
              $( this ).trigger('click');
              $( this ).trigger('click');
            }
          });
          }else{
            $(".epikathimena").each(function( index ) {
            if( $( this ).attr("id") == cat_rolo ){
              META_YES_ROLLA_EP = true;
              window.rolo_id = rolo_id;
              window.pl_rolou_ep = pl_rolou_ep;
              window.up_rolou_ep = up_rolou_ep;
              window.color_rolo = color_rolo;
              $( this ).trigger('click');
              $( this ).trigger('click');
            }
          });

          }
          
        }
        //setTimeout(do_rolla_upo, 1000);
    }

    function do_rolla_upo() {
        if ( ti_rolo == "ekso" ){
          $(".eksoterika_rola_polla").each(function( index ) {
          if( $( this ).attr("id") == rolo_id ){
            $( this ).trigger('click');
          }
        });
        }else{
          $(".epikathimena_rola_polla").each(function( index ) {
          if( $( this ).attr("id") == rolo_id ){
            $( this ).trigger('click');
          }
        });
        }
        //setTimeout(do_rolla_xrwma, 1000);
        
    }

    function do_rolla_xrwma() {
        if ( ti_rolo == "ekso" ){
          $(".pl_rol_ek").val(pl_rolou_ek);
          $(".up_rol_ek").val(up_rolou_ek);
          $(".pl_rol_ek").trigger('blur');
          $(".up_rol_ek").trigger('blur');
          //if( kinisi_deksia_aristera == "l" ){
          //  $(".kin_ek_ar").trigger('click');
          //}else{
          //  $(".kin_ek_de").trigger('click');
         //}
          $(".color_ekso").each(function( index ) {
          if( $( this ).attr("id") == color_rolo ){
            $( this ).trigger('click');
          }
        });
        }
        else{
          $(".pl_rol_ep").val(pl_rolou_ep);
          $(".up_rol_ep").val(up_rolou_ep);
          $(".pl_rol_ep").trigger('blur');
          $(".up_rol_ep").trigger('blur');
          //if( kinisi_deksia_aristera == "l" ){
          //  $(".kin_ep_ar").trigger('click');
          //}else{
          //  $(".kin_ep_de").trigger('click');
          //}
          $(".color_epik").each(function( index ) {
          if( $( this ).attr("id") == color_rolo ){
            $( this ).trigger('click');
          }
        });
        }
        
    }

    function do_persides() {
        if (typeof persida_id !== "undefined") {
        
          $(".perisdes").each(function( index ) {
            if( $( this ).attr("id") == persida_id ){
              META_YES_PERSIDES = true;
              window.persida_id = persida_id;
              window.pl_persidas_meta = pl_persidas;
              window.up_persidas_meta = up_persidas;
              window.color_persidas_meta = color_persidas;
              $( this ).trigger('click');
              $( this ).trigger('click');
            }
          });
          //$("#<%= @tzami_cat %>.cat_tzamia").trigger('click');
          //$("#"+"<%= @lastixa %>").click();
        }
        //setTimeout(do_persides_xrwma, 1000);
    }

    function do_persides_xrwma() {
          $(".pl_persidas").val(pl_persidas);
          $(".up_persidas").val(up_persidas);
          $(".pl_persidas").trigger('blur');
          $(".up_persidas").trigger('blur');
        if (typeof persida_id !== "undefined") {
        $(".color_pers").each(function( index ) {
        if( $( this ).attr("id") == color_persidas ){
          $( this ).trigger('click');
        }
      });
      }
    }

    function do_odoigous() {
        if (typeof odoigos_id !== "undefined") {
         
          $(".odoigoi").each(function( index ) {
            if( $( this ).attr("id") == odoigos_id ){
              META_YES_ODOIGOI = true;
              if ( up_odoigou != "" ){
                window.up_odoigou_meta = up_odoigou;
              }else{
                //window.up_odoigou_meta = height;
              }
              window.odoigos_id = odoigos_id;
              window.color_odoigou_meta = color_odoigou;
              $( this ).trigger('click');
              //$( this ).trigger('click');
            }
          });
          //Δυο φορες γιατι με μια διαγραφει αυτο που ειδη υπαρχει!
          if ( !kanw_prwti_fora_odoigoi ){
            //alert("!!");
            $(".odoigoi").each(function( index ) {
              if( $( this ).attr("id") == odoigos_id ){
                //alert(typeof up_odoigou);
                META_YES_ODOIGOI = true;
                if ( up_odoigou != "" ){
                  window.up_odoigou_meta = up_odoigou;
                }else{
                  //window.up_odoigou_meta = height;
                }
                window.odoigos_id = odoigos_id;
                window.color_odoigou_meta = color_odoigou;
                $( this ).trigger('click');
                //$( this ).trigger('click');
              }
            });
          }
          if ( kanw_prwti_fora_odoigoi ){
            kanw_prwti_fora_odoigoi = true;
          }
          //$("#<%= @tzami_cat %>.cat_tzamia").trigger('click');
          //$("#"+"<%= @lastixa %>").click();
        }
        //setTimeout(do_odoigous_xrwma, 1000);
    }

    function do_odoigous_xrwma() {
       $(".up_odoigou").val(up_odoigou);
       $(".up_odoigou").trigger('blur');
       if (typeof odoigos_id !== "undefined") {
        $(".color_odoig").each(function( index ) {
        if( $( this ).attr("id") == color_odoigou ){
          $( this ).trigger('click');
        }
      });
      }
    }

    function do_typos() {
        if (typeof typos_id !== "undefined") {
         
          $(".typos").each(function( index ) {
            if( $( this ).attr("id") == typos_id ){
              window.color_typos = color_typos;
              META_YES_TYPOS = true;
              $( this ).trigger('click');
            }
          });
          //Δυο φορες γιατι με μια διαγραφει αυτο που ειδη υπαρχει!
          if ( !kanw_prwti_fora_typos ){
            //alert("!!");
            $(".typos").each(function( index ) {
              if( $( this ).attr("id") == typos_id ){
                window.color_typos = color_typos;
                META_YES_TYPOS = true;
                $( this ).trigger('click');
              }
            });
          }
          if ( kanw_prwti_fora_typos ){
            kanw_prwti_fora_typos = true;
          }
          


          //$("#<%= @tzami_cat %>.cat_tzamia").trigger('click');
          //$("#"+"<%= @lastixa %>").click();
        }
        //setTimeout(do_typos_ar, 500);
    }

    function do_typos_ar() {
       $( "input[value='1'][name='optradio_t']" ).trigger('click');
       $( ".arithmos_typos" ).trigger('click');
       setTimeout(do_typos_col, 500);
    }

    function do_typos_col() {
       if (typeof typos_id !== "undefined") {
        $(".color_typos_katw").each(function( index ) {
        if( $( this ).attr("id") == color_typos ){
          $( this ).trigger('click');
        }
      });
      }
       
    }

    function do_pr_ar(ar_pr,ar_ar,poio) {
        if (typeof ar_pr !== "undefined") {
          
          $( "#aristera" ).trigger('click');
          //width_profil_a = ar_pr;
          //prof = ar_pr;
          //profil_aristera_new = prof;
          //$(".penintaena").each(function( index ) {
          //  if( $( this ).attr("id") == ar_pr ){
          //    $( this ).css("background-color","#666666");
          //    $( this ).css("color","white");
          //  }
          //});
          window.ar_pr = ar_pr;
          window.ar_ar = ar_ar;
          window.col_ar = col_ar;
          $(".penintaena").each(function( index ) {
            if( $( this ).attr("id") == ar_pr ){
              if ( poio == 1 ){
                  META_YES_TYP_AR = true;
              }else if ( poio == 2 ){
                  META_YES_TYP_AR2 = true;
              }else{
                  META_YES_TYP_AR3 = true;
              }
              $( this ).trigger('click');
            }
          });
        
          //$(".penintaena").each(function( index ) {
          //  if( $( this ).attr("id") == ar_pr ){
          //    $( this ).trigger('click');
          //  }
          //});
          
          //$("#<%= @tzami_cat %>.cat_tzamia").trigger('click');
          //$("#"+"<%= @lastixa %>").click();
        }
        //setTimeout(function() { do_pr_ar_ar(ar_ar) }, 500);
        //setTimeout(do_pr_ar_ar(ar_ar), 500);
    }

    function do_pr_ar_ar(ar_ar) {
       $( "input[value="+ar_ar+"][name='optradio_a']" ).trigger('click');
       $( ".arithmos_profil_aristera" ).trigger('click');
       setTimeout(do_col_ar, 500);
    }

    function do_col_ar() {
        $(".color_aristera_profil").each(function( index ) {
        if( $( this ).attr("id") == col_ar ){
          $( this ).trigger('click');
        }
      });
      
       
    }

    function do_pr_de(de_pr,de_de,poio) {
        if (typeof de_pr !== "undefined") {

          $( "#deksia" ).trigger('click');
          //width_profil_a = ar_pr;
          //prof = ar_pr;
          //profil_aristera_new = prof;
          //$(".peninta").each(function( index ) {
          //  if( $( this ).attr("id") == de_pr ){
          //    $( this ).css("background-color","#666666");
          //    $( this ).css("color","white");
          //  }
          //});
          window.de_pr = de_pr;
          window.de_de = de_de;
          window.col_de = col_de;
          $(".peninta").each(function( index ) {
            if( $( this ).attr("id") == de_pr ){
              if ( poio == 1 ){
                  META_YES_TYP_DE = true;
              }else if ( poio == 2 ){
                  META_YES_TYP_DE2 = true;
              }else{
                  META_YES_TYP_DE3 = true;
              }
              
              $( this ).trigger('click');
            }
          });
         
          //$(".peninta").each(function( index ) {
          //  if( $( this ).attr("id") == de_pr ){
          //    $( this ).trigger('click');
          //  }
          //});
          
          //$("#<%= @tzami_cat %>.cat_tzamia").trigger('click');
          //$("#"+"<%= @lastixa %>").click();
        }
        //setTimeout(function() { do_pr_de_de(de_de) }, 500);
        //setTimeout(do_pr_ar_ar(ar_ar), 500);
    }

    function do_pr_de_de(de_de) {
       $( "input[value="+de_de+"][name='optradio_d']" ).trigger('click');
       $( ".arithmos_profil_deksia" ).trigger('click');
       setTimeout(do_col_de, 500);
    }

    function do_col_de() {
        $(".color_deksia_profil").each(function( index ) {
        if( $( this ).attr("id") == col_de ){
          $( this ).trigger('click');
        }
      });
      
       
    }

    function do_pr_pa(pa_pr,pa_pa,poio) {
        if (typeof pa_pr !== "undefined") {
          
          $( "#panw" ).trigger('click');
          //width_profil_a = ar_pr;
          //prof = ar_pr;
          //profil_aristera_new = prof;
          //$(".penintaduo").each(function( index ) {
          //  if( $( this ).attr("id") == de_pr ){
          //    $( this ).css("background-color","#666666");
          //    $( this ).css("color","white");
          //  }
          //});
          window.pa_pr = pa_pr;
          window.pa_pa = pa_pa;
          window.col_pa = col_pa;
          $(".penintaduo").each(function( index ) {
            if( $( this ).attr("id") == pa_pr ){
              if ( poio == 1 ){
                  META_YES_TYP_PA = true;
              }else if ( poio == 2 ){
                  META_YES_TYP_PA2 = true;
              }else{
                  META_YES_TYP_PA3 = true;
              }
              
              $( this ).trigger('click');
            }
          });
          
          //$(".penintaduo").each(function( index ) {
          //  if( $( this ).attr("id") == pa_pr ){
          //    $( this ).trigger('click');
          //  }
          //});
          
          //$("#<%= @tzami_cat %>.cat_tzamia").trigger('click');
          //$("#"+"<%= @lastixa %>").click();
        }
        //setTimeout(function() { do_pr_pa_pa(pa_pa) }, 500);
        //setTimeout(do_pr_ar_ar(ar_ar), 500);
    }

    function do_pr_pa_pa(pa_pa) {
       $( "input[value="+pa_pa+"][name='optradio_p']" ).trigger('click');
       $( ".arithmos_profil_panw" ).trigger('click');
       setTimeout(do_col_pa, 500);
    }

    function do_col_pa() {
        $(".color_panw_profil").each(function( index ) {
        if( $( this ).attr("id") == col_pa ){
          $( this ).trigger('click');
        }
      });
      
       
    }

    function do_pr_ka(ka_pr,ka_ka,poio) {
        if (typeof ka_pr !== "undefined") {
         
          $( "#katw" ).trigger('click');
          //width_profil_a = ar_pr;
          //prof = ar_pr;
          //profil_aristera_new = prof;
          //$(".penintaduo").each(function( index ) {
          //  if( $( this ).attr("id") == de_pr ){
          //    $( this ).css("background-color","#666666");
          //    $( this ).css("color","white");
          //  }
          //});
          window.ka_pr = ka_pr;
          window.ka_ka = ka_ka;
          window.col_ka = col_ka;
          $(".penintatria").each(function( index ) {
            if( $( this ).attr("id") == ka_pr ){
              if ( poio == 1 ){
                  META_YES_TYP_KA = true;
              }else if ( poio == 2 ){
                  META_YES_TYP_KA2 = true;
              }else{
                  META_YES_TYP_KA3 = true;
              }
              
              $( this ).trigger('click');
            }
          });
          
          //$(".penintatria").each(function( index ) {
          //  if( $( this ).attr("id") == ka_pr ){
          //    $( this ).trigger('click');
          //  }
          //});
          
          //$("#<%= @tzami_cat %>.cat_tzamia").trigger('click');
          //$("#"+"<%= @lastixa %>").click();
        }
        //setTimeout(function() { do_pr_ka_ka(ka_ka) }, 500);
        //setTimeout(do_pr_ar_ar(ar_ar), 500);
    }

    function do_pr_ka_ka(ka_ka) {
       $( "input[value="+ka_ka+"][name='optradio_k']" ).trigger('click');
       $( ".arithmos_profil_katw" ).trigger('click');
       setTimeout(do_col_ka, 500);
    }

    function do_col_ka() {
        $(".color_katw_profil").each(function( index ) {
        if( $( this ).attr("id") == col_ka ){
          $( this ).trigger('click');
        }
      });
      
       
    }


  }

  
  function next_insert(){
        PINAKAS_ARXIKO_FOR[counter_pinakas_arxikos](PINAKAS_ARXIKO_FOR_METAVLITES[counter_pinakas_arxikos_metavlites], PINAKAS_ARXIKO_FOR_METAVLITES[counter_pinakas_arxikos_metavlites + 1], PINAKAS_ARXIKO_FOR_METAVLITES[counter_pinakas_arxikos_metavlites + 2]);
        counter_pinakas_arxikos = counter_pinakas_arxikos + 1; 
        counter_pinakas_arxikos_metavlites =  counter_pinakas_arxikos_metavlites + 3;
        if ( counter_pinakas_arxikos == PINAKAS_ARXIKO_FOR.length ){
          ARXIKO_FOR = false;
          $('#loading').fadeOut(100);
          $(".hide_extra").hide();
            $("#myForm").show();
            //$("#myForm").scrollTo("#pane_diastaseis", 1000); //custom animation speed
            geniko_ok = false;
            setTimeout(function(){
            $(".warning_times").empty();
            $(".warning_times").show();
            $(".warning_times").append("<%= t('append_price.Price') %> : "+$(".teliki_timi").text());
            clearTimeout(timeout);
                    timeout = setTimeout(function()
                      {
                      $(".warning_times").fadeOut('slow');
                    }, 6000);
            },timeout_profil);
            //$(".ok").click();
        }
    } 
  
  
  function ksana_extra(code, name, color) {

    $('#loading').show();

    height_p = 0;
    height_k = 0;

    YES_TZAMIA0 = false;
    YES_TZAMIA = false;
    YES_TZAMIA2 = false;
    YES_ROLLA_EK = false;
    YES_ROLLA_EP = false;
    YES_ROLLA_EK_YPO = false;
    YES_ROLLA_EP_YPO = false;
    YES_PERSIDES = false;
    YES_ODOIGOI = false;
    YES_TYPOS = false;
    YES_TYPOS_COL = false;
    YES_TYP_AR = false;
    YES_TYP_AR2 = false;
    YES_TYP_AR3 = false;
    YES_TYP_AR_COL = false;
    YES_TYP_DE = false;
    YES_TYP_DE2 = false;
    YES_TYP_DE3 = false;
    YES_TYP_DE_COL = false;
    YES_TYP_PA = false;
    YES_TYP_PA2 = false;
    YES_TYP_PA3 = false;
    YES_TYP_PA_COL = false;
    YES_TYP_KA = false;
    YES_TYP_KA2 = false;
    YES_TYP_KA3 = false;
    YES_TYP_KA_COL = false;

    ARXIKO_FOR = true;
    EXW_PROFIL = false;
    PINAKAS_ARXIKO_FOR = [];
    PINAKAS_ARXIKO_FOR_METAVLITES = [];
    counter_pinakas_arxikos = 0;
    counter_pinakas_arxikos_metavlites = 0;

    setTimeout(function(){

      $('#loading').show();
      if ("<%= @lastixa %>" !== "0") {
      
      $("#"+"<%= @lastixa %>").click();
      }

      if ("<%= @prostasia_id %>" != "") {
        $(".prostasia").click();
      }
      
      do_tzamia0();
      do_tzamia();
      do_tzamia2();
      do_rolla();
      do_persides();
      do_odoigous();

      //setTimeout(do_tzamia, 100);
      //setTimeout(do_tzamia2, 200);
      //setTimeout(do_rolla, 300);
      //setTimeout(do_persides, 400);
      //setTimeout(do_odoigous, 500);
      
      timeout_profil = 1000;

      
      if ( "<%= @pr_ar_1_id %>" !== "") {
        //timeout_profil = timeout_profil + 1500;
         //setTimeout(function() { do_pr_ar("<%= @pr_ar_1_id %>","<%= @pr_ar_1_ar %>",1) }, timeout_profil);
         PINAKAS_ARXIKO_FOR.push(do_pr_ar);
         PINAKAS_ARXIKO_FOR_METAVLITES.push("<%= @pr_ar_1_id %>","<%= @pr_ar_1_ar %>",1);
         EXW_PROFIL = true;
      }
      if ( "<%= @pr_ar_2_id %>" !== "") {
        //timeout_profil = timeout_profil + 1500;
        //setTimeout(function() { do_pr_ar("<%= @pr_ar_2_id %>","<%= @pr_ar_2_ar %>",2) }, timeout_profil);
        PINAKAS_ARXIKO_FOR.push(do_pr_ar);
        PINAKAS_ARXIKO_FOR_METAVLITES.push("<%= @pr_ar_2_id %>","<%= @pr_ar_2_ar %>",2);
        EXW_PROFIL = true;
      }
      if ( "<%= @pr_ar_3_id %>" !== "") {
        //timeout_profil = timeout_profil + 1500;
        //setTimeout(function() { do_pr_ar("<%= @pr_ar_3_id %>","<%= @pr_ar_3_ar %>",3) }, timeout_profil);
        PINAKAS_ARXIKO_FOR.push(do_pr_ar);
        PINAKAS_ARXIKO_FOR_METAVLITES.push("<%= @pr_ar_3_id %>","<%= @pr_ar_3_ar %>",3);
        EXW_PROFIL = true;
      }
      if ( "<%= @pr_de_1_de %>" !== "") {
        //timeout_profil = timeout_profil + 1500;
         //setTimeout(function() { do_pr_de("<%= @pr_de_1_id %>","<%= @pr_de_1_de %>",1) }, timeout_profil);
         PINAKAS_ARXIKO_FOR.push(do_pr_de);
         PINAKAS_ARXIKO_FOR_METAVLITES.push("<%= @pr_de_1_id %>","<%= @pr_de_1_de %>",1);
         EXW_PROFIL = true;
      }
       if ( "<%= @pr_de_2_de %>" !== "") {
        //timeout_profil = timeout_profil + 1500;
         //setTimeout(function() { do_pr_de("<%= @pr_de_2_id %>","<%= @pr_de_2_de %>",2) }, timeout_profil);
         PINAKAS_ARXIKO_FOR.push(do_pr_de);
         PINAKAS_ARXIKO_FOR_METAVLITES.push("<%= @pr_de_2_id %>","<%= @pr_de_2_de %>",2);
         EXW_PROFIL = true;
      }
       if ( "<%= @pr_de_3_de %>" !== "") {
        //timeout_profil = timeout_profil + 1500;
         //setTimeout(function() { do_pr_de("<%= @pr_de_3_id %>","<%= @pr_de_3_de %>",3) }, timeout_profil);
         PINAKAS_ARXIKO_FOR.push(do_pr_de);
         PINAKAS_ARXIKO_FOR_METAVLITES.push("<%= @pr_de_3_id %>","<%= @pr_de_3_de %>",3);
         EXW_PROFIL = true;
      }
      
      if ( "<%= @pr_pa_1_pa %>" !== "") {
        //timeout_profil = timeout_profil + 1500;
         //setTimeout(function() { do_pr_pa("<%= @pr_pa_1_id %>","<%= @pr_pa_1_pa %>",1) }, timeout_profil);
         PINAKAS_ARXIKO_FOR.push(do_pr_pa);
         PINAKAS_ARXIKO_FOR_METAVLITES.push("<%= @pr_pa_1_id %>","<%= @pr_pa_1_pa %>",1);
         EXW_PROFIL = true;
      }
      if ( "<%= @pr_pa_2_pa %>" !== "") {
        //timeout_profil = timeout_profil + 1500;
         //setTimeout(function() { do_pr_pa("<%= @pr_pa_2_id %>","<%= @pr_pa_2_pa %>",2) }, timeout_profil);
         PINAKAS_ARXIKO_FOR.push(do_pr_pa);
         PINAKAS_ARXIKO_FOR_METAVLITES.push("<%= @pr_pa_2_id %>","<%= @pr_pa_2_pa %>",2);
         EXW_PROFIL = true;
      }
      if ( "<%= @pr_pa_3_pa %>" !== "") {
        //timeout_profil = timeout_profil + 1500;
         //setTimeout(function() { do_pr_pa("<%= @pr_pa_3_id %>","<%= @pr_pa_3_pa %>",3) }, timeout_profil);
         PINAKAS_ARXIKO_FOR.push(do_pr_pa);
         PINAKAS_ARXIKO_FOR_METAVLITES.push("<%= @pr_pa_3_id %>","<%= @pr_pa_3_pa %>",3);
         EXW_PROFIL = true;
      }
      if ( "<%= @pr_ka_1_ka %>" !== "") {
        //timeout_profil = timeout_profil + 1500;
         //setTimeout(function() { do_pr_ka("<%= @pr_ka_1_id %>","<%= @pr_ka_1_ka %>",1) }, timeout_profil);
         PINAKAS_ARXIKO_FOR.push(do_pr_ka);
         PINAKAS_ARXIKO_FOR_METAVLITES.push("<%= @pr_ka_1_id %>","<%= @pr_ka_1_ka %>",1);
         EXW_PROFIL = true;

      }
      if ( "<%= @pr_ka_2_ka %>" !== "") {
        //timeout_profil = timeout_profil + 1500;
         //setTimeout(function() { do_pr_ka("<%= @pr_ka_2_id %>","<%= @pr_ka_2_ka %>",2) }, timeout_profil);
         PINAKAS_ARXIKO_FOR.push(do_pr_ka);
         PINAKAS_ARXIKO_FOR_METAVLITES.push("<%= @pr_ka_2_id %>","<%= @pr_ka_2_ka %>",2);
         EXW_PROFIL = true;
      }
      if ( "<%= @pr_ka_3_ka %>" !== "") {
        //timeout_profil = timeout_profil + 1500;
         //setTimeout(function() { do_pr_ka("<%= @pr_ka_3_id %>","<%= @pr_ka_3_ka %>",3) }, timeout_profil);
         PINAKAS_ARXIKO_FOR.push(do_pr_ka);
         PINAKAS_ARXIKO_FOR_METAVLITES.push("<%= @pr_ka_3_id %>","<%= @pr_ka_3_ka %>",3);
         EXW_PROFIL = true;
      }
      if ( "<%= @typos_id %>" !== "") {
        //timeout_profil = timeout_profil + 1500;
        //setTimeout(do_typos("","",""), timeout_profil);
        PINAKAS_ARXIKO_FOR.push(do_typos);
        PINAKAS_ARXIKO_FOR_METAVLITES.push("","","");
        EXW_PROFIL = true;
      }

      setTimeout(function(){
        
        timeout_profil = timeout_profil + 0;
        
        if ( EXW_PROFIL  ){
            next_insert();
        }
        if ( !EXW_PROFIL ){
            $('#loading').fadeOut(300);
            $(".hide_extra").hide();
            $("#myForm").show();
            //$("#myForm").scrollTo("#pane_diastaseis", 1000); //custom animation speed
            geniko_ok = false;
            //$(".ok").click();
            $(".warning_times").empty();
            $(".warning_times").show();
            $(".warning_times").append("<%= t('append_price.Price') %> : "+$(".teliki_timi").text());
            clearTimeout(timeout);
                    timeout = setTimeout(function()
                      {
                      $(".warning_times").fadeOut('slow');
                    }, 6000);
            }
        //PINAKAS_ARXIKO_FOR[0]();
      },timeout_profil);

      


    },200);


    function do_typos(a,b,c) {
        if (typeof "<%= @typos_id %>" !== "undefined") {
          
          $(".typos").each(function( index ) {
            if( $( this ).attr("id") == "<%= @typos_id %>" ){
              YES_TYPOS = true;
              $( this ).trigger('click');
            }
          });
          if ( kanw_prwti_fora_typos ){
            //alert("!!");
            $(".typos").each(function( index ) {
              if( $( this ).attr("id") == "<%= @typos_id %>"  ){
                window.color_typos = color_typos;
                META_YES_TYPOS = true;
                $( this ).trigger('click');
              }
            });
          }
          if ( !kanw_prwti_fora_typos ){
            kanw_prwti_fora_typos = false;
          }
          //$("#<%= @tzami_cat %>.cat_tzamia").trigger('click');
          //$("#"+"<%= @lastixa %>").click();
        }
        //setTimeout(do_typos_ar, 500);
    }
    
    /*
    function do_typos_ar() {
       $( "input[value='1'][name='optradio_t']" ).trigger('click');
       $( ".arithmos_typos" ).trigger('click');
       setTimeout(do_typos_col, 500);
    }

    function do_typos_col() {
       if (typeof "<%= @typos_id %>" !== "undefined") {
        $(".color_typos_katw").each(function( index ) {
        if( $( this ).attr("id") == "<%= @color_typos %>" ){
          $( this ).trigger('click');
        }
      });
      }
       
    }
    */

    function do_pr_ar(ar_pr,ar_ar,poio) {
        if (typeof ar_pr !== "undefined") {
         
          $( "#aristera" ).trigger('click');
          //width_profil_a = ar_pr;
          //prof = ar_pr;
          //profil_aristera_new = prof;
          //$(".penintaena").each(function( index ) {
          //  if( $( this ).attr("id") == ar_pr ){
          //    $( this ).css("background-color","#666666");
          //    $( this ).css("color","white");
          //  }
          //});
         
          window.ar_pr = ar_pr;
          window.ar_ar = ar_ar;
          $(".penintaena").each(function( index ) {
            if( $( this ).attr("id") == ar_pr ){
              //alert(ar_pr);
              if ( poio == 1 ){
                  YES_TYP_AR = true;
              }else if ( poio == 2 ){
                  YES_TYP_AR2 = true;
              }else{
                  YES_TYP_AR3 = true;
              }
              $( this ).trigger('click');
            }
          });
          
          //$("#<%= @tzami_cat %>.cat_tzamia").trigger('click');
          //$("#"+"<%= @lastixa %>").click();
        }
        //setTimeout(function() { do_pr_ar_ar(ar_ar) }, 500);
        //setTimeout(do_pr_ar_ar(ar_ar), 500);
    }


    /*
    function do_pr_ar_ar(ar_ar) {
       $( "input[value="+ar_ar+"][name='optradio_a']" ).trigger('click');
       $( ".arithmos_profil_aristera" ).trigger('click');
       setTimeout(do_col_ar, 500);
    }

    function do_col_ar() {
        $(".color_aristera_profil").each(function( index ) {
        if( $( this ).attr("id") == "<%= @color_ar %>" ){
          $( this ).trigger('click');
        }
      });
      
       
    }
    */

    function do_pr_de(de_pr,de_de,poio) {
        if (typeof de_pr !== "undefined") {
         
          $( "#deksia" ).trigger('click');
          //width_profil_a = ar_pr;
          //prof = ar_pr;
          //profil_aristera_new = prof;
          //$(".peninta").each(function( index ) {
          //  if( $( this ).attr("id") == de_pr ){
          //    $( this ).css("background-color","#666666");
          //    $( this ).css("color","white");
          //  }
          //});
          
          window.de_pr = de_pr;
          window.de_de = de_de;
          $(".peninta").each(function( index ) {
            if( $( this ).attr("id") == de_pr ){
              if ( poio == 1 ){
                  YES_TYP_DE = true;
              }else if ( poio == 2 ){
                  YES_TYP_DE2 = true;
              }else{
                  YES_TYP_DE3 = true;
              }
              
              $( this ).trigger('click');
            }
          });
          
          //$("#<%= @tzami_cat %>.cat_tzamia").trigger('click');
          //$("#"+"<%= @lastixa %>").click();
        }
        //setTimeout(function() { do_pr_de_de(de_de) }, 500);
        //setTimeout(do_pr_ar_ar(ar_ar), 500);
    }

    /*
    function do_pr_de_de(de_de) {
       $( "input[value="+de_de+"][name='optradio_d']" ).trigger('click');
       $( ".arithmos_profil_deksia" ).trigger('click');
       setTimeout(do_col_de, 500);
    }

    function do_col_de() {
        $(".color_deksia_profil").each(function( index ) {
        if( $( this ).attr("id") == "<%= @color_de %>" ){
          $( this ).trigger('click');
        }
      });
      
       
    }
    */

    function do_pr_pa(pa_pr,pa_pa,poio) {
        if (typeof pa_pr !== "undefined") {
          $( "#panw" ).trigger('click');
          //width_profil_a = ar_pr;
          //prof = ar_pr;
          //profil_aristera_new = prof;
          //$(".penintaduo").each(function( index ) {
          //  if( $( this ).attr("id") == de_pr ){
          //    $( this ).css("background-color","#666666");
          //    $( this ).css("color","white");
          //  }
          //});
          
          window.pa_pr = pa_pr;
          window.pa_pa = pa_pa;
          $(".penintaduo").each(function( index ) {
            if( $( this ).attr("id") == pa_pr ){
              if ( poio == 1 ){
                  YES_TYP_PA = true;
              }else if ( poio == 2 ){
                  YES_TYP_PA2 = true;
              }else{
                  YES_TYP_PA3 = true;
              }
              
              $( this ).trigger('click');
            }
          });
          
          //$("#<%= @tzami_cat %>.cat_tzamia").trigger('click');
          //$("#"+"<%= @lastixa %>").click();
        }
        //setTimeout(function() { do_pr_pa_pa(pa_pa) }, 500);
        //setTimeout(do_pr_ar_ar(ar_ar), 500);
    }

    /*
    function do_pr_pa_pa(pa_pa) {
       $( "input[value="+pa_pa+"][name='optradio_p']" ).trigger('click');
       $( ".arithmos_profil_panw" ).trigger('click');
       setTimeout(do_col_pa, 500);
    }

    function do_col_pa() {
        $(".color_panw_profil").each(function( index ) {
        if( $( this ).attr("id") == "<%= @color_pa %>" ){
          $( this ).trigger('click');
        }
      });
      
       
    }
    */

    function do_pr_ka(ka_pr,ka_ka,poio) {
        if (typeof ka_pr !== "undefined") {
         
          $( "#katw" ).trigger('click');
          //width_profil_a = ar_pr;
          //prof = ar_pr;
          //profil_aristera_new = prof;
          //$(".penintaduo").each(function( index ) {
          //  if( $( this ).attr("id") == de_pr ){
          //    $( this ).css("background-color","#666666");
          //    $( this ).css("color","white");
          //  }
          //});
          
          window.ka_pr = ka_pr;
          window.ka_ka = ka_ka;
          $(".penintatria").each(function( index ) {
            if( $( this ).attr("id") == ka_pr ){
              if ( poio == 1 ){
                  YES_TYP_KA = true;
              }else if ( poio == 2 ){
                  YES_TYP_KA2 = true;
              }else{
                  YES_TYP_KA3 = true;
              }
              
              $( this ).trigger('click');
            }
          });
          
          //$("#<%= @tzami_cat %>.cat_tzamia").trigger('click');
          //$("#"+"<%= @lastixa %>").click();
        }
        //setTimeout(function() { do_pr_ka_ka(ka_ka) }, 500);
        //setTimeout(do_pr_ar_ar(ar_ar), 500);
    }

    /*
    function do_pr_ka_ka(ka_ka) {
       $( "input[value="+ka_ka+"][name='optradio_k']" ).trigger('click');
       $( ".arithmos_profil_katw" ).trigger('click');
       setTimeout(do_col_ka, 500);
    }

    function do_col_ka() {
        $(".color_katw_profil").each(function( index ) {
        if( $( this ).attr("id") == "<%= @color_ka %>" ){
          $( this ).trigger('click');
        }
      });
      
       
    }
    */

    function do_tzamia() {
        if (typeof "<%= @tzami_cat %>" !== "undefined") {
         
          $(".cat_tzamia").each(function( index ) {
            if( $( this ).attr("id") == "<%= @tzami_cat %>" ){
              YES_TZAMIA = true;
              $( this ).trigger('click');
              //return true;
            }
          });
        }
        //setTimeout(do_tzamia_cat, 1000);
    }

    /*
    function do_tzamia_cat() {
        $(".tzamia_polla").each(function( index ) {
            if( $( this ).attr("id") == "<%= @tzami_id %>" ){
              $( this ).trigger('click');
            }
          }); 
        
    }
    */

    function do_tzamia2() {
        if (typeof "<%= @tzami2_cat %>" !== "undefined") {
          
          $(".cat_tzamia2").each(function( index ) {
            if( $( this ).attr("id") == "<%= @tzami2_cat %>" ){
              YES_TZAMIA2 = true;
              $( this ).trigger('click');
            }
          });
          //$("#<%= @tzami_cat %>.cat_tzamia").trigger('click');
          //$("#"+"<%= @lastixa %>").click();
        }
        
        //setTimeout(do_tzamia2_cat, 1000);
    }

    function do_tzamia0() {
        if (typeof "<%= @tzami0_cat %>" !== "undefined") {
         
          $(".cat_tzamia0").each(function( index ) {
            if( $( this ).attr("id") == "<%= @tzami0_cat %>" ){
              YES_TZAMIA0 = true;
              $( this ).trigger('click');
            }
          });
          //$("#<%= @tzami_cat %>.cat_tzamia").trigger('click');
          //$("#"+"<%= @lastixa %>").click();
        }
        
        //setTimeout(do_tzamia2_cat, 1000);
    }

    /*
    function do_tzamia2_cat() {
        $(".tzamia_polla2").each(function( index ) {
            if( $( this ).attr("id") == "<%= @tzami2_id %>" ){
              $( this ).trigger('click');
            }
          });
        
    }
    */

    function do_rolla() {
        if (typeof "<%= @cat_rolo %>" !== "undefined") {
          if ( "<%= @ti_rolo %>" == "ekso" ){
            $(".eksoterika").each(function( index ) {
            if( $( this ).attr("id") == "<%= @cat_rolo %>" ){
              YES_ROLLA_EK = true;
              $( this ).trigger('click');
            }
          });

          }else{
            $(".epikathimena").each(function( index ) {
            if( $( this ).attr("id") == "<%= @cat_rolo %>" ){
              YES_ROLLA_EP = true;
              $( this ).trigger('click');
            }
          });

          }
          
        }
        //setTimeout(do_rolla_upo, 1000);
    }

    /*
    function do_rolla_upo() {
        if ( "<%= @ti_rolo %>" == "ekso" ){
          $(".eksoterika_rola_polla").each(function( index ) {
          if( $( this ).attr("id") == "<%= @rolo_id %>" ){
            $( this ).trigger('click');
          }
        });
        }else{
          $(".epikathimena_rola_polla").each(function( index ) {
          if( $( this ).attr("id") == "<%= @rolo_id %>" ){
            $( this ).trigger('click');
          }
        });
        }
        //setTimeout(do_rolla_xrwma, 1000);     
    }

    function do_rolla_xrwma() {
        if ( "<%= @ti_rolo %>" == "ekso" ){
          $(".pl_rol_ek").val("<%= @pl_rolou_ek %>");
          $(".up_rol_ek").val("<%= @up_rolou_ek %>");
          $(".pl_rol_ek").trigger('blur');
          $(".up_rol_ek").trigger('blur');
          if( "<%= @kinisi_deksia_aristera %>" == "l" ){
            $(".kin_ek_ar").trigger('click');
          }else{
            $(".kin_ek_de").trigger('click');
          }
          $(".color_ekso").each(function( index ) {
          if( $( this ).attr("id") == "<%= @color_rolo %>" ){
            $( this ).trigger('click');
          }
        });
        }
        else{
          $(".pl_rol_ep").val("<%= @pl_rolou_ep %>");
          $(".up_rol_ep").val("<%= @up_rolou_ep %>");
          $(".pl_rol_ep").trigger('blur');
          $(".up_rol_ep").trigger('blur');
          if( "<%= @kinisi_deksia_aristera %>" == "l" ){
            $(".kin_ep_ar").trigger('click');
          }else{
            $(".kin_ep_de").trigger('click');
          }
          $(".color_epik").each(function( index ) {
          if( $( this ).attr("id") == "<%= @color_rolo %>" ){
            $( this ).trigger('click');
          }
        });
        }
        
    }
    */

    function do_persides() {
        if (typeof "<%= @persida_id %>" !== "undefined") {
         
          $(".perisdes").each(function( index ) {
            if( $( this ).attr("id") == "<%= @persida_id %>" ){
              YES_PERSIDES = true;
              $( this ).trigger('click');
            }
          });
          //$("#<%= @tzami_cat %>.cat_tzamia").trigger('click');
          //$("#"+"<%= @lastixa %>").click();
        }
        //setTimeout(do_persides_xrwma, 1000);
    }

    /*
    function do_persides_xrwma() {
          $(".pl_persidas").val("<%= @pl_persidas %>");
          $(".up_persidas").val("<%= @up_persidas %>");
          $(".pl_persidas").trigger('blur');
          $(".up_persidas").trigger('blur');
        if (typeof "<%= @persida_id %>" !== "undefined") {
        $(".color_pers").each(function( index ) {
        if( $( this ).attr("id") == "<%= @color_persida %>" ){
          $( this ).trigger('click');
        }
      });
      }
    }
    */

    function do_odoigous() {
        if (typeof "<%= @odoigos_id %>" !== "undefined") {
         
          $(".odoigoi").each(function( index ) {
            if( $( this ).attr("id") == "<%= @odoigos_id %>" ){
              YES_ODOIGOI = true;
              $( this ).trigger('click');
            }
          });
          if ( kanw_prwti_fora_odoigoi ){
            $(".odoigoi").each(function( index ) {
            if( $( this ).attr("id") == "<%= @odoigos_id %>" ){
              YES_ODOIGOI = true;
              $( this ).trigger('click');
            }
          });
          }
          if ( !kanw_prwti_fora_odoigoi ){
            kanw_prwti_fora_odoigoi = false;
          }
          //$("#<%= @tzami_cat %>.cat_tzamia").trigger('click');
          //$("#"+"<%= @lastixa %>").click();
        }
        //setTimeout(do_odoigous_xrwma, 1000);
    }
     

    
  }

  </script>